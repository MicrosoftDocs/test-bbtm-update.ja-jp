### YamlMime:Yaml
ms.openlocfilehash: b53e775d2ea4b51a438e216c8995315f1dd4fa4f
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139896392"
Slug: use-graphql-with-hasura-and-azure-database-for-postgresql
Title: Hasura と Azure Database for PostgreSQL で GraphQL を使用する
Summary: Azure Database for PostgreSQLは、フル マネージドのエンタープライズ対応コミュニティ PostgreSQL データベースをサービスとして提供します。 PostgreSQL Community エディションを使用すると、既存のアプリをクラウドに簡単に移行したり、選択した言語とフレームワークを使用してクラウドネイティブ アプリケーションを開発したりするのに役立ちます。
Content: >-
  <p><a href="https://azure.microsoft.com/services/postgresql/" target="_blank">Azure Database for PostgreSQL</a> は、フル マネージドのエンタープライズ対応コミュニティ PostgreSQL データベースをサービスとして提供します。 PostgreSQL コミュニティ エディションは、選択した言語とフレームワークを使用して、既存のアプリをクラウドに簡単に移行したり、クラウドネイティブ アプリケーションを開発したりするのに役立ちます。 このサービスは、組み込みの高可用性などの業界をリードするイノベーションを提供し、99.99% の SLA を備えています。レプリカを設定する必要なく、顧客は 2 倍のコストを節約できます。 また、この機能により、お客様は数秒でコンピューティングをスケールアップまたはスケールダウンできます。これにより、ワークロードの需要の変化に簡単に調整できます。</p>


  <p>さらに、Query Performance Insight やパフォーマンスに関する推奨事項などの組み込みのインテリジェントな機能は、Postgres データベースのパフォーマンスを最適化するためのカスタマイズされた推奨事項と分析情報を提供することで、総保有コスト (TCO) をさらに削減するのに役立ちます。 これらの利点は、他に類を見ないセキュリティとコンプライアンス、Microsoft Azure&rsquo; 業界をリードするグローバルなリーチ、Azure IP Advantage と組み合Azure IP Advantage により、お客様はデータベースではなくビジネスやアプリケーションに集中できます。</p>


  <p>より広範な Postgres コミュニティの一部として、コミュニティ内の他のユーザーに貢献し、パートナーと提携し、新しい機能をユーザーに提供Azure Database for PostgreSQLです。 Postgres データベースでリアルタイムの GraphQL API をすぐに提供できる軽量でハイ パフォーマンスのオープンソース製品である Hasura GraphQL エンジンを利用できます。 この投稿では、GraphQL と一緒に使用する方法の概要をAzure Database for PostgreSQL。</p>


  <h2>GraphQL とは</h2>


  <p>GraphQL は API のクエリ言語であり、データベース クエリを実行するサーバー側ランタイムです。 GraphQL 仕様は、公開されているフィールドに対して CRUD クエリを実行するために、主にフロントエンド開発者である API のユーザーが使用できる型指定されたスキーマを中心にしています。 基&rsquo;になるデータベースまたはデータソースに依存しない。 GraphQLs の&rsquo;主な利点の 1 つは、クライアントがサーバーから必要なものを正確に指定し、予測可能な方法でデータを受信できるという利点です。 GraphQL は、REST API を使用するときに直面する一般的なハードルに対するソリューションを提供し、現在、製品開発サイクルを高速化するために広く採用されています。</p>


  <h2>Hasura GraphQL エンジン</h2>


  <p><a href="https://github.com/hasura/graphql-engine" target="_blank">Hasura GraphQL エンジン</a>は軽量でハイ パフォーマンスのオープンソース製品であり、Postgres データベース上でリアルタイムの GraphQL API を即座に提供します。 このエンジンには、GraphQL API の探索とデータベース スキーマとデータの管理に役立つ管理 UI が付属しています。</p>


  <p>Hasuras&rsquo; GraphQL エンジンを使用すると、スキーマの組み合わせでカスタム リゾルバーを記述したり、データベース イベントでトリガーされるサーバーレス関数またはマイクロサービス API を統合したりすることもできます。 Hasuras&rsquo; GraphQL を使用すると、3 要素アプリ <a href="https://3factor.app/" target="_blank">を簡単に構築できます</a>。 詳細については、Hasura に関する記事 <a href="https://hasura.io" target="_blank">を参照してください</a>。</p>


  <h2>GraphQL を使用したAzure Database for PostgreSQL</h2>


  <p>Azure で実行されているデータベースが既に存在し、そのデータベースで GraphQL を使用する場合は、以下の「既存の Azure Database for PostgreSQL を使用した GraphQL &quot;の操作」セクションに直接移動&quot; してください。</p>


  <p>Hasuras&rsquo; GraphQL の 1 回クリックでデプロイすると、5 分以内に azure で Azure Database for PostgreSQL サーバーを使用してリアルタイムの GraphQL API を取得できます。</p>


  <p>概要 [ <strong>Azure</strong> にデプロイ] を選択すると、GraphQL と一緒に使用する準備としてAzure portalが開Azure Database for PostgreSQL。 ログインを求めるメッセージが表示されたら、Azure portal資格情報を入力して続行します。</p>


  <p><a href="https://portal.azure.com/#create/Microsoft.Template/uri/https%3a%2f%2fraw.githubusercontent.com%2fhasura%2fgraphql-engine%2fmaster%2finstall-manifests%2fazure-container-with-pg%2fazuredeploy.json" target="_blank"><img alt="Deploy to Azure button" border="0" height="34" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/cf3b5ff0-43fd-4698-a93f-90a6226f5948.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="[Azure にデプロイ] ボタン" width="161"></a></p>


  <p>このデプロイでは、Azure Container Instancesを使用して Hasuras&rsquo; GraphQL をデプロイし<a href="https://azure.microsoft.com/services/postgresql/" target="_blank"></a>、Azure Database for PostgreSQL Postgres インスタンスをプロビジョニングします。</p>


  <h2>既存のグラフを使用した GraphQL のAzure Database for PostgreSQL</h2>


  <p>Azure に PostgreSQL データベースが既にある場合は、Hasuras&rsquo; GraphSQL をそのデータベースに接続し、アプリケーションの他の部分に影響を与えることなく GraphQL API を使用できます。</p>


  <p>概要[ <strong>Azure</strong> にデプロイ] グラフィックを選択すると、GraphQL と既存の Azure Database for PostgreSQL データベースを操作する準備として Azure portal が開きます。 ログインを求めるメッセージが表示されたら、Azure portal資格情報を入力して続行します。</p>


  <p><a href="https://portal.azure.com/#create/Microsoft.Template/uri/https%3a%2f%2fraw.githubusercontent.com%2fhasura%2fgraphql-engine%2fmaster%2finstall-manifests%2fazure-container%2fazuredeploy.json" target="_blank"><img alt="Deploy to Azure button" border="0" height="34" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/45a9141b-2a2a-48c8-9cd7-19a90f0bbba5.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="[Azure にデプロイ] ボタン" width="161"></a></p>


  <p>このデプロイでは、Azure Container Instancesを使用して Hasura をデプロイし、既存のインスタンス <a href="https://azure.microsoft.com/services/postgresql/" target="_blank">Azure Database for PostgreSQLします</a>。</p>


  <h2>Hasuras GraphQL エンジンでは他&rsquo;に何ができますか?</h2>


  <h3>リアルタイム API を使用する準備ができていることを確認する</h3>


  <p>並べ替え、フィルター処理、改ページ、および集計のための SQL などの型や演算子は、一式でサポートされています。 詳細については、クエリと変更のための Hasuras&rsquo; の強力 <a href="https://docs.hasura.io/1.0/graphql/manual/queries/index.html" target="_blank">な構文</a> に関する記事 <a href="https://docs.hasura.io/1.0/graphql/manual/mutations/index.html" target="_blank">を参照してください</a>。</p>


  <p>Hasura には、クエリの結果に対するリアルタイムの更新を取得するために、 <a href="https://docs.hasura.io/1.0/graphql/manual/subscriptions/index.html" target="_blank">GraphQL</a> にサブスクリプションと呼ばれるライブ クエリも組み込まれています。 Websocket 接続を処理するコードを記述する必要はありません。</p>


  <h3>承認を追加する</h3>


  <p>Hasuras&rsquo; の詳細なロールベースのアクセス許可システムを使用すると、任意のサード パーティと統合されるデータの列と行レベルのアクセス制御規則を構成できます。 JWT または Webhook を使用して、独自のカスタム認証サービスと統合できます。 承認の追加の詳細については、Hasuras のドキュメント「認証&rsquo;/アクセス制御<a href="https://docs.hasura.io/1.0/graphql/manual/auth/index.html" target="_blank">」</a>&ldquo;を参照してください。&rdquo;</p>


  <h3>カスタム ビジネス ロジックを追加する</h3>


  <p>GraphQL エンジンは、リモート GraphQL スキーマなどのカスタム ビジネス ロジックのゲートウェイ <a href="https://docs.hasura.io/1.0/graphql/manual/remote-schemas/index.html" target="_blank">として使用できます</a>。 お気に入りの言語で独自の GraphQL サーバーを記述し、1 つのエンドポイントで公開できます。 Hasura はスキーマのスティングを行います。</p>


  <h3>データベース Azure Functionsのトリガー</h3>


  <p>Hasura は、挿入、更新 <a href="https://azure.microsoft.com/en-us/services/functions/" target="_blank">Azure Functions</a> 削除などのデータベース イベントに対して、サーバーレス のイベントまたは Webhook をトリガーできます。 新しく登録されたユーザーにウェルカム メールを&ldquo;&rdquo;送信するなどの非同期ビジネス ロジックを実行するために使用できます。 Hasura Web サイトでサーバーレス Azure Functions Webhook をトリガーする方法の詳細については、<a href="https://hasura.io/event-triggers" target="_blank">Hasuras</a>&rsquo;&ldquo; のドキュメント「イベント トリガー」<a href="https://docs.hasura.io/1.0/graphql/manual/event-triggers/index.html" target="_blank">を参照してください</a>。&rdquo;</p>


  <h2>次の手順</h2>


  <p>概要 <a href="https://aka.ms/CreateazurePostgreSQLDB" target="_blank">PostgreSQL</a> サーバーを作成しましょう。 詳細については、概要Azure Database for PostgreSQLドキュメント「概要」 &ldquo;<a href="https://docs.microsoft.com/azure/postgresql/overview" target="_blank">を</a>参照Azure Database for PostgreSQL。&rdquo;</p>


  <p>引き続き、次に表示する機能に関する <a href="https://feedback.azure.com/forums/597976-azure-database-for-postgresql" target="_blank">UserVoice</a> フィードバックを提供してください。 ヘルプが必要な場合、または質問がある場合は、次のドキュメントを &ldquo;<a href="https://docs.microsoft.com/en-us/azure/postgresql/" target="_blank">Azure Database for PostgreSQLしてください</a>。&rdquo;</p>


  <p>Hasura に関連するサポートとフィードバックについては、 <a href="https://discord.gg/3FNQnWj" target="_blank">Discord を使用してください</a>。 Hasuras 製品の更新プログラム (&rsquo;) に従って実行できます <a href="https://twitter.com/hasurahq" target="_blank">@HasuraHQ</a>。</p>


  <h2>謝辞</h2>


  <p>この投稿に対する投稿に対する Hasura チームの貢献に感謝します。</p>
