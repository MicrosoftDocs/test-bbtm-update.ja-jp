### YamlMime:Yaml
ms.openlocfilehash: 91a8d9685e4f7adc211e98886cd52420319eea81
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139905164"
Slug: orchard-cms-with-azure-cache-on-windows-azure-websites-waws
Title: Azure Web サイト (WAWS) Windows Azure Cache を使用した Orchard CMS
Summary: 現在の OrchardCMS サイトが Windows Azure Websites 上の複数のインスタンスで実行されている場合、何らかの形式の分散キャッシュを使用しない場合、キャッシュは異なるインスタンス間で同期しなきます。
Content: >-
  現在の <a href="https://www.orchardproject.net/" target="_blank">OrchardCMS</a> サイトが Windows Azure Websites 上の複数のインスタンスで実行されている場合、何らかの形式の分散キャッシュを使用せずに、ファーム内の異なるノード間でキャッシュが同期しなきます。


  すべての Web サイトにキャッシュ メカニズムが必要な場合は、パフォーマンスとアプリケーションのスケーラビリティを向上させる必要がある場合は、<a href="https://msdn.microsoft.com/en-us/library/windowsazure/gg278356.aspx" target="_blank">Windows Azure Cache (プレビュー)</a> が役立ちます。 ユーザーの負荷が増加しても、Azure Web サイトの応答性が向上する可能性があります。 このように分散型キャッシュ層を独立させると、データ層を単独でスケーリングできるようになることから、アプリケーション層でのコンピューティング リソースの使用効率が高まります。


  キャッシュは、時間、日、または数週間を意味する可能性があるデータを一時的に格納することを意図しています。 Azure Cache Service (プレビュー) Windowsの機能の一部を次に示します。

  <ul>
   <li>セッション状態とページ ASP.NET キャッシュ用の事前構築済みデータ プロバイダー</li>
   <li>XML、バイナリ データなど、シリアル化可能なマネージド オブジェクトをキャッシュして、いくつかの名前を指定します</li>
   <li>セキュリティで保護された専用キャッシュへのアクセス</li>
   <li>Azure で実行されている疎結合アプリケーション間でデータWindowsする</li>
  </ul>

  キャッシュ サービス (プレビュー) は、Basic、Standard、プレミアム の 3 つのレベルで利用できます。 詳細については、「 <a href="https://azure.microsoft.com/en-us/pricing/details/cache/" target="_blank">AzureCacheTiers」を参照してください</a> 。


  このチュートリアルでは、Azure キャッシュ サービスを使用して Azure Web サイトで実行する Orchard CMS サイトを構成する方法について説明します。 学習内容:

  <ol>
   <li>基本的な Azure キャッシュ サービス エンドポイントを作成する</li>
   <li>Azure キャッシュ サービス エンドポイントを使用するように Orchard CMS を設定する</li>
  </ol>

  <h4>基本的な Azure キャッシュ サービス エンドポイントを作成する</h4>

  まず、Azure 管理ポータルにログインし、 <a href="https://manage.windowsazure.com" target="_blank">新</a> しい Azure キャッシュ サービスを作成する必要があります


  <a href="https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/02/7612.Sunitha-MuthukrishnaOrchardCMSwithAzure-Cacheimage1.png-550x526.png"><img class="alignnone  wp-image-132901" alt="7612.Sunitha MuthukrishnaOrchardCMSwithAzure Cacheimage1.png-550x526" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/1685/7612.Sunitha-MuthukrishnaOrchardCMSwithAzure-Cacheimage1.png" width="551" height="249"></a>


  キャッシュ エンドポイントが作成されると、管理ポータルでキャッシュ サービス ダッシュボードにアクセスできます。


  <a href="https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/02/3058.Sunitha-MuthukrishnaOrchardCMSwithAzure-Cacheimage2.png-550x526.png"><img class="alignnone  wp-image-132891" alt="3058.Sunitha MuthukrishnaOrchardCMSwithAzure Cacheimage2.png-550x526" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/1685/3058.Sunitha-MuthukrishnaOrchardCMSwithAzure-Cacheimage2.png" width="1104" height="921"></a>


  <span style="font-size: 12px;">エンドポイント URL とプライマリ アクセス キーを</span><strong style="font-size: 12px;"></strong>メモします ([キーの管理] をクリックするとエンドポイント <span style="font-size: 12px;"> キーが表示されます)。</span>


  Azure キャッシュ エンドポイントの名前付きキャッシュを作成し、必要に応じて構成できます。 このチュートリアルでは、既定の名前付きキャッシュを使用しています。


  <a href="https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/02/7411.Sunitha-MuthukrishnaOrchardCMSwithAzure-Cacheimage3.png-550x526.png"><img class="alignnone  wp-image-132881" alt="7411.Sunitha MuthukrishnaOrchardCMSwithAzure Cacheimage3.png-550x526" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/1685/7411.Sunitha-MuthukrishnaOrchardCMSwithAzure-Cacheimage3.png" width="1104" height="281"></a>

  <h4>Azure キャッシュ サービス エンドポイントを使用するように Orchard CMS を設定する</h4>

  Orchard CMS Web サイトをお持ちでない場合は、 <a href="https://azure.microsoft.com/en-us/develop/net/tutorials/website-from-gallery/" target="_blank">WAWS で Orchard CMS Web サイトを作成する方法に関するページを参照してください</a> 。お客様の Orchard CMS Web サイトで Azure Cache サービスを使用するには、次のいずれかを実行できます。


  1. Azure 管理ポータルで Web サイト ダッシュボードにアクセスし、[構成] タブの下<strong>に次の </strong>[App 設定。


  <a href="https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/02/8284.Sunitha-MuthukrishnaOrchardCMSwithAzureCacheimage4.png-550x526.png"><img class="alignnone  wp-image-132871" alt="8284.Sunitha MuthukrishnaOrchardCMSwithAzureCacheimage4.png-550x526" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/1685/8284.Sunitha-MuthukrishnaOrchardCMSwithAzureCacheimage4.png" width="1097" height="749"></a>


  2. サイト <strong>web.config</strong>の下にあるプロパティを編集し、<em>&lt;appSettings の下に強調表示されているセクションを含める。&gt;</em> 


  <a href="https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/02/0003.11714.JPG-550x0.jpg"><img class="alignnone  wp-image-132861" alt="0003.11714.JPG-550x0" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/1685/0003.11714.JPG" width="538" height="213"></a>

  <pre>Restart your website in the Management portal to reflect the changes made to your website. That’s it you Orchard CMS website is using Azure cache service.</pre>

  <pre><a href="https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/02/6562.Sunitha-MuthukrishnaOrchardCMSwithAzure-Cacheimage5.png"><img class="alignnone  wp-image-132921" alt="6562.Sunitha MuthukrishnaOrchardCMSwithAzure Cacheimage5" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/1685/6562.Sunitha-MuthukrishnaOrchardCMSwithAzure-Cacheimage5.png" width="1159" height="116"></a></pre>

  <h4>パフォーマンス</h4>

  Web サイトのパフォーマンスに対する Azure Cache サービスの影響をテストするには、Web サイトで簡単なVisual Studioロード テストを実行する必要があります。詳細については、「ロード テスト<a href="https://msdn.microsoft.com/en-us/library/ms182594.aspx" target="_blank">を実行する方法Visual Studio参照してください。</a>


  注意点の 1 つは、購入したキャッシュ サイズに基づいて、物理容量が唯一の制限要因である点です。 Azure キャッシュ サービス (プレビュー) のクォータや調整はありません。

  <h4><strong>Monitoring </strong></h4>

  Azure 管理ポータルでは、キャッシュ ダッシュボードの [キャッシュ ダッシュボード] タブと [監視] タブ<strong></strong>を使用して<strong></strong>、サービスの正常性を監視できます。


  キャッシュ ダッシュボードには、キャッシュの正常性、サービスのさまざまなプロパティの使用状況と情報が表示されます。 詳細については、ダッシュボードを使用 <a href="https://msdn.microsoft.com/en-us/library/windowsazure/dn386136.aspx#MonitorDashboard" target="_blank">したキャッシュ サービスの監視に関するページを参照してください</a>。 [監視] タブを使用すると管理ポータルさまざまなサービス パフォーマンス カウンターを表示して問題をトラブルシューティングできます。 詳細については、「監視」タブを <a href="https://msdn.microsoft.com/en-us/library/windowsazure/dn386136.aspx#MonitorTab" target="_blank">使用したキャッシュ サービスの監視に関するページを参照してください。</a>

  <h4>その他のリソース</h4>

  <a href="https://docs.orchardproject.net/Documentation/Using-Windows-Azure-Cache" target="_blank">Azure Cache Windowsと Orchard CMS の使用</a>


  <a href="https://msdn.microsoft.com/en-us/library/windowsazure/07ef034e-4bfa-4d44-a328-bd13aa1578b2#WhatsNew" target="_blank">Azure Cache Service (プレビュー) Windowsの新機能</a>


  <a href="https://www.windowsazure.com/en-us/manage/services/cache/net/how-to-cache-service/#next-steps" target="_blank">Windows Azure キャッシュ サービス (プレビュー) の使用方法</a>


  <a href="https://msdn.microsoft.com/library/WindowsAzure/dn386108.aspx">Azure Cache Service Windowsへの移行 (プレビュー)</a>


  Azure キャッシュのWindowsガイダンス
