### YamlMime:Yaml
ms.openlocfilehash: ea71cf474699a25a0a5da930e56805883852ff0d
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139892719"
Slug: scalable-umbraco-cms-solution-for-azure-web-apps
Title: Azure Web Apps 向けのスケーラブルな Umbraco CMS ソリューション
Summary: Azure Resource Manager テンプレートを使用して、Azure Web Apps 用の Umbraco CMS ソリューションを構築してデプロイします。
Content: >-
  <p><a href="https://umbraco.com/">Umbraco CMS</a>は、ASP.NET framework を使用して動的な web アプリケーションを迅速に市場に投入するための一般的な .net ソリューションです。 Umbraco CMS の以前のバージョン &rsquo; では、azure Web Apps による自動スケールはサポートされていませんでしたが、最新の <a href="https://umbraco.com/follow-us/blog-archive/2015/8/21/umbraco-730-rc-and-courier-2510-beta-now-available">7.3 バージョン</a> のリリースでは、複数のインスタンスでアプリケーションを実行し、Azure Web Apps による自動スケールをサポートするための負荷分散が向上しています。 詳細については、Codegarden からこの <a href="https://vimeo.com/132815038">セッション</a> を確認してください。</p>


  <p><font><a href="https://azure.microsoft.com/en-us/documentation/templates/" target="_blank">Azure クイックスタートテンプレートギャラリー</a> </font>で、 <a href="https://azure.microsoft.com/en-us/documentation/templates/umbraco-cms-webapp-redis-cache/" target="_blank">スケーラブルな Umbraco CMS</a> アプリケーションをデプロイする ARM テンプレートを使用できるようになりました。 &rsquo;このテンプレートに含まれるものは次のとおりです。</p>


  <ul>
   <li><font style="font-weight: bold;">セッションの状態: </font>このテンプレートは、Azure Redis cache リソースを作成し、この新しく作成された redis キャッシュをセッション状態のキャッシュに使用するように Umbraco CMS web アプリを事前に構成します。</li>
   <li><font style="font-weight: bold;">メディアフォルダー:</font> Umbraco CMS は、既定ですべてのメディアコンテンツをファイルサーバーに格納します。また、Azure Web Apps は、Web アプリを実行しているすべてのインスタンスで使用される共有ドライブにファイルを格納します。 Web アプリの i/o 呼び出しが増えると、アプリのパフォーマンスも低下します。 メディアコンテンツは静的であるため、別のサーバーに保存することで、より迅速にサービスを提供できるため、web サイトの読み込み時間が短縮され &nbsp; ます。<strong>Azure blob storage</strong> <font style="font-weight: bold;"> </font>は、静的コンテンツに最適なソリューションです。 Blob storage を使用して Umbraco のプロバイダーを実装する方法については、こちらを参照してください。 このパッケージは、Azure ストレージリソースを作成し、すべてのアプリ &rsquo; のメディアコンテンツに対してそのストレージを使用するように UMBRACO CMS を事前に構成します。</li>
   <li><font style="font-weight: bold;">複数のインスタンス間での負荷分散: </font>Umbraco CMS (バージョン &lt; 7.3) は、調査 (Lucence engine ラッパー) を使用してサイトコンテンツのインデックスを作成します。 これにより、複数のインスタンスでアプリを実行する場合や、Lucene のインデックスでロックする場合に、負荷分散に関する多くの問題が発生する可能性があります。 以下のパッケージで使用されている Umbraco 7.3 では、この問題は解決されています。 &nbsp;負荷分散環境の設定は、クラウドベースの自動スケールアプライアンスを使用した構成について、 <a href="https://our.umbraco.org/documentation/Getting-Started/Setup/Server-Setup/load-balancing/flexible" target="_blank">ここ</a>で説明されているように、構成ファイルのいくつかの変更によって簡単に実現できます。 Umbraco の柔軟な負荷分散を使用するに<strong>は</strong>、
   <ul>
    <li>セットアップ 2 x Azure Web Apps-マスター (管理) 環境用、もう1つはフロントエンド環境用</li>
    <li>この2つの web アプリと共有される 1 x SQL サーバーをセットアップします。</li>
   </ul>
   </li>
  </ul>


  <h2>スケーラブルな Umbraco CMS をインストールする方法</h2>


  <ul>
   <li><a href="https://azure.microsoft.com/en-us/documentation/templates/" target="_blank">Azure クイックスタートテンプレートギャラリー</a>で、<a href="https://azure.microsoft.com/en-us/documentation/templates/umbraco-cms-webapp-redis-cache/" target="_blank">スケーラブルな Umbraco CMS テンプレート</a>にアクセスします。</li>
   <li><strong>[Deploy to Azure]</strong> (Azure にデプロイ) ボタンをクリックします。</li>
   <li>Azure の資格情報を使用して <a href="https://portal.azure.com/" target="_blank">azure プレビューポータル</a> にログインします。</li>
   <li>ポータルにすべての情報を入力します (イメージの下にあるパラメーターの一覧を参照してください)。</li>
  </ul>


  <blockquote>

  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/514f1681-17dc-415a-8f19-2e6244c3039e.png"><img align="left" alt="image" border="0" height="480" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/2e292a28-4f25-4352-ace9-10287db95a41.png" style="border: 0px currentColor; border-image: none; padding-top: 0px; padding-right: 0px; padding-left: 0px; float: left; display: inline; background-image: none;" title="絵" width="624"></a></p>

  </blockquote>


  <p>&nbsp;</p>


  <p>&nbsp;</p>


  <p>&nbsp;</p>


  <p>&nbsp;</p>


  <p>&nbsp;</p>


  <p>&nbsp;</p>


  <p>&nbsp;</p>


  <p>&nbsp;</p>


  <p>&nbsp;</p>


  <p>&nbsp;</p>


  <p>&nbsp;</p>


  <p>&nbsp;</p>


  <p>&nbsp;</p>


  <p>&nbsp;</p>


  <p>&nbsp;</p>


  <p>&nbsp;</p>


  <table border="1" cellpadding="0" cellspacing="0" width="1063">
   <tbody>
    <tr>
     <td valign="top" width="146">
     <p><b>パラメーター名</b></p>
     </td>
     <td valign="top" width="913">
     <p><b>説明</b></p>
     </td>
    </tr>
    <tr>
     <td valign="top" width="146">
     <p>siteName</p>
     </td>
     <td valign="top" width="913">
     <p>Azure Web アプリの名前</p>
     </td>
    </tr>
    <tr>
     <td valign="top" width="146">
     <p>hostingPlanName</p>
     </td>
     <td valign="top" width="913">
     <p>Azure Web App service プランの名前</p>
     </td>
    </tr>
    <tr>
     <td valign="top" width="146">
     <p>siteLocation</p>
     </td>
     <td valign="top" width="913">
     <p>Web アプリとホスティングプランの作成に使用する場所</p>
     </td>
    </tr>
    <tr>
     <td valign="top" width="146">
     <p>sku</p>
     </td>
     <td valign="top" width="913">
     <p>standard またはプレミアム Azure Web Apps の価格レベルを選択します。既定値は standard です</p>
     </td>
    </tr>
    <tr>
     <td valign="top" width="146">
     <p>workerSize</p>
     </td>
     <td valign="top" width="913">
     <p>ワーカーのサイズ (0 = 小、1 = 中、2 = 大)</p>
     </td>
    </tr>
    <tr>
     <td valign="top" width="146">
     <p>serverName</p>
     </td>
     <td valign="top" width="913">
     <p>SQL Azure DB サーバー名</p>
     </td>
    </tr>
    <tr>
     <td valign="top" width="146">
     <p>serverLocation</p>
     </td>
     <td valign="top" width="913">
     <p>データベースサーバーの場所です。最適なパフォーマンスを得るには、この場所が web アプリの場所と同じである必要があります。</p>
     </td>
    </tr>
    <tr>
     <td valign="top" width="146">
     <p>administratorLogin</p>
     </td>
     <td valign="top" width="913">
     <p>SQL Azure DB 管理者ユーザーログイン</p>
     </td>
    </tr>
    <tr>
     <td valign="top" width="146">
     <p>administratorLoginPassword</p>
     </td>
     <td valign="top" width="913">
     <p>データベース管理者のユーザーパスワード</p>
     </td>
    </tr>
    <tr>
     <td valign="top" width="146">
     <p>databaseName</p>
     </td>
     <td valign="top" width="913">
     <p>データベース名</p>
     </td>
    </tr>
    <tr>
     <td valign="top" width="146">
     <p>edition</p>
     </td>
     <td valign="top" width="913">
     <p>SQL DB Sku: Standard、プレミアム</p>
     </td>
    </tr>
    <tr>
     <td valign="top" width="146">
     <p>storageName</p>
     </td>
     <td valign="top" width="913">
     <p>ストレージ アカウント名</p>
     </td>
    </tr>
    <tr>
     <td valign="top" width="146">
     <p>storageAccountType</p>
     </td>
     <td valign="top" width="913">
     <p>Storage 勘定科目の種類: standard-LRS、standard-GRS、standard-RAGRS、standard-zrs</p>
     </td>
    </tr>
    <tr>
     <td valign="top" width="146">
     <p>redisCacheName</p>
     </td>
     <td valign="top" width="913">
     <p>Redis Cache 名</p>
     </td>
    </tr>
    <tr>
     <td valign="top" width="146">
     <p>redisCacheSKU</p>
     </td>
     <td valign="top" width="913">
     <p>Redis Cache Sku-Basic、Standard</p>
     </td>
    </tr>
    <tr>
     <td valign="top" width="146">
     <p>redisLocation</p>
     </td>
     <td valign="top" width="913">
     <p>Redis cache リソースに使用する場所です。これは、web アプリの場所と同じである必要があります</p>
     </td>
    </tr>
    <tr>
     <td valign="top" width="146">
     <p>redisCacheCapacity</p>
     </td>
     <td valign="top" width="913">
     <p>Redis Cache 容量、キャッシュ層名 C0 を表す0から6までの値を指定します。</p>
     </td>
    </tr>
    <tr>
     <td valign="top" width="146">
     <p>nonAdminDatabaseUsername</p>
     </td>
     <td valign="top" width="913">
     <p>管理者以外のデータベースユーザー。一意である必要があります</p>
     </td>
    </tr>
    <tr>
     <td valign="top" width="146">
     <p>nonAdminDatabasePassword</p>
     </td>
     <td valign="top" width="913">
     <p>管理者以外のデータベースユーザーのパスワード</p>
     </td>
    </tr>
   </tbody>
  </table>


  <ul>
   <li>リソースグループ名を入力し、サブスクリプションを選択します。 注: <em><strong><u>最適なパフォーマンスを得るには、すべてのリソース (azure Web App + &nbsp; Azure Storage &nbsp;  + &nbsp; azure Redis cache + SQL Azure DB) が同じリージョンに存在している必要があり</u></strong>ます。</em></li>
  </ul>


  <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/92af2bfd-1f75-4c82-bd22-7e905bc86b3e.png"><img alt="image" border="0" height="188" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/1ec69d29-ea66-41f2-802e-e28161b9ce60.png" style="border: 0px currentColor; border-image: none; padding-top: 0px; padding-right: 0px; padding-left: 0px; display: inline; background-image: none;" title="絵" width="240"></a></p>


  <ul>
   <li>[ <strong>作成</strong> ] をクリックしてデプロイを開始します。 Umbraco CMS ソリューションの実行とスケールは、Azure Web Apps で行うことができます。 テンプレートのデプロイには時間がかかることに注意してください。</li>
  </ul>


  <h2>リファレンス</h2>


  <p><a href="https://our.umbraco.org/documentation/" target="_blank">Umbraco CMS の概要</a></p>


  <p><a href="https://our.umbraco.org/projects/" target="_blank">Umbraco プロジェクトを使用した Umbraco CMS の拡張</a></p>
