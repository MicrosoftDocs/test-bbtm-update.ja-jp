### YamlMime:Yaml
ms.openlocfilehash: c550df3135bf8bb6d51f731c0d7aeec66400978c
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139905135"
Slug: powershell-script-sample-backup-restore-on-windows-azure-iaas
Title: 'PowerShell のサンプル スクリプト: Azure Iaas &でのバックアップWindows復元'
Summary: バックアップと復元は、実際のシステムを運用するために重要です。&nbsp;&nbsp;この記事では、 で実行されている VM から Windows Server システム ディスクをバックアップおよび復元するプロセスについて説明します。
Content: '<p>バックアップと復元は、実際のシステムを運用するために重要です。&nbsp;&nbsp;この記事では、PowerShell を使用して Windows Azure IaaS 環境で実行されている VM から Windows Server システム ディスクをバックアップおよび復元するプロセスについて説明します。 &nbsp; &nbsp;</p>  <p>次の手順に従って、PowerShell を使用して Windows Azure IaaS 環境で実行されている VM から Windows Server システム ディスクをバックアップおよび復元します。</p>  <p>バックアップと復元のその他の&ldquo;方法については、「Azure IaaS&rdquo; 上のシステム ディスクをバックアップWindows復元する方法Windows参照してください。</p>  <p>Blob のコピー操作自体は、システム ディスク上の 127 GB のWindows完了します。</p>  <p>このサンプル スクリプトの基本プロセスは次のとおりです。</p>  <p><strong>Backup</strong></p>  <ol>  <li>VM をシャットダウンします。</li>  <li>VHD をバックアップの場所にコピーします。</li>  <li>VM を起動します。</li>  </ol>  <p><strong>復元</strong></p>  <ol>  <li>VM をシャットダウンします。</li>  <li>VM を削除します。</li>  <li>VHD を削除します。</li>  <li>VHD をコピーします。</li>  <li>VM を作成します。</li>  <li>VM を起動します。</li>  </ol>  <p>このサンプルでは、仮想ネットワークにターゲット VM が含まれると仮定しています。 また、このスクリプトは、システム ディスクWindows、このスクリプトが実行されるローカル ファイル システムへの依存関係を持つ場合にのみ使用されます。 スクリプトにエラー処理コードはありません。 必要なエラー処理コードは環境によって異なります。 また、これらのスクリプトでは、サービス名と VMname がパラメーターとして想定されています。 また、この復元スクリプトでは、復元操作が実行される前に VM が存在することを前提とします。&nbsp;</p>  <h4>サンプル スクリプト - backup.ps1</h4>  <p><img style="display: block; margin-left: auto; margin-right: auto;" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/8838.Screen-Shot-2013_2D00_06_2D00_18-at-9.25.48-AM.png" alt="" border="0"></p>  <h4>サンプル スクリプト - restore.ps1&nbsp;</h4>  <p><img style="display: block; margin-left: auto; margin-right: auto;" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/5518.Screen-Shot-2013_2D00_06_2D00_18-at-9.29.44-AM.png" alt="" border="0"><br><img style="display: block; margin-left: auto; margin-right: auto;" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/1651.Screen-Shot-2013_2D00_06_2D00_18-at-9.30.31-AM.png" alt="" border="0"></p>  <p><strong>共同作成者</strong>: Nozomu Misse、Juergen Thomas、Nicholas Drgors、James Podgorski、Gaurav Gupta、Sanjay Mishra、Dan Reger&nbsp;</p>'
