### YamlMime:Yaml
ms.openlocfilehash: 9bb905adef59eb88d3ac0e066de3a73b9b53fd28
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139891183"
Slug: azure-automation-in-depth-runbook-authoring
Title: 'Azure Automation 詳細: Runbook の作成'
Summary: Azure Automation の runbook は、最初は厄介でもかまいませんが、トレーニングを簡単に行うことができます。 このブログの投稿では、runbook をより効果的に記述して使用するために役立ついくつかの Azure Automation 機能について詳しく説明します。また、実際の runbook nirvana を実現するためのベストプラクティスと一般的な問題についても説明します。
Content: >-
  <p><strong>更新プログラム 1/8/2016: Azure Automation での runbook の作成に関する最新情報については、 <a href="https://azure.microsoft.com/en-us/blog/azure-automation-graphical-and-textual-runbook-authoring/">このブログの投稿</a>を参照してください。</strong></p>


  <h2>はじめに</h2>


  <p>Microsoft Azure の新しい<a href="https://azure.microsoft.com/en-us/documentation/services/automation/">Automation サービス</a>により、DevOps は、時間がかかり、エラーが発生しやすいタスクを自動化できるようになりました。これらのタスクは、システムとプロセスをまたいで、Azure の運用にかかる時間を短縮できます。 Azure Automation がこの値を提供できる方法は、IT とビジネスプロセスを自動化するロジックを含む runbook &ndash; PowerShell ワークフローという概念を使用することです。 Runbook は最初は厄介ですが、簡単にトレーニングできます。 このブログの投稿 &rsquo; では、runbook をより効果的に記述して使用するために役立ついくつかの Azure Automation 機能について説明します。また、実際の runbook nirvana を利用するためのベストプラクティスと一般的な問題についても説明します。 Automation または Automation runbook の背景を既に持っていない場合は、「 <a href="https://channel9.msdn.com/Events/Build/2014/3-621#time=30m58s">Azure Automation のビルド</a>に関するお知らせ」と「Runbook の<a href="https://technet.microsoft.com/library/dn469262.aspx">概念</a>」を参照して、いくつかの概要情報を確認してから、以下の手順に進んでください。 &rsquo; &nbsp;</p>


  <h2>Runbook のライフサイクル</h2>


  <p>Runbook の作成と編集の Azure Automation 機能について説明する前に、 &rsquo; runbook を管理する方法について説明します。これにより、ユーザーまたは仕事仲間 &rsquo; が、運用中の runbook を誤って実行することを回避できます。 Azure Automation の runbook には、公開 &rdquo; バージョンと &ldquo; ドラフト &rdquo; バージョンの &ldquo; 概念があります。 新しい runbook を作成するとき、runbook をインポートするとき、または単に現在の運用 runbook をより良くする場合は、作業する runbook が &ldquo; ドラフト &rdquo; バージョンになります。 Runbook の下書きで作業したり、保存したり、ブラウザーを閉じたり、後で作業したりすることができます。その際、仕事仲間 (またはお客様の forgetful 使用した自己) が実稼働リソースに対して実行しようとする心配はありません。 &rsquo;Runbook の下書きが primetime の準備ができていることを確認したら、それを発行します。この時点で、この runbook がポータル、コマンドレット、または別の runbook から開始されたときに実行される runbook のバージョンになります。 注意すべき点として、既に発行済みのバージョンがある runbook の下書きを発行する場合、既に実行されている runbook ジョブは、そのジョブが中断および再開された場合でも、そのジョブが開始した以前の発行済みのバージョンを引き続き使用します。 現在処理中の既存のジョブを中断しないように、下書きを発行した後に開始された、この runbook の新しいジョブのみが新しく公開されたバージョンを使用します。 Azure Automation はバックエンドのバックグラウンドで、発行された古いバージョンの runbook を継続的に保存しますが、 &rsquo; 現在発行されている古いバージョンに runbook を戻す方法を公開していません。 ただし、発行された古いバージョンの runbook にアクセスする必要がある場合は、Azure portal でそれを使用していた古いジョブを見つけて、[ジョブ &rsquo; s の履歴 &rdquo; ] タブをクリックし、[ソースの表示] をクリック &ldquo; して、そのジョブに対して実行された runbook バージョンのソースを表示できます。 &rdquo; &ldquo;次のスクリーンショットは、runbook が3つの状態 &ndash; &ldquo; で新規、 &rdquo; &ldquo; 編集、 &rdquo; &ldquo; 発行された runbook ビューを示しています。 &rdquo; &ldquo;[新規 &rdquo; ] を使用すると、runbook には下書きが含まれ、実稼働バージョンはありません (この runbook を最近作成またはインポートした可能性があります)。 &ldquo;公開 &rdquo; とは、runbook には実稼働バージョンのみが含まれており、現時点ではドラフトバージョンが動作していないことを意味します。 &ldquo;[編集 &rdquo; ] では、runbook の実稼働バージョンと、他のユーザーが現在作業しているドラフトバージョンがあることを意味します。 選択した runbook が新しい状態に &ldquo; なっていることに注意してください。実行する発行済みのバージョンがないため、 &ldquo; [開始 &rdquo; ] ボタンが無効になってい &rdquo; ます。 &ldquo;発行 &rdquo; 済みまたは &ldquo; 編集 &rdquo; 中の runbook は、runbook の作成者によって動作していると認定されている発行済みのバージョンがあるため、開始できます。 <img alt="Azure Automation in Depth: Runbook Authoring" border="0" height="610" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/image001.png" style="margin: 0px auto; padding-left: 0px; padding-right: 0px; float: none; padding-top: 0px; border: 0px;" title="Azure Automation 詳細: Runbook の作成" width="542"> &nbsp; Runbook にドリルダウンして [作成者] タブを選択すると、runbook の発行済みバージョンと下書きバージョンの両方を表示できますが、下書き (以下のスクリーンショット) のみを編集および発行することができます。 この runbook が [作成] ページの [テスト &rdquo; ] ボタン以外 &ldquo; から開始された場合 (例: [開始 &rdquo; ] ボタンを使用して &ldquo; 開始し、スケジュールに従って開始した場合、別の runbook の一部としてインラインで呼び出されたコマンドレットの使用を開始した場合)、発行されたバージョンの runbook が実行されます。 <img alt="Azure Automation in Depth: Runbook Authoring" border="0" height="258" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/image003.png" style="margin: 0px auto; padding-left: 0px; padding-right: 0px; float: none; padding-top: 0px; border: 0px;" title="Azure Automation 詳細: Runbook の作成" width="480"> <img alt="Azure Automation in Depth: Runbook Authoring" border="0" height="269" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/image005.png" style="margin: 0px auto; padding-left: 0px; padding-right: 0px; float: none; padding-top: 0px; border: 0px;" title="Azure Automation 詳細: Runbook の作成" width="480"> &nbsp;下書きの runbook で子 runbook を使用している場合は、[作成] ページの [テスト &rdquo; ] ボタンを使用して &ldquo; 、このドラフトの親 runbook を実行しても、これらの子 runbook の公開済みバージョンが実行されます。 このため、親/子 runbook のセットを更新し、それぞれに変更を加える必要がある場合は、親 runbook をテストするときに、更新された子 runbook を使用するように、最初に子 runbook <b>を更新、 </b>テスト、および発行します。 また、この子 runbook の下書きを公開すると、この runbook が呼び出されるすべての場所で新たに発行されたバージョンが実行されるため、子 runbook には下位互換性があるため、この子 runbook を呼び出している &rsquo; runbook の既存の発行済みバージョンが失われることになります。 &nbsp;</p>


  <h2>同時編集</h2>


  <p>&ldquo;では、仕事をしている間 &rsquo; に他の &rdquo; ユーザーが下書き runbook を編集しようとするとどうなるでしょうか。いい質問。 複数のユーザーが Azure サブスクリプションと Azure Automation アカウントを共有していて、この問題を緩和するために何らかの作業を行っていることが予想されます。 &rsquo;他のユーザーが作業している runbook を編集しようとすることを防ぐことはできませんが、runbook ビューで runbook が編集 &rdquo; され &ldquo; ている場合は、このブログ記事の最初のスクリーンショットを参照してください。 <b>ベストプラクティス</b>として、 &rsquo; runbook の下書きを作成したユーザーではない場合は [編集 &rdquo; 中] &ldquo; &rdquo; と表示されて &ldquo; いる runbook の下書きを編集状態にすることをお勧めします。 Runbook &ldquo; が公開 &rdquo; 状態になるまで待機します。つまり、下書きがなく、この runbook の新しいバージョンで作業を開始したり、runbook の下書きを所有している他の自動化されたユーザーに作業を依頼したり、下書きに必要な更新を取得したり、下書きを破棄して更新を行うことができます。 &nbsp;</p>


  <h2>Runbook の作成機能</h2>


  <p>では、runbook の作成ページを開いて、runbook の作成を簡略化するために提供されているすべての特典を見てみましょう &rsquo; 。 <img alt="Azure Automation in Depth: Runbook Authoring" border="0" height="405" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/image007.png" style="margin: 0px auto; padding-left: 0px; padding-right: 0px; float: none; padding-top: 0px; border: 0px;" title="Azure Automation 詳細: Runbook の作成" width="610"> &nbsp; 上の図からわかるように、[作成] ページの [ドラフト] タブは、次の4つの部分に分かれています。</p>


  <ol>
   <li><b>エディターウィンドウ </b>は、PowerShell ワークフローを使用して、runbook を作成する領域です。</li>
   <li>[<b>出力] ウィンドウに</b>、この runbook の下書きの前回のテストジョブの状態と出力が表示されます。</li>
   <li><b>コマンドバーに </b>は、runbook の作成に役立つコマンドが用意されています。</li>
   <li><b>Runbook の一覧には </b>、Automation アカウントのすべての runbook が表示され、さまざまな runbook の作成ページ間をすばやく移動することができます。</li>
  </ol>


  <p>作成ページのコマンドバーを使用すると、次のタスクにアクセスできます。</p>


  <ul>
   <li><b>管理</b> &ndash;<b></b>まだ存在しない runbook &rsquo; の特定の資産が必要であることがわかった場合は、作成環境を離れることなく、モジュールをインポートしたり設定を作成したりすることができます。</li>
   <li><b>挿入</b> &ndash;活動、runbook、または設定を runbook 定義に挿入します。 このタスクの詳細については、 &rsquo; この記事の後半で説明します。</li>
   <li><b>保存</b> &ndash;Runbook の下書きを保存します。これにより、ページを離れたままにして、最新のドラフトに戻ると、中断した箇所を取得できるようになります。</li>
   <li><b>下書き</b> &ndash; の破棄実際 &rsquo; には、この runbook を更新する必要はありません。<b> </b>この下書きを削除して、他のユーザーがこの runbook の下書きを操作できるようにします。 技術的には、この Automation アカウントを含む Azure サブスクリプションへのアクセス権を持つユーザーは、runbook の下書きを破棄できます。この下書きの作成者に限定されるわけではありません。 ただし、前述の「同時編集 &rdquo; 」セクションのこのブログ &ldquo; 記事で説明したベストプラクティスに従う必要があります。作成していないことがわかっ &rsquo; ている runbook の下書きを削除することは避けてください。</li>
   <li><b>テスト</b> &ndash;運用環境で実行されているかのように、このドラフト runbook の実行を開始します。 これにより、runbook の下書きが実行され、出力ウィンドウに出力がレポートされます。 テストは仮想的ではなく、実行されている<span style="color: #ff0000;">すべてのリソースに対して runbook が行うことが想定されていることに注意してください。 &rsquo; </span>このため、runbook のテストは非運用リソースに対してのみ実行する必要があります。 &rsquo;この記事の後半では、テストについてもう少し詳しく説明します。</li>
   <li><b>発行</b> &ndash;<b></b>この runbook は、完了しているものとして認定します。現在のドラフトをこの runbook の新しい公開バージョンとして発行します。</li>
  </ul>


  <p>&nbsp;</p>


  <h2>Runbook エディター</h2>


  <p>[作成] ページのほとんどの時間は、エディターペインを使用して使用します。 エディターペインには、Visual Studio Online &ldquo; モナコ &rdquo; コントロールに基づいて構築された強力な authoring tool が用意されています。 このエディターを使用して、PowerShell ISE を使用しているかのように、ブラウザーで runbook を記述することができます。 エディターには、PowerShell 構文の色分け、自動インデント、角かっこの一致、参照の強調表示、オートコンプリート、開発キーボードショートカット、および制限された intellisense が用意されています。 エディターウィンドウの使用に関するクイックヒントを次に示します。</p>


  <ul>
   <li>入力を開始すると、入力した単語がエディターによって自動完了されることがあります。 Tab キーを押してオートコンプリートオプションを選択するか、右矢印をクリックしてオートコンプリートを受け入れるか、または Ctrl + Space キーを押すと、スクロールして必要なオートコンプリートオプションの一覧を表示できます。</li>
  </ul>


  <p><img alt="Azure Automation in Depth: Runbook Authoring" border="0" height="356" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/image009.png" style="margin: 0px auto; padding-left: 0px; padding-right: 0px; float: none; padding-top: 0px; border: 0px;" title="Azure Automation 詳細: Runbook の作成" width="480"> <img alt="Azure Automation in Depth: Runbook Authoring" border="0" height="381" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/image010.png" style="margin: 0px auto; padding-left: 0px; padding-right: 0px; float: none; padding-top: 0px; border: 0px;" title="Azure Automation 詳細: Runbook の作成" width="610"></p>


  <ul>
   <li>コード内の単語をクリックすると、その単語が使用されている runbook 内のすべての場所が強調表示されるため、すべての参照を簡単に表示できます。</li>
  </ul>


  <p><img alt="Azure Automation in Depth: Runbook Authoring" border="0" height="261" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/image011.png" style="margin: 0px auto; padding-left: 0px; padding-right: 0px; float: none; padding-top: 0px; border: 0px;" title="Azure Automation 詳細: Runbook の作成" width="610"></p>


  <ul>
   <li>次のように、通常の開発環境でのようなキーボードショートカットを使用できます。
   <ul>
    <li>検索/置換 (Ctrl + F)</li>
    <li>すべて選択 (Ctrl + A)</li>
    <li>切り取り (Ctrl + X)</li>
    <li>コピー (Ctrl + C)</li>
    <li>貼り付け (Ctrl + V)</li>
    <li>元に戻す (Ctrl + Z)</li>
    <li>やり直し (Ctrl + Y)</li>
    <li>現在の単語のすべてのオートコンプリートオプションを表示します (Ctrl + Space)</li>
   </ul>
   </li>
   <li>Ctrl + F キーを押して [検索] メニューを開いたら、[検索] ボックスの左側にある灰色の領域をクリックして [置換] メニューを開くことができます。 Enter キーを押して、一致する項目を順番に切り替えます。 Esc キーを使用して [検索] メニューを閉じることができます。</li>
  </ul>


  <p><img alt="Azure Automation in Depth: Runbook Authoring" border="0" height="231" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/image013.png" style="margin: 0px auto; padding-left: 0px; padding-right: 0px; float: none; padding-top: 0px; border: 0px;" title="Azure Automation 詳細: Runbook の作成" width="610"> &nbsp; 注意点の1つとして、オートコンプリートによって表示されるオプションを提供する intellisense は、一般に PowerShell ではなく、エディターの内容のみを認識します。 つまり、この runbook では、オートコンプリート候補の候補として既に使用されているコードのみが考慮されます。 たとえば、上のスクリーンショットで、ドロップダウンオートコンプリートメニューが表示されている場合、以前に runbook で使用されていたすべてのオートコンプリートオプションを確認できます。 PowerShell では、条件に適合する書き込みの進行状況 &rdquo; のコマンドレットが用意さ &ldquo; れていますが、このコマンドレットは runbook で使用されていなかったため、このオートコンプリートのドロップダウンリストに表示されるようになっています。 今後のリリースでは、intellisense のインテリジェンスの向上に取り組んでいます。 &nbsp;</p>


  <h2>出力ペイン</h2>


  <p>また、出力ウィンドウを使用すると、かなりの時間を費やすことになります。 Runbook の作成時には、コマンドバーの [テスト] ボタンを使用して、runbook の下書きのコンテンツをテストするのが一般的です。 [出力] ウィンドウには、この runbook の下書きの最新のテストの状態と出力が表示されます。 [出力] ウィンドウは、runbook エディターと同じページに用意されているので、テストを開始して、そのテストの実行中に作成を続行することができます。 テストが完了したら、ページを切り替えることなく、必要に応じて出力を表示し、runbook の下書きを変更できます。 また、ウィンドウの上部にある青いバーをクリックすると、出力ウィンドウを展開したり折りたたんだりできます。ただし、必要に応じて表示されるようになりますが、作成 &rsquo; 用の画面領域は大きくなります。 <img alt="Azure Automation in Depth: Runbook Authoring" border="0" height="453" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/image015.png" style="margin: 0px auto; padding-left: 0px; padding-right: 0px; float: none; padding-top: 0px; border: 0px;" title="Azure Automation 詳細: Runbook の作成" width="610"> &nbsp; ここでは、可能な限り、出力ウィンドウを PowerShell コンソールと同様に表示するようにしました。 前述のように、runbook のストリーム出力が表示され、PowerShell コンソールでの色の設定と同様に、さまざまなストリームが色分けされます。 また、必要に応じて runbook を停止または中断し、runbook を中断した場合、または例外が発生した場合に runbook を再開することもできます。 エディターペインと同様に、出力ウィンドウをクリックし、Ctrl + F キーを押すと、探している runbook の出力 &rsquo; をすばやく検索できるように、[検索] メニューが表示されます。 Runbook の下書きをテストおよびトラブルシューティングするための [出力] ウィンドウの高度な使用方法については、runbook のテストとトラブルシューティングに関するブログ記事をご覧ください。 待機することはでき &rsquo; ますか? Service Management Automation の <a href="https://blogs.technet.com/b/orchestrator/archive/2014/01/16/sma-capabilities-in-depth-controlling-runbook-streams-for-testing-and-troubleshooting.aspx">Runbook のテストとトラブルシューティング</a> については、ローカルでインストール可能な対応する Azure Automation &rsquo; を参照してください。 Service Management Automation と Azure Automation は基本的に同じサービスであり、2つの異なる方法で配信されるため、コンテンツはほとんど同じです。 &nbsp;</p>


  <h2>Runbook、アクティビティ、および設定の検出と挿入</h2>


  <p>もう1つの便利なコマンドバーオプションは &ldquo; Insert &rdquo; です。 次のスクリーンショットでは、runbook、活動、または設定を挿入できることがわかります。 <img alt="Azure Automation in Depth: Runbook Authoring" border="0" height="161" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/image017.png" style="margin: 0px auto; padding-left: 0px; padding-right: 0px; float: none; padding-top: 0px; border: 0px;" title="Azure Automation 詳細: Runbook の作成" width="610"> &nbsp; これらすべての単語について質問することはできますか。 資産、設定、アクティビティ、コマンドレット、統合モジュール、PowerShell モジュールなど。次に進む前に、を使用 &rsquo; して、2つ目の用語を明確にします。 これらの用語は、混同する可能性のある類似した用語でグループ化されています。</p>


  <ul>
   <li><b>資産</b> &ndash;依存関係が1つ以上の runbook に依存しています。 これには、統合モジュール、資格情報、スケジュール、接続、証明書、または変数を指定できます。 さまざまな種類の資産の詳細については、Ravi &rsquo; のブログ記事をご覧ください。</li>
   <li><b>設定</b> &ndash;1つまたは複数の活動によって runbook 内で使用される1つ以上の情報を含む資産。 資格情報、接続、証明書、および変数は設定です。 その他の2つの資産の種類 &ndash; の統合モジュールとスケジュールは、ではありません。</li>
  </ul>


  <p>&nbsp;</p>


  <ul>
   <li><b>PowerShell ワークフローアクティビティ</b> -純粋な PowerShell の人と話している場合、アクティビティ &rdquo; によって &ldquo; 、powershell ワークフローアクティビティを意味します。 Powershell ワークフローアクティビティは、powershell コマンドレットとは異なります。このコマンドレットは、runbook 内の関数とインラインスクリプトから呼び出すことができますが、PowerShell ワークフローアクティビティは呼び出せません。 Azure Automation では、ほとんどすべてのもの &rsquo; がコマンドレットまたはコマンドレットと PowerShell Workflow アクティビティの両方として実装されているため &rsquo; 、使用中であることを区別する必要がありません。 ただし、RunbookConstructs 統合モジュール内のすべてのアクティビティは、runbook の開発にとって非常に重要なものであり、PowerShell ワークフローアクティビティとしてのみ実装されているので、インラインスクリプトや runbook 内の関数内では使用できません。 PowerShell ワークフローアクティビティの詳細については、Don Jones による <a href="https://technet.microsoft.com/en-us/magazine/dn170429.aspx">この記事</a> をご覧ください。 これらの自動化によって提供される PowerShell ワークフローアクティビティの完全な一覧は次のとおりです。

   <ul>
    <li>Get-AutomationCertificate</li>
    <li>Get-AutomationConnection</li>
    <li>Get-AutomationPSCredential</li>
    <li>Get-AutomationVariable</li>
    <li>Set-AutomationVariable</li>
   </ul>
   </li>
   <li><b>Azure Automation アクティビティ</b> &ndash;<b> </b>Runbook 内の機能の1つ。 Azure Automation のコンテキストでは、アクティビティ &rdquo; という用語 &ldquo; は、powershell コマンドレットまたは powershell ワークフローアクティビティを指しています。 System Center Orchestrator で開始されたアクティビティ &rdquo; という用語 &ldquo; は、System Center Service Management Automation に引き継がれ、Azure Automation になりました。</li>
  </ul>


  <p>&nbsp;</p>


  <ul>
   <li><b>PowerShell モジュール</b> &ndash;Powershell スクリプト、ワークフロー、および runbook から使用できる PowerShell コマンドレットと PowerShell ワークフローアクティビティのグループ。</li>
   <li><b>統合モジュール</b> &ndash;必要に応じて、runbook 内のこのモジュール &rsquo; アクティビティで使用するオートメーション接続の種類を指定するメタデータファイルを含む PowerShell モジュール。 これは、基本的には、特に省略可能な追加ファイルを含む PowerShell モジュールであるため、多くの場合、これらは単純なモジュール &rdquo; とし &ldquo; て参照して Azure Automation ます。 統合モジュール &rdquo; という用語 &ldquo; は、Orchestrator の統合パック &rdquo; と &ldquo; powershell モジュールを &rdquo; 組み合わせ &ldquo; たものです。 Azure Automation 統合モジュールの詳細については、近日中に投稿されたブログ記事を参照してください (または、 <a href="https://blogs.technet.com/b/orchestrator/archive/2014/06/12/authoring-integration-modules-for-sma.aspx">このトピックの</a> Service Management Automation のブログ記事をご覧ください)。</li>
  </ul>


  <p>&nbsp; ここで、挿入機能に戻ります。 挿入 &rdquo; タスクを使用 &ldquo; すると、runbook で使用できるすべての runbook、設定、および活動を検出できます。また、作成を容易にするために挿入するための構文を使用できます。 たとえば、次のスクリーンショットは、[設定の挿入] ウィザードを示しています。ここでは、"testvariable &rdquo; " という名前 &ldquo; の変数を選択して、自分の runbook に追加しています。 次のように、設定の説明と値が表示されます。 <img alt="Azure Automation in Depth: Runbook Authoring" border="0" height="475" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/image018.png" style="margin: 0px auto; padding-left: 0px; padding-right: 0px; float: none; padding-top: 0px; border: 0px;" title="Azure Automation 詳細: Runbook の作成" width="610"> &nbsp; チェックマークをクリックすると、カーソルの現在の位置で、実行時にこの設定を取得するための構文が "マイ runbook" に挿入されます。 <img alt="Azure Automation in Depth: Runbook Authoring" border="0" height="195" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/image020.png" style="margin: 0px auto; padding-left: 0px; padding-right: 0px; float: none; padding-top: 0px; border: 0px;" title="Azure Automation 詳細: Runbook の作成" width="610"> <img alt="Azure Automation in Depth: Runbook Authoring" border="0" height="196" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/image021.png" style="margin: 0px auto; padding-left: 0px; padding-right: 0px; float: none; padding-top: 0px; border: 0px;" title="Azure Automation 詳細: Runbook の作成" width="610"> &nbsp; インライン runbook を挿入するためのウィザードは、挿入を設定するためのウィザードに似ています。 <img alt="Azure Automation in Depth: Runbook Authoring" border="0" height="480" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/image022.png" style="margin: 0px auto; padding-left: 0px; padding-right: 0px; float: none; padding-top: 0px; border: 0px;" title="Azure Automation 詳細: Runbook の作成" width="610"> &nbsp; ただし、次へ進む矢印をクリックすると、runbook の構文が表示されます。これは、実際に使用する runbook であるかどうかを判断するのに役立ちます。 <img alt="Azure Automation in Depth: Runbook Authoring" border="0" height="478" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/image024.png" style="margin: 0px auto; padding-left: 0px; padding-right: 0px; float: none; padding-top: 0px; border: 0px;" title="Azure Automation 詳細: Runbook の作成" width="610"> &nbsp; チェックボックスをオンにすると、完全な構文が runbook に挿入されます。これにより、パラメーターを簡単に入力し、編集中の runbook 内でこの runbook をインラインで呼び出すことができます。 <img alt="Azure Automation in Depth: Runbook Authoring" border="0" height="350" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/image026.png" style="margin: 0px auto; padding-left: 0px; padding-right: 0px; float: none; padding-top: 0px; border: 0px;" title="Azure Automation 詳細: Runbook の作成" width="610"> <img alt="Azure Automation in Depth: Runbook Authoring" border="0" height="311" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/image027.png" style="margin: 0px auto; padding-left: 0px; padding-right: 0px; float: none; padding-top: 0px; border: 0px;" title="Azure Automation 詳細: Runbook の作成" width="610"> &nbsp; 最後に、ここでは、アクティビティ挿入ウィザードを使用します。これにより、Azure Automation システム内のすべてのモジュールと、選択したモジュールのすべてのアクティビティを表示できます。 <img alt="Azure Automation in Depth: Runbook Authoring" border="0" height="471" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/image028.png" style="margin: 0px auto; padding-left: 0px; padding-right: 0px; float: none; padding-top: 0px; border: 0px;" title="Azure Automation 詳細: Runbook の作成" width="610"> &nbsp; ウィザード &rsquo; には、組み込みの検索機能が用意されていませんが、ブラウザー &rsquo; の検索機能 (Ctrl + F) を使用して、必要なコマンドレットを検索できます。 これは、設定および runbook の挿入ウィザードでも実行できます。 <img alt="Azure Automation in Depth: Runbook Authoring" border="0" height="436" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/image030.png" style="margin: 0px auto; padding-left: 0px; padding-right: 0px; float: none; padding-top: 0px; border: 0px;" title="Azure Automation 詳細: Runbook の作成" width="610"> &nbsp; アクティビティをクリックすると、その説明とヘルプリンクがこのコマンドレットの PowerShell モジュールで指定されている場合に表示されます。 <img alt="Azure Automation in Depth: Runbook Authoring" border="0" height="205" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/image032.png" style="margin: 0px auto; padding-left: 0px; padding-right: 0px; float: none; padding-top: 0px; border: 0px;" title="Azure Automation 詳細: Runbook の作成" width="360"> &nbsp;[詳細なヘルプ &rdquo; の表示] をクリック &ldquo; すると、このコマンドレットのオンラインヘルプページが開きます。このページでは、juicy の使用方法について詳しく説明しています。 ヘルプページの一部を次に示します。 <img alt="Azure Automation in Depth: Runbook Authoring" border="0" height="384" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/image033.png" style="margin: 0px auto; padding-left: 0px; padding-right: 0px; float: none; padding-top: 0px; border: 0px;" title="Azure Automation 詳細: Runbook の作成" width="610"> &nbsp; アクティビティの挿入ウィザードの [次へ] ボタンをクリックすると、[runbook の挿入ウィザード &rsquo; ] 構文ビューに似たメニューが表示されます。 このアクティビティに対して複数のパラメーターセットがある場合は、そのパラメーターセットの構文のみが挿入されるため、runbook で使用するパラメーターセットを選択する必要があります。 <img alt="Azure Automation in Depth: Runbook Authoring" border="0" height="473" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/image035.png" style="margin: 0px auto; padding-left: 0px; padding-right: 0px; float: none; padding-top: 0px; border: 0px;" title="Azure Automation 詳細: Runbook の作成" width="610"></p>


  <h2><img alt="Azure Automation in Depth: Runbook Authoring" border="0" height="236" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/image037.png" style="margin: 0px auto; padding-left: 0px; padding-right: 0px; float: none; padding-top: 0px; border: 0px;" title="Azure Automation 詳細: Runbook の作成" width="610"></h2>


  <p>&nbsp;</p>


  <h2>まとめ</h2>


  <p>この投稿では、複数の runbook 作成者とオペレーターが同時に動作する環境で、可能な限り迅速かつ簡単に優れた runbook を作成するのに役立つ多くの便利な Azure Automation 機能を対応しています。 この知識を身に付けておく &rsquo; と、Automation runbook の達人になるようになります。 Azure Automation を使い始めたばかりですか? &nbsp;<a href="https://aka.ms/Q2p1ap" target="_blank">ここで</a>サービスについて説明し、 <a href="https://twitter.com/AzureAutomation" target="_blank">Twitter</a>の Azure Automation に従います。 個人的なご連絡をお持ちですか? <a href="https://jodoglevy.com" target="_blank">ブログ</a>で連絡するか、 <a href="https://twitter.com/jodoglevy" target="_blank">Twitter</a>でフォローしてください。</p>
