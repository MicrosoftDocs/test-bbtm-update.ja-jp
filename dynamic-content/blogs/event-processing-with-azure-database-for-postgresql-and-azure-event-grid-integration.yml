### YamlMime:Yaml
ms.openlocfilehash: 5e14dc43e52194385e7abd037db932e25e741d36
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139890191"
Slug: event-processing-with-azure-database-for-postgresql-and-azure-event-grid-integration
Title: 統合と統合を使用したAzure Database for PostgreSQLのEvent Grid処理
Summary: 最新のアプリケーションの大半は、IoT デバイスからの変更への対応、Marketplace ソリューションでの新しいリストへの応答、顧客の要求からのビジネス プロセスの開始など、イベントを使用して構築されています。
Content: >-
  <p>最新のアプリケーションの大半は、IoT デバイスからの変更への対応、Marketplace ソリューションでの新しいリストへの応答、顧客の要求からのビジネス プロセスの開始など、イベントを使用して構築されています。 PostgreSQL は、最新のアプリケーションのイベントベースの通知と分散設計のニーズを満たす、豊富な機能拡張を備える一般的なオープン ソース データベースです。 PostgreSQLs&rsquo; <a href="https://www.postgresql.org/docs/current/static/sql-notify.html" target="_blank">通知機能</a> を使用すると、データベースで指定されたリスナー チャネルに変更フィードとして通知イベントを送信できます。 Azure Event Grid <a href="https://azure.com/serverless" target="_blank"></a> フル マネージドのサーバーレス イベント ルーティング サービス<a href="https://docs.microsoft.com/en-us/azure/event-grid/overview" target="_blank">、Azure Functions</a> サーバーレス コンピューティング エンジン、Azure Logic Apps サーバーレス ワークフロー オーケストレーション エンジンなど、Azure <a href="https://docs.microsoft.com/en-us/azure/azure-functions/functions-overview" target="_blank"></a> のサーバーレス プラットフォームを使用すると、イベントに応答<a href="https://docs.microsoft.com/en-us/azure/logic-apps/logic-apps-overview" target="_blank"></a>するイベント ベースの処理とワークフローをリアルタイムで簡単に実行できます。</p>


  <p>購入者が販売者に会うマーケットプレース eコマース ソリューションを検討します。 一般的なマーケットプレース ソリューションは、エンド ユーザーにシームレスな購入および販売エクスペリエンスを提供するマイクロサービスのコレクションです。 最新のマイクロサービス設計では、エンド ユーザーの統一されたエクスペリエンスを実現するために連携しながら、シナリオに合って最適化された、専用のアプリ プラットフォームとデータ ストアを活用しています。 たとえば、グラフ ストアはレコメンド エンジンに適しています。一方、PostgreSQL のようなリレーショナル データストアはリレーショナル インベントリ データと NoSQL ドキュメント ストアのニーズに適しています。 このアーキテクチャ パターンは、ポリグロ プログラミングから派生したポリグロ永続化とも呼ばれます。 ポリグロット永続化の課題の 1 つは、データ ストア間の同期によって、1 つのデータ ストアへの書き込みを他のデータ ストアと同期することです。 Azure Database for PostgreSQL サービスと Azure Event Grid統合すると、この同期とリアルタイムのイベント ベースの処理が可能になります。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/21f46a27-493f-467e-8dae-a5d21f077218.png"><img alt="Marketplace E-Commerce Solution flow chart" border="0" height="379" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/40477fe2-68c9-4815-9dc4-98618d36fdc6.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="Marketplace E コマース ソリューションのフローチャート" width="640"></a></p>


  <p>マーケットプレース ソリューションでは、販売者が販売する新しい製品をアップロードまたは一覧表示するシナリオを検討します。 これは、PostgreSQL インベントリ データベースへの新しいエントリが発生するイベントであり、新しい購入者や製品を探している訪問者に表示できるように、キャッシュの更新と検索カタログの再インデックス作成をすぐにトリガーする必要があります。 さらに、その製品の種類またはカテゴリの可用性をサブスクライブしている顧客がある場合は、製品の一覧が完了するとすぐに製品の可用性を通知する通知を送信する必要があります。 最後に、レコメンド エンジンに表示されるリアルタイム分析と機械学習スコアリングのために、変更フィードをデータ レイクに送信する必要があります。 次に示すのは、Azure プラットフォームでのAzure Database for PostgreSQLとEvent Gridのワークフローです。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/3776094a-5f65-4a66-9d9d-def4c8afdc36.png"><img alt="Workflow scenario in Azure platform with Azure Database for PostgreSQL and Event Grid" border="0" height="407" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/4d2f1755-59c9-4fbd-83d4-0b8e36a01d90.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="Azure プラットフォームでのワークフロー シナリオ (Azure Database for PostgreSQLとEvent Grid" width="640"></a></p>


  <p>Azure Database for PostgreSQL サービスから Azure Event Grid への通知により、上記の要件が簡素化され、新しい製品が一覧に表示された場合に、複数のサブスクライバーにトピックを簡単に通知できます。 この統合は、Azure Database for PostgreSQL で使用<a href="https://www.postgresql.org/docs/current/static/sql-notify.html" target="_blank"></a>できる通知機能を利用し、変更を Event Grid トピックに発行してすべてのサブスクライバーが使用できるカスタム リスナー チャネルを定義することで実現されます。 サブスクライバーの Event Grid トピックは、変更フィードを処理し、キャッシュ更新のトリガー、検索カタログの再インデックス作成、またはレコメンド エンジンのリアルタイム スコアリングの各関数を実行するために、Azure Functions、Azure Logic Apps、または Webhook です。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/0ad40c31-0852-45b6-b310-4e1fc133d0cc.png"><img alt="Leveraging Notify for publishing to Event Grid flow chart" border="0" height="340" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/b66f5f41-0d4e-4083-900e-3979115ef6f8.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="[通知] を利用してフロー Event Gridに発行する" width="640"></a></p>


  <p>詳細な手順と、リスナー コードを含むサンプル アプリを GitHub<a href="https://github.com/Azure/azure-postgresql/tree/master/samples/EventGrid Demo" target="_blank">しました</a>。 この手順を利用して、イベント ベースのトリガーを実装し、スケールアウト アーキテクチャを Azure Database for PostgreSQLおよびEvent Grid。 これにより、新しいシナリオと機能のロックを解除して、Microsoft Azure。 開発者コミュニティには、それを再利用し、問題を発生または投稿する方法を、開発者コミュニティに送信pull request。</p>


  <p>概要 <a href="https://aka.ms/CreateazurePostgreSQLDB" target="_blank">PostgreSQL</a> サーバーを作成しましょう。 詳細については、概要Azure Database for PostgreSQLサポート <a href="https://docs.microsoft.com/azure/postgresql/overview" target="_blank">されている</a> 拡張機能に関 <a href="https://docs.microsoft.com/en-us/azure/postgresql/concepts-extensions" target="_blank">するドキュメントを参照</a> してください。</p>


  <p>引き続き、次に表示する機能に関する <a href="https://feedback.azure.com/forums/597976-azure-database-for-postgresql" target="_blank">UserVoice</a> フィードバックを提供してください。 ヘルプが必要な場合、または質問がある場合は、次のドキュメント <a href="https://docs.microsoft.com/en-us/azure/postgresql/" target="_blank">Azure Database for PostgreSQLしてください</a>。 最新のニュースや発表については、Twitter <a href="https://twitter.com/AzureDBPostgres" target="_blank">@AzureDBPostgreSQL</a> でフォローしてください。</p>


  <h2>謝辞</h2>


  <p>この投稿に対する貢献に対して、Qingging 、 Iniu Hiremath、 Rachel Agyemang、 Harini Gupta、 Sunil いなぎ、Raja Ravipati に感謝します。</p>
