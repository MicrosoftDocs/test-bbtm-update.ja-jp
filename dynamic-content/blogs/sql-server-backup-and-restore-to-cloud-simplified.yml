### YamlMime:Yaml
ms.openlocfilehash: 27b52367bde35cb1991eaadd867fde948885f632
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139892193"
Slug: sql-server-backup-and-restore-to-cloud-simplified
Title: SQL Serverへのバックアップと復元の簡略化
Summary: "  エディター&rsquo;ノート: 今日の投稿&rsquo;は、Microsoft Data Platform チームの Guy Bowerman と Karthika Raman によって作成されました。  SQL Server 2012 SP1 Cumulative Update 2 には、2012 年 2 月 2 日のSQLが含まれています。"
Content: '<div>  <p><strong><strong><em>エディター&rsquo;ノート: </em></strong></strong><em>今日の投稿&rsquo;は、Microsoft Data Platform チームの Guy Bowerman と Karthika Raman によって作成されました。</em></p>  <p class="p1">SQL Server 2012 SP1 Cumulative Update 2 には、SQL Server Database to Window Azure Storage のバックアップと復元を簡略化する SQL Server ネイティブ バックアップの機能強化が含まれています。 SQL Serverデータベースは、SQL Server のオンプレミス インスタンス上に、または Windows Azure Virtual Machine などのホスト環境で実行されている SQL Server のインスタンス上に作成できます。 以下の情報を参照して、新しい機能の簡単な概要を取得し、リンクを参照して詳細な情報を確認してください。</p>  </div>  <p>更新プログラムをダウンロードするには、リリース サービスブログSQL<a href="https://blogs.msdn.com/b/sqlreleaseservices/" target="_blank">に移動します。</a></p>  <h4>概要:</h4>  <p>ディスクとテープに加えて、SQL Server ネイティブ バックアップ機能を使用して、SQL Server Database を Windows Azure Blob Storage サービスにバックアップできます。&nbsp;このリリースでは、Windows Azure Blob Storage へのバックアップは、T-SQL と SMO&nbsp; を使用してサポートされています。SQL Server のオンプレミス インスタンス上の SQL Server データベース、または Windows Azure VM で実行されている SQL Server のインスタンスなどのホスト環境で、この機能を利用できます。</p>  <h4>利点:</h4>  <ul>  <li>ディザスター リカバリーを向上するための柔軟で信頼性が高く、制限のないオフサイト ストレージ: Windows Azure Blob service にバックアップを格納すると、便利で柔軟で、アクセスしやすいオフサイト オプションになります。 既存のスクリプト/ジョブを変更するSQL Serverのバックアップに対してオフサイト ストレージを作成するのは簡単です。 オフサイト ストレージは、通常、災害発生時にオフサイトと運用データベース両方の場所に影響しないように、運用データベースの場所から十分に離れた場所に設置する必要があります。 オンプレミス データベースのディザスター リカバリーのために、SQL Server Azure 仮想マシンで実行されている Windows インスタンスにバックアップを復元できます。 BLOB ストレージを地理的に離れた場所にレプリケートすることによって、地域全体に影響する可能性がある災害が発生した場合の保護レベルが強化されます。 また、バックアップは場所や時間を問わず使用でき、復元のために簡単にアクセスできます。</li>  <li>バックアップ アーカイブ: Windows Azure BLOB ストレージ サービスは、バックアップのアーカイブ手段として、よく使用されるテープ オプションより優れています。 テープ ストレージでは、オフサイトの施設への物理的な輸送手段とメディアを保護する手段が必要になります。 バックアップを Azure Blob WindowsにStorage、高可用性で永続的なアーカイブ オプションを提供します。</li>  <li>ハードウェア管理のオーバーヘッドなし: Azure Storage サービスを使用したハードウェア管理Windowsオーバーヘッドはありません。 Windows Azure サービスはハードウェアを管理し、ハードウェア障害に対する冗長性と保護のための geo レプリケーションを提供します。</li>  <li>現在、SQL Server Azure Windows 仮想マシンで実行されている SQL Server のインスタンスの場合、Windows Azure Blob Storage サービスへのバックアップは、接続されたディスクを作成することで実行できます。 ただし、Windows Azure バーチャル マシンにアタッチできるディスク数には制限があります。 この制限は、特大インスタンスの場合は 16 ディスク、小さいインスタンスの場合は少ないディスクです。 Windows Azure BLOB ストレージに直接バックアップできるようにすることで、16 台のディスク制限がなくなります。</li>  <li>さらに、Windows Azure Blob Storage サービスに格納されているバックアップ ファイルは、オンプレミスの SQL Server または Windows Azure 仮想マシンで実行されている別の SQL Server で直接使用できます。データベースのアタッチ/デタッチや VHD のダウンロードとアタッチは必要ありません。</li>  <li>コスト面での利点: 使用するサービスにのみ料金がかかります。 オフサイトのバックアップ アーカイブ オプションとして、優れたコスト効果を得ることができます。</li>  </ul>  <p class="DdueNormal">Azure <a href="https://go.microsoft.com/fwlink/?LinkId=277060" target="_blank">Windows料金計算ツールを使用すると</a>、コストを見積もるのに役立ちます。</p>  <p class="DdueNormal">ストレージ: 料金は使用領域に基づいており、段階的に、また、冗長性のレベルに応じて計算されます。 詳細と最新情報については、「 <a href="https://azure.microsoft.com/en-us/pricing/details/#header-4" target="_blank">料金の詳細</a> 」の「 <a href="https://go.microsoft.com/fwlink/?LinkId=277059" target="_blank">データ管理</a> 」を参照してください。</p>  <p class="DdueNormal">データ転送: Windows Azure への受信データ転送は無料です。 送信転送は、帯域幅の使用量に対して課金され、段階的な地域固有の区分に基づいて計算されます。 詳細については、「 <a href="https://go.microsoft.com/fwlink/?LinkId=277061" target="_blank">料金の詳細</a> 」の「データ転送」を参照してください。</p>  <h4>動作のしくみ: </h4>  <p>ディスクへのWindows Azure Storageは、バックアップ デバイス (ディスク/テープ) と同じように動作します。&nbsp;Microsoft Virtual Backup Device Interface (VDI) を使用すると、Windows Azure Blob Storage &ldquo;&rdquo;は仮想バックアップ デバイスのようにコード化され、BLOB ストレージへのアクセスに使用される URL 形式はデバイスとして&nbsp;扱います。移行先デバイスとして Azure Storage をサポートする主な理由は、ディスクとテープを使用した現在の機能と同様に、一貫したシームレスなバックアップと復元のエクスペリエンスを提供する点です。</p>  <p>バックアップまたは復元プロセスが呼び出され、URL &ldquo;&rdquo;デバイスの種類を使用して Windows Azure Blob Storage が指定されている場合、エンジンは、この機能の一部である VDI クライアント プロセスを呼び出します。&nbsp;バックアップ データは VDI クライアント プロセスに送信され、バックアップ データは Azure Blob Storage Windowsに送信されます。</p>  <p>前述のように、URL は現在使用されているバックアップ デバイスに似たものですが、物理デバイスではないので、いくつかの制限があります。&nbsp;サポートされているオプションの完全な一覧については、「SQL Server <a href="https://go.microsoft.com/fwlink/?LinkID=271617" target="_blank">Windows Azure Blob Storage Service</a> を使用したバックアップと復元」を参照してください。</p>  <h4>使用方法</h4>  <p>Azure Blob Storage にバックアップWindows書き込むには、最初に Windows Azure Storage アカウントを作成する必要があります。ストレージ アカウントの認証情報を格納する SQL Server 資格情報を作成します。 Transact-SQL または SMO を使用すると、バックアップコマンドと復元コマンドを発行できます。</p>  <p>次の Transact-SQLは、資格情報の作成、データベースの完全バックアップの実行、およびデータベースの完全バックアップからのデータベースの復元を示しています。 ストレージ アカウントの作成と簡単な復元の実行に関する完全なチュートリアルについては、「チュートリアル: はじめに with <a href="https://go.microsoft.com/fwlink/?LinkID=271615" target="_blank">SQL Server Backup and Restore to Windows Azure Blob Storage Service</a>」を参照してください。</p>  <h4 class="DdueTitle">資格情報の作成</h4>  <p class="DdueNormal">次の例では、Windows Azure ストレージの認証情報を格納する資格情報を作成します。</p>  <p class="DdueNormal"><a href=""><img src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/1184.Screen-Shot-2013_2D00_01_2D00_23-at-4.37.27-PM.png" alt="" border="0"></a></p>  <h4 class="DdueTitle">データベース全体をバックアップする</h4>  <p class="DdueNormal">次の例では、AdventureWorks2012 データベースを Windows Azure BLOB ストレージ サービスにバックアップします。</p>  <p class="DdueNormal"><a href=""><img src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/3443.Screen-Shot-2013_2D00_01_2D00_23-at-4.39.20-PM.png" alt="" border="0"></a></p>  <h4 class="DdueTitle">データベースの復元</h4>  <p class="DdueNormal">データベースの完全バックアップを復元するには、次の手順に従います。</p>  <p class="DdueNormal"><a href=""><img src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/3301.Screen-Shot-2013_2D00_01_2D00_23-at-4.41.45-PM.png" alt="" border="0"></a></p>  <div class="WordSection1">  <h4>リソース:</h4>  </div>  <div class="WordSection2">  <p><a href="https://go.microsoft.com/fwlink/?LinkID=271617" target="_blank">概念/スクリプトの例</a></p>  <p><a href="https://go.microsoft.com/fwlink/?LinkID=272394" target="_blank">ベスト プラクティス /トラブルシューティング</a></p>  <p><a href="https://go.microsoft.com/fwlink/?LinkID=271615" target="_blank">チュートリアル入門</a></p>  <p>機能やドキュメントに関するフィードバックを、microsoft.com@または guybo @ microsoft.com に送信してください。</p>  </div>'
