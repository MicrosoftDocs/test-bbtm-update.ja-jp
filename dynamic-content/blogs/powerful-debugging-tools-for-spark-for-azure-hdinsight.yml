### YamlMime:Yaml
ms.openlocfilehash: 8fdc464a4ba9c3ee823fdb6dc3dc400d2ee0ee1b
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139909554"
Slug: powerful-debugging-tools-for-spark-for-azure-hdinsight
Title: Spark for Azure HDInsight 用の強力なデバッグツール
Summary: 'Microsoft は、世界中の最大規模のビッグデータクラスター (内部的には "Cosmos" と呼ばれます) のいずれかを実行します。 これにより、複数のエクサバイトのデータで数百台のサーバーにわたって何百万ものジョブを実行できます。 開発者によるこのスケールのジョブを実行して管理することは、大きな課題でした。 '
Content: >-
  <p>Microsoft は、世界中の最大規模のビッグデータクラスターの1つを、Cosmos と呼ばれる内部で実行します。 これにより、複数のエクサバイトのデータで数百台のサーバーにわたって何百万ものジョブを実行できます。 開発者によるこのスケールのジョブを実行して管理することは、大きな課題でした。 数百もの頂点を持つジョブは一般的であり、ジョブの実行速度が低下したりボトルネックが絞り込まれたりすることが非常に困難になっています。 さまざまな頂点の実行時間や再生など、ジョブグラフ全体をグラフィカルに表示する強力なツールを構築しました。これにより、開発者にとって非常に役立ちます。 この機能は Cosmos (スコープと呼ばれます) の内部言語用に構築されていますが、この機能をすべての Spark 開発者に提供するのは非常に困難です。&nbsp;</p>


  <p>現時点では、Spark 2.3 クラスターおよび転送用の <strong>HDInsight 用 Apache Spark デバッグツールセット </strong>のパブリックプレビューを発表します。 HDInsight では、spark history server の既定のユーザーエクスペリエンスが拡張され、ジョブグラフとデータフローの強力な対話型の視覚化により、spark ジョブに関する豊富な情報が提供されるようになりました。 新機能は、ジョブデータ管理、データサンプリング、ジョブの監視、ジョブの診断における HDInsight Spark 開発者にとって非常に役立ちます。&nbsp;&nbsp;</p>


  <h2 align="justify">Spark History Server の機能強化</h2>


  <p>HDInsight の Spark History Server のエクスペリエンスでは、 <strong>Graph</strong>と<strong>データ</strong>の2つの新しいタブが機能するようになりました。</p>


  <p><strong>Graph] タブ:</strong> <b> </b>ジョブグラフは、ジョブの強力な対話型の視覚化です。 このインターフェイスを使用すると、Spark アプリケーションおよび個々のジョブに対して読み取りおよび書き込みが行われたジョブステージの進行状況によって、 <b>再生 </b>や <b>ヒートマップ</b> などの革新的なデバッグエクスペリエンスが有効になります。</p>


  <p align="justify"><br>

  <a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/27781913-b6f5-4ed6-bbe9-c3320a972057.png"><img alt="Spark Job Graph - Progress" border="0" height="411" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/60a64323-4058-4e81-88f9-73691b93f61c.png" style="border: 0px currentcolor; border-image: none; padding-top: 0px; padding-right: 0px; padding-left: 0px; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="Spark ジョブの Graph-進行状況" width="700"></a></p>


  <p>Spark ジョブグラフには、データ入力とステージ間の出力を含む Spark ジョブ実行の詳細が表示されます。 完了したジョブについては、spark の開発者は spark ジョブグラフを使用して、進行状況、データの読み取り、および詳細情報の書き込みによってジョブを <b>再生</b> できます。 さまざまなステージの外れ値を示されるするこのエクスペリエンスを使用して、パフォーマンス、データ、実行時間に関する Spark ジョブ診断を熟考できるようになりました。</p>


  <p align="justify"><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/53ac455a-50d8-4faa-a5df-26844f4e8ff8.png"><img alt="Spark Job Graph - Read" border="0" height="411" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/cbd44afc-01e2-4dbf-a970-790fe7b99f2e.png" style="border: 0px currentcolor; border-image: none; padding-top: 0px; padding-right: 0px; padding-left: 0px; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="Spark ジョブ Graph-読み取り" width="700"></a></p>


  <p>[<strong>データ] タブ:</strong> <b> </b>ジョブ固有の入力、出力データビュー、検索、ダウンロード、プレビュー、データコピー、データ URL コピー、CSV へのデータエクスポート、およびテーブル操作ビューは、[データ] タブで視覚化されます。</p>


  <p>開発者やデータ科学者は、データのプレビュー、ダウンロード、コピー、CSV ファイルへのエクスポートなど、さまざまなアクションを実行できます。 また、ローカル実行とローカルデバッグのサンプルデータとしてデータを部分的にダウンロードすることもできます。 メタデータの解釈と相関関係は、常にデバッグの課題でした。 また、テーブル操作に優れた機能が追加されました。 <b>Hive メタデータ</b>を表示し、各ステージでテーブル操作を調査して、トラブルシューティングや spark ジョブ分析に関するより詳細な洞察を得ることができます。</p>


  <p align="justify"><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/56e1182d-c4bf-432b-97f8-c1201526d936.png"><img alt="Spark Job Data" border="0" height="420" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/98485b39-168e-4bda-8dda-d7612c793e74.png" style="border: 0px currentcolor; border-image: none; padding-top: 0px; padding-right: 0px; padding-left: 0px; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="Spark ジョブデータ" width="700"></a></p>


  <h2>Developer nirvana</h2>


  <p align="justify">HDInsight Spark 開発者は、次の機能を活用して生産性を大幅に向上させることができます。</p>


  <ul>
   <li align="justify">Spark ジョブの入力データと出力データをプレビューしてダウンロードするだけでなく、Spark ジョブテーブル操作を表示します。&nbsp;</li>
   <li align="justify">進行状況、データの読み取りと書き込みに関する Spark アプリケーション/ジョブグラフを表示し、再生します。</li>
   <li align="justify">パフォーマンスチューニングのために、複数のステージとジョブの間で、Spark アプリケーションの実行の依存関係を特定します。</li>
   <li align="justify">データの読み取り/書き込みヒートマップを表示し、外れ値を特定し、Spark ジョブのパフォーマンス診断のための bottlenecking ステージとジョブを特定します。</li>
   <li align="justify">パフォーマンスの最適化のために、Spark ジョブ/ステージのデータ入力/出力サイズと期間を表示します。</li>
   <li align="justify">失敗したステージを見つけて、デバッグの失敗したタスクの詳細をドリルダウンします。</li>
  </ul>


  <h2 align="justify">Apache Spark デバッグツールセットの概要</h2>


  <p>これらの機能は、HDInsight Spark history server に組み込まれています。</p>


  <p>Azure portal からのアクセス <a href="https://portal.azure.com/">。</a> Spark クラスターを開き、[クイックリンク] の [クラスターダッシュボード] をクリックし、[Spark History Server] をクリックします。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/7f330c96-cd29-4557-89e5-131e8c1b56dc.png"><img alt="launch-history-server" border="0" height="627" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/c1e22adf-b39e-4cd3-a8ff-a06c3c838e93.png" style="border: 0px currentcolor; border-image: none; padding-top: 0px; padding-right: 0px; padding-left: 0px; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="起動-履歴-サーバー" width="700"></a></p>


  <p>URL でアクセスし、Spark History Server を開きます。</p>


  <h2>その他の機能</h2>


  <ul>
   <li align="justify">Spark アプリケーションとジョブのクリティカルパス分析</li>
   <li align="justify">Spark ジョブの診断&nbsp;
   <ul>
    <li align="justify">データスキューと時間差の分析</li>
    <li align="justify">実行プログラムの使用状況の分析</li>
   </ul>
   </li>
   <li align="justify">失敗したジョブのデバッグ</li>
  </ul>


  <h2>フィードバック</h2>


  <p>ご意見やご感想をお待ちしております。 機能に関するご要望、ご質問、ご提案がある場合は、まで <a href="mailto:hdivstool@microsoft.com" target="_blank">hdivstool@microsoft.com</a> ご連絡ください。 バグの送信については、テンプレートを使用して新しいチケットを開いてください。</p>


  <p>詳細については、以下を参照してください。</p>


  <ul>
   <li>
   <p><a href="https://docs.microsoft.com/en-us/azure/hdinsight/spark/apache-azure-spark-history-server">拡張 Spark 履歴サーバーを使用して Spark アプリケーションを監視する</a></p>
   </li>
   <li>
   <p><a href="https://docs.microsoft.com/en-us/azure/hdinsight/spark/apache-azure-spark-history-server#faq">拡張 Spark History Server の使用に関する FAQ</a>&nbsp;</p>

   <ul>
    <li>
    <p align="justify"><a href="https://docs.microsoft.com/en-us/azure/hdinsight/spark/apache-azure-spark-history-server#1-revert-to-community-version">Spark UI コミュニティバージョンに戻す</a></p>
    </li>
    <li>
    <p align="justify"><a href="https://docs.microsoft.com/en-us/azure/hdinsight/spark/apache-azure-spark-history-server#3-upgrade-jar-file-for-hotfix-scenario">Spark UI の修正プログラムを適用する</a></p>
    </li>
    <li>
    <p align="justify"><a href="https://docs.microsoft.com/en-us/azure/hdinsight/spark/apache-azure-spark-history-server#2-upload-history-server-event">サーバーログを使用した Spark history server エラーのトラブルシューティング</a></p>
    </li>
   </ul>
   </li>
   <li>
   <p align="justify"><a href="https://channel9.msdn.com/Series/AzureDataLake/Debug-HDInsight-Spark-Applications-with-Azure-Toolkit-for-IntelliJ">Azure Toolkit for IntelliJ を使用して HDInsight クラスターで Spark アプリケーションをリモートでデバッグする</a></p>
   </li>
  </ul>


  <p><a href="https://azure.microsoft.com/en-us/blog/">Azure ブログ</a>と<a href="https://blogs.msdn.microsoft.com/azuredatalake">ビッグデータブログ</a>で今日 &rsquo; の発表に関する詳細を確認し、その他の<a href="https://azure.microsoft.com/en-us/updates/">azure サービスの更新</a>をご確認ください。</p>
