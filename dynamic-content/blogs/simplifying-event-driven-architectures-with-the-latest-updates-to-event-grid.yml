### YamlMime:Yaml
ms.openlocfilehash: 28f166a32de68b4e16b7d8ac51f16f3722a53dda
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139892440"
Slug: simplifying-event-driven-architectures-with-the-latest-updates-to-event-grid
Title: 最新の更新プログラムを使用したイベント 駆動型アーキテクチャのEvent Grid
Summary: イベント駆動型アーキテクチャでは、動的なポーリング ベースのシステムの置き換えと上回りが増え、IoT シナリオ、データ処理タスク、またはインフラストラクチャ自動化ジョブにサーバーレス コンピューティングの利点が生まれます。
Content: >-
  <p>イベント駆動型アーキテクチャでは、動的なポーリング ベースのシステムの置き換えと上回りが増え、IoT シナリオ、<a href="https://azure.com/serverless" target="_blank"></a>データ処理タスク、またはインフラストラクチャ自動化ジョブにサーバーレス コンピューティングの利点が生まれます。 マイクロサービスの自然な進化として、世界中の企業がイベント駆動型のアプローチを採用して、既存のアプリケーションで新しいエクスペリエンスを作成したり、それらのアプリケーションをクラウドに取り込み、より強力で複雑なシナリオを毎日構築しています。</p>


  <p>本日は、クラウド&rsquo;でのパフォーマンスとより高度なイベント駆動型アプリケーションの向上を実現する Event Grid に対する一連の更新をお知らせします。</p>


  <ul>
      <li>デバイス テレメトリ イベントIoT Hubパブリック プレビュー</li>
      <li>イベント ハンドラーとしてのService Busパブリック プレビュー</li>
      <li>サーバー側の geo ディザスター リカバリーの自動実行</li>
      <li>イベント ドメインの一般提供(ドメインあたり最大 100,000 トピック)</li>
      <li>1 MB イベント サポートのパブリック プレビュー</li>
      <li>検索と改ページの API を一覧表示する</li>
      <li>フィルター処理の深さが増す高度なフィルターの一般提供</li>
  </ul>


  <h2>Azure エコシステムとの統合の拡張</h2>


  <p>Azure IoT <a href="https://azure.microsoft.com/services/iot-hub/" target="_blank">Hub</a> と Azure IoT の統合を開始した後に求めらた最大の機能の 1 つはEvent Gridテレメトリ イベントです。 現在、最後&rsquo;に、米国東部、米国西部、西ヨーロッパを除くすべてのパブリック リージョンで、パブリック プレビューでこの機能を有効にしました。 この機能を試し、ビジネス向けにより合理化された IoT ソリューションを構築していけ、楽しみに思います。</p>


  <p><a href="https://azure.com/functions" target="_blank">デバイス テレメトリ</a> イベントをサブスクライブすると、Azure Functions または <a href="https://azure.com/logicapps" target="_blank">Azure Logic Apps</a> を使用するサーバーレス アプリケーションや、Azure 上にあるかどうかに関係なく、Webhook を使用したその他のサービスなど、デバイスからのデータをソリューションに簡単に統合できます。 これにより、デバイステレメトリをポーリングしてさらに処理する追加のサービスが不要で、IoT アーキテクチャが簡素化されます。</p>


  <p>デバイス テレメトリ イベントを Event Grid IoT Hub に発行することで、メッセージ ルーティングによってサポートされるエンドポイントを超えて、データが到達できるサービスが <a href="https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-messages-d2c" target="_blank">拡張されます</a>。 たとえば、デバイス ツイン タグによって識別されるさまざまな種類のデバイス テレメトリ イベントに対して異なるサブスクリプションを作成し、デバイスの種類ごとに一意の計算を行う個別の Azure Functions またはサード パーティ製アプリケーションをトリガーすることで、ダウンストリーム ワークフローを自動化できます。 デバイス テレメトリ イベントEvent Gridサブスクリプションに基づいて、IoT Hub に既定のルートを作成し、デバイス テレメトリに対してすべての Event Grid サブスクリプションを処理します。</p>


  <p>デバイステレメトリの<a href="https://docs.microsoft.com/azure/iot-hub/iot-hub-event-grid" target="_blank">IoT Hubの</a>詳細については、ドキュメントを参照し、引き続き「<a href="https://feedback.azure.com/forums/321918-azure-iot/" target="_blank">Azure IoT User Voice フォーラム」を参照してください</a>。</p>


  <p>また、パブリック プレビュー Service Bus Event Grid のイベント ハンドラーとして Event Grid を追加しています。そのため、現在から、Event Grid 内のイベントを Service Bus キューに直接ルーティングできます。 Service Busイベント ソースまたはイベント ハンドラーとして機能し、分散エンタープライズ アプリケーションでイベントとメッセージを配信するより堅牢なエクスペリエンスを実現できます。 現在はパブリック プレビュー段階であり、Service Bus トピックとセッションでは機能しませんが、キュー内のすべてのレベルでService Busされます。</p>


  <p>これにより、BLOB の作成、デバイスの作成、ジョブの処理の完了など、他のサービスでアクティビティのイベントを受け取るコマンドと制御のシナリオが可能になります。</p>


  <p>詳細については、ドキュメント<a href="https://aka.ms/egsbhandler" target="_blank">Service Busを参照</a>してください。</p>


  <h2>サーバー側 geo ディザスター リカバリー</h2>


  <p>Event Grid、メタデータの geo ディザスター リカバリー (GeoDR) が組み込まれています。新しいドメイン、トピック、イベント サブスクリプションに適用できます。 これにより、サービスの中断に対する回復性が大幅に向上し、すべてプラットフォームによって完全に管理されます。 Azure リージョン全体を取り出す障害が発生した場合、Event Grid サービスには、すべてのイベントインフラストラクチャ メタデータがペアリージョンに同期され、新しいイベントは、自動的にサービスの中断を回避するために、側からの介入なしに再びフローし始める予定です。</p>


  <p>ディザスター リカバリーは、通常、次の 2 つのメトリックで測定されます。</p>


  <ul>
      <li><a href="https://en.wikipedia.org/wiki/Disaster_recovery#Recovery_Point_Objective" target="_blank">目標復旧時点 (RPO):</a> 失われる可能性があるデータの分または時間。</li>
      <li><a href="https://en.wikipedia.org/wiki/Disaster_recovery#Recovery_time_objective" target="_blank">回復時刻の目標 (RTO)</a>: サービスが停止している可能性がある時間 (分)。</li>
  </ul>


  <p>&rsquo;Event Grid自動フェールオーバーには、メタデータ (イベント サブスクリプション、さらに多くの) とデータ (イベント) に対して異なる RPO&rsquo; と RTO&rsquo; があります。 以下とは異なる仕様が必要な場合でも、正常性 <a href="https://docs.microsoft.com/en-us/azure/event-grid/custom-disaster-recovery" target="_blank"></a> API に関するトピックを使用して、独自のクライアント側フェールオーバーを常に実装できます。</p>


  <ul>
      <li>メタデータ RPO: 0 分。 あなたはその権利を読みました。 リソースがリージョン内に作成Event Gridリージョン間で即座にレプリケートされます。 フェールオーバーが発生した場合、メタデータは失われます。</li>
      <li>メタデータ RTO: 通常、これははるかに迅速に発生しますが、60 分以内に Event Grid はトピックとサブスクリプションの作成/更新/削除の呼び出しを受け入れ始めるでしょう。</li>
      <li>データの RPO: ご利用のシステムが正常であり、リージョンのフェールオーバー時に既存のトラフィックで同期された場合、イベントの RPO は約 5 分です。</li>
      <li>データ RTO: メタデータと同様に、通常、これははるかに迅速に発生しますが、60 分以内に、Event Gridフェールオーバー後に新しいトラフィックの受け入れが開始されます。</li>
  </ul>


  <p>最適&rsquo;な部分を次に示します。この場合、メタデータ GeoDR のコストはEvent Grid。 これはサービスの現在の価格に含まれており、&rsquo;追加料金は発生しません。</p>


  <h2>高度なイベント駆動型ワークロードの電力を供給する</h2>


  <p>IoT、CRM&rsquo;、財務などの多様なシナリオ向けより高度なイベント駆動型アーキテクチャを見て、イベントで大量のデータを処理するマルチテナント アプリケーションとワークロードの機能を拡張する必要性が高まっています。</p>


  <p><a href="https://docs.microsoft.com/azure/event-grid/event-domains" target="_blank">イベント</a> ドメインを使用すると、1 つのコンストラクトでイベント インフラストラクチャ全体を整理し、サブスクライブできるユーザーに対して各トピックに細かい認証規則を設定し、1 つのエンドポイントですべてのイベント発行を管理することができます。 従来の pub-sub アーキテクチャはトピックとサブスクリプション専用に構築されています。ただし、より高度で忠実なイベント駆動型アーキテクチャを構築すると、メンテナンスの負担が指数関数的に増加します。 イベント ドメインでは、管理の多くを処理することで、問題が発生します。</p>


  <p>本日、&rsquo;イベント ドメイン&rsquo;の一般提供が開始され、ドメインごとに 100,000 のトピックを作成できます。 一&rsquo;般提供のイベント ドメインの制限の完全なセットを次に示します。</p>


  <ul>
      <li>イベント ドメインあたり 100,000 トピック</li>
      <li>Azure サブスクリプションあたり 100 のイベント ドメイン</li>
      <li>イベント ドメインのトピックあたり 500 イベント サブスクリプション</li>
      <li>イベント ドメイン スコープで 50 &lsquo;件の firehose&rsquo; イベント サブスクリプション</li>
      <li>イベント ドメインへの 5,000 イベント/秒</li>
  </ul>


  <p>常に、これらの制限に&rsquo;合わない場合は、サポート チケットまたは電子メールで問い合わせてください <a href="mailto:askgrid@microsoft.com">askgrid@microsoft.com</a></p>


  <p>より高い容量を得る。</p>


  <p>また、高度なイベント駆動&rsquo;型アーキテクチャが常に 64 KB の制限に適合するとは限らない点も確認します。 これらのワークロードでは、より&rsquo;シンプルなアーキテクチャのために大規模なイベントを処理する必要があります。現在、イベントのパブリック プレビューを最大 1 MB に発表しました。</p>


  <p>構成の変更は必要ありません。これは既存のイベント サブスクリプションで機能し、64 KB 以下のすべてが引き続き一般提供 SLA の対象となります。 それを試してみるには、64 KB を超えるイベントが 64 KB 単位で課金され、JSON 配列として Event Grid に送信されるイベントのバッチ サイズ制限がまだ合計 1 MB である点に気を付け、大きなイベントをプッシュします。</p>


  <h2>イベントの簡略化された管理</h2>


  <p>何千ものイベント サブスクリプションがある場合や、イベント ドメインの一般提供により、Azure サブスクリプションの周囲に何十万ものトピックが浮かんでいる場合があります。 これらのリソースの検索&rsquo;と管理を容易にするために、一覧の検索とページ分割 API の一覧表示は、Event Grid。 詳細については、「ドキュメント」を参照Azure Event Grid &ldquo;<a href="https://aka.ms/egsearchpagination" target="_blank">してください</a>。&rdquo;</p>


  <p><a href="https://docs.microsoft.com/azure/event-grid/event-filtering#advanced-filtering" target="_blank">JSON 内</a> の入れ子になったオブジェクトの数Event Grid制限を受け、メッセージをルーティングするために使用される高度なフィルターが一般提供されます。 これにより、他のサービスに渡す前にイベントをフィルター処理してさらに処理を行い、コンピューティング時間を短縮し、他の場所でこのフィルター処理を実行しないようにすることで必要なリソースをフィルター処理する際の細分性が向上します。</p>


  <p>&rsquo;高度なフィルターをまだ使用していない場合は、イベントの任意の部分で次の演算子を使用できます。StringContains、StringBeginsWith、StringEndsWith、StringIn、StringNotIn、NumberGreaterThan、NumberGreaterThanOrEquals、NumberLessThanOrEquals、NumberLessThanOrEquals、NumberIn、NumberNotIn、BoolEquals。</p>


  <h2>概要今日</h2>


  <p>いつものように、これらの新機能を試す機会を得て、ご意見、フィードバック、希望の一覧をお聞かせください。 次のリソースから始め、フィードバックをお寄せください。</p>


  <ol>
      <li>まだお持ち <a href="https://azure.microsoft.com/free/serverless/" target="_blank">ではない場合は、Azure</a> 無料アカウント&rsquo;にサインアップしてください</li>
      <li>デバイステレメトリ <a href="https://docs.microsoft.com/azure/iot-hub/iot-hub-event-grid" target="_blank">IoT Hubイベントをサブスクライブする方法Event Grid</a></li>
      <li>イベント ハンドラーとしてのService Bus<a href="https://aka.ms/egsbhandler" target="_blank">の詳細を確認する</a></li>
      <li>イベント ドメインを使用して、より強力なマルチテナント <a href="https://docs.microsoft.com/azure/event-grid/event-domains" target="_blank">アプリケーションを構築する</a></li>
      <li>これらの新しい API を使用して、何千ものイベントに対して検索と改ページを <a href="https://aka.ms/egsearchpagination" target="_blank">実行する</a></li>
      <li>高度なフィルターを使用して処理するために必要なイベント <a href="https://docs.microsoft.com/azure/event-grid/event-filtering#advanced-filtering" target="_blank">のみをルーティングする</a></li>
  </ol>
