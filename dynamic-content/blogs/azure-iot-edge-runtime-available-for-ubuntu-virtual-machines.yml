### YamlMime:Yaml
ms.openlocfilehash: d2a364f17066ab2b2e964d679ada5ba567d090d8
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139896189"
Slug: azure-iot-edge-runtime-available-for-ubuntu-virtual-machines
Title: Ubuntu 仮想マシンで使用可能な Azure IoT Edge ランタイム
Summary: 'Azure IoT edge は完全に管理されたサービスであり、クラウドに接続されているかオフラインであるかに関係なく、Azure とサードパーティのサービス (Edge モジュール) を IoT デバイス上で直接実行することができます。 '
Content: >-
  <p><a href="https://azure.microsoft.com/en-us/services/iot-edge/">Azure IoT Edge</a>は完全に管理されたサービスであり、クラウドに接続されているか<a href="https://azure.microsoft.com/en-us/blog/extended-offline-operation-with-azure-iot-edge/">オフライン</a>であるかに関係なく、Azure とサードパーティのサービス &mdash; エッジモジュール &mdash; を IoT デバイス上で直接実行することができます。 これらのエッジモジュールはコンテナーベースであり、接続から分析 &mdash; への接続までの機能を提供しているため、コードを記述しなくても Azure portal から完全にモジュールをデプロイできます。 <a href="https://azuremarketplace.microsoft.com/en-us/marketplace/apps/category/internet-of-things?page=1&amp;subcategories=iot-edge-modules">Azure Marketplace</a>の既存のエッジモジュールを参照できます。</p>


  <p>現在、 <a href="https://azuremarketplace.microsoft.com/en-us/marketplace/apps/microsoft_iot_edge.iot_edge_vm_ubuntu?tab=Overview">Ubuntu 仮想マシン</a>にプレインストールされているオープンソースの Azure IoT edge ランタイムを使用して、より簡単に開始し、エッジデバイスをシミュレートし、自動テストをスケールアウトすることをお &rsquo; 勧めします。</p>


  <h2>仮想マシンを使用する理由</h2>


  <p>Azure IoT エッジデプロイは、さまざまなデバイスにグローバルにデプロイできるようにスケーリングするように構築されています。また、ソリューションの大規模なデプロイの準備が整っているかどうかを確認するための重要な手順である仮想デバイスでワークロードをシミュレートすることもできます。 これを行う最も簡単な方法は、Azure IoT Edge ランタイムを実行する<a href="https://azure.microsoft.com/en-us/services/virtual-machines/">Azure 仮想マシン</a>(vm) でシミュレートされたデバイスを作成して、実稼働ハードウェアを使用する前であっても、開発 &mdash; の初期段階からテストを拡張することです。</p>


  <p>Azure Vm は次のとおりです。<br>

  &bull;&nbsp;&nbsp;&nbsp; スケーラブル/自動化可能: 必要な数だけデプロイできます。<br>

  &bull;&nbsp;&nbsp;&nbsp; 永続的: ローカルではなく、クラウドで管理されます。<br>

  &bull;&nbsp;&nbsp;&nbsp; 柔軟: 任意のオペレーティングシステムおよびエラスティックリソース<br>

  &bull;&nbsp;&nbsp;&nbsp; 使いやすい: 単純なコマンドライン命令またはテンプレートを使用したデプロイ</p>


  <h2>Ubuntu VM の Azure IoT エッジ</h2>


  <p>最初の起動時に、Ubuntu VM の Azure IoT エッジによって Azure IoT Edge ランタイムの最新バージョンがプレインストールされるため、常に最新の機能と修正プログラムがインストールされます。 また、接続文字列を設定してからランタイムを再起動するスクリプトも含まれています。これは、Azure VM ポータルまたは Azure コマンドラインを使用してリモートでトリガーできます。これにより、secure shell (SSH) またはリモートデスクトップセッションを開始せずに、IoT Edge デバイスを簡単に構成して接続できます。 このスクリプトは、IoT Edge クライアントが完全にインストール &rsquo; されるまで、接続文字列の設定を待機します。これにより、これを自動化に組み込む必要がなくなります。</p>


  <p>初期の内容は Ubuntu Server 16.04 LTS に基づいていますが、ユーザーからのフィードバックに基づいて、他のオペレーティングシステムとバージョンが追加される予定です。 コメントについ &rsquo; てのご意見をお聞かせください。</p>


  <h2>作業の開始</h2>


  <p>azure Marketplace、azure Portal、または azure コマンドラインを使用して、Ubuntu VM に Azure IoT エッジをデプロイできます。 Azure Marketplace とポータルの使用方法について説明します。</p>


  <h3>Azure Marketplace</h3>


  <p>1つのインスタンスを設定する最も簡単な方法は、Azure Marketplace を使用することです。</p>


  <p>1.<a href="https://aka.ms/azure-iot-edge-ubuntuvm">短いリンク</a>を使用するか、 <a href="https://azuremarketplace.microsoft.com/en-us/marketplace/apps/category/internet-of-things?page=1&amp;subcategories=iot-edge-modules">Azure marketplace</a>の Ubuntu &rdquo; で Azure IoT Edge を検索 &ldquo; することにより、marketplace に移動します。 &nbsp;</p>


  <p>2. &nbsp; [今すぐ &rdquo; 取得] を選択 &ldquo; し、次のダイアログで [続行 &rdquo; ] をクリック &ldquo; します。</p>


  <p>3. &nbsp; Azure Portal で、[作成 &rdquo; ] を選択 &ldquo; し、ウィザードに従って VM をデプロイします。</p>


  <ol start="1" style="margin-left: 40px; list-style-type: lower-alpha;">
   <li>&rsquo;VM &rsquo; を初めて試す場合は、パスワードを使用して、パブリック受信ポートメニューで SSH を有効にするのが最も簡単です。</li>
   <li>リソース消費の激しいワークロードがある場合は、CPU やメモリを追加して、仮想マシンのサイズをアップグレードしてください。</li>
  </ol>


  <p>4. &nbsp; 仮想マシンがデプロイされたら、IoT Hub に接続するように次の方法で構成します。</p>


  <ol start="1" style="list-style-type: lower-alpha; margin-left: 40px;">
   <li>IoT Hub に作成された IoT Edge デバイスからデバイス接続文字列をコピーする (このプロセスに慣れていない場合 &rsquo; は、「Azure portal &rdquo; ハウツーガイド<a href="https://docs.microsoft.com/en-us/azure/iot-edge/how-to-register-device-portal" style="font-size: 13.008px;">から新しい Azure IoT Edge デバイスを登録</a>する」に従っ &ldquo; てください)。</li>
   <li>Azure Portal から新しく作成された仮想マシンリソースを選択し、[実行] コマンド &rdquo; オプションを &ldquo; 開く</li>
  </ol>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/5911e2d4-c641-45bf-9dfd-9e37a722e84a.png"><img alt="Greg-1" border="0" height="240" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/75090040-ec03-4d9f-b2d7-5eb8a57755a7.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="Greg-1" width="198"></a></p>


  <ol start="3" style="list-style-type: lower-alpha; margin-left: 40px;">
   <li>&ldquo;[RunShellScript]&rdquo; オプションを選択します</li>
  </ol>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/07dc7ae3-41e0-4d49-b47c-17960720a3b0.jpg"><img alt="Greg-2" border="0" height="69" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/387e11e9-0a1a-481f-ba3d-a5885bb6f204.jpg" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="Greg-2" width="435"></a></p>


  <ol start="4" style="list-style-type: lower-alpha; margin-left: 40px;">
   <li>コマンドウィンドウで、デバイス接続文字列:/etc/iotedge/configedge. sh &ldquo; {device_connection_string} を使用して、次のスクリプトを実行します。&rdquo;</li>
   <li>&ldquo;[実行]&rdquo; を選択します</li>
   <li>しばらく待つと、接続文字列が正常に設定されたことを示すメッセージが画面に表示されます。</li>
  </ol>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/0f55e927-e0fd-490b-97ec-08d56ac7744e.jpg"><img alt="Greg-3" border="0" height="409" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/340247b0-e27d-406a-b869-6b8b00f2a4d8.jpg" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="Greg-3" width="356"></a></p>


  <p>5. &nbsp; Voila! これで、Ubuntu VM 上の IoT Edge がに接続されました IoT Hub</p>


  <h3>Azure portal</h3>


  <p>&rsquo;Azure portal で既に作業している場合は Azure IoT Edge &rdquo; を検索 &ldquo; し、[Ubuntu Server 16.04 LTS + Azure IoT Edge runtime &rdquo; ] を選択し &ldquo; て VM 作成ワークフローを開始できます。 そこから、上記の Marketplace の指示に従って手順3-5 を実行します。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/8ae2789b-26f5-4d50-b9d1-833e7530f6bc.png"><img alt="Greg-4" border="0" height="156" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/6187c6ee-f908-4d44-8623-55a6cf57425e.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="Greg-4" width="360"></a></p>


  <p>&nbsp;</p>


  <p>&rsquo;これらの仮想マシンを大規模にデプロイする方法については、 &ldquo; <a href="https://docs.microsoft.com/en-us/azure/iot-edge/how-to-install-iot-edge-ubuntuvm#deploy-from-azure-cli">Ubuntu Virtual Machines の Azure IoT Edge の実行に関する</a>記事の Azure CLI &rdquo; セクションをご覧ください。</p>


  <p>また、この新しいオファリングについて詳しく説明し、ライブチュートリアルを提供するために IoT ショーに参加しました。</p>


  <p style="text-align: center;"><iframe allow="autoplay; encrypted-media" allowfullscreen="" frameborder="0" height="315" scrolling="no" src="https://channel9.msdn.com/Shows/Internet-of-Things-Show/Azure-IoT-Edge-VM-on-Azure-Marketplace/player?format=ny" width="560"></iframe></p>


  <p>&nbsp;</p>


  <p>これで、仮想マシンを使用して IoT Edge デバイスを作成し、それを IoT Hub に接続したので、他の IoT Edge デバイスと同様にモジュールをデプロイできます。 たとえば、 <a href="https://azuremarketplace.microsoft.com/en-us/marketplace/apps/category/internet-of-things?page=1&amp;subcategories=iot-edge-modules">IoT Edge モジュールマーケットプレース</a>にアクセスしてシミュレートされ &ldquo; た<a href="https://azuremarketplace.microsoft.com/en-us/marketplace/apps/microsoft.edge-simulated-temperature-sensor-ga?tab=Overview">温度センサー</a> &rdquo; を選択した場合は、このモジュールを新しいデバイスにデプロイし、数回のクリックでデータフローを確認することができます。 次に、仮想マシンに独自のワークロードをデプロイし、以下のコメントセクションまたは <a href="https://feedback.azure.com/forums/907045-azure-iot-edge">ユーザーの声</a>で、IoT Edge のテストエクスペリエンスをさらに簡略化する方法をご確認ください。&nbsp;</p>


  <p>現時点では、 <a href="https://aka.ms/azure-iot-edge-ubuntuvm">Ubuntu 仮想マシンで Azure IoT Edge</a>を使い始めましょう。</p>
