### YamlMime:Yaml
ms.openlocfilehash: 25d9dad6f30df5019a8b13f634d10e6cb0f724f7
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139909796"
Slug: improve-availability-with-zoneredundant-storage-for-azure-disk-storage
Title: Azure Disk Storage のゾーン冗長ストレージを使用して可用性を向上Storage
Summary: 組織がクラウド導入を加速し続ける中で、信頼性の高いインフラストラクチャの必要性は、ビジネス継続性を確保し、コストの高い中断を回避するために不可欠です。 現在、Azure Disk Storage のゾーン冗長ストレージ (ZRS) の一般提供を発表Storage。 ZRS を使用すると、1 つのリージョン内の 3 つのゾーンにわたるブロック ストレージのクラウドファースト同期レプリケーションを提供することで、重要なワークロードの可用性をさらに向上できます。
Content: >-
  <p>組織がクラウド導入を加速し続ける中で、信頼性の高いインフラストラクチャの必要性は、ビジネス継続性を確保し、コストの高い中断を回避するために不可欠です。 <a href="https://azure.microsoft.com/en-us/services/storage/disks/" target="_blank">Azure Disk Storage</a> では、Azure プレミアム SSD または Azure Ultra Disk Storage を使用した Azure Virtual Machines の可用性のクラス最高の単一インスタンス SLA を含む、すべてのディスクの種類に対して、業界をリードする年間 0% の障害率と単一インスタンスのサービス レベル アグリーメント (SLA) を備えた、すべてのワークロードの最大の回復性が提供されます。</p>


  <p>現在、Azure Disk Storage のゾーン冗長ストレージ <a href="https://docs.microsoft.com/en-us/azure/virtual-machines/disks-redundancy#zone-redundant-storage-for-managed-disks" target="_blank">(ZRS)</a> の一般提供により、インフラストラクチャの信頼性をさらに向上させるために投資を続Storage。 ZRS&rsquo; を使用すると、1 つのリージョン内の 3 つのゾーンにわたるブロック ストレージの同期レプリケーションのみを業界に提供することで、重要なワークロードの可用性を向上できます。これにより、自然災害やハードウェアの問題が原因で発生する可能性があるゾーン障害をディスクで許容できます。 ZRS は現在、Azure プレミアムSSD と Azure Standard SSD でサポートされています。</p>


  <p>プレビュー期間中は、さまざまな業界の多くの企業のお客様から強い関心とフィードバックが寄せられます。 これらのお客様は、ディスクに ZRS を使用して、SAP および SQL Server ワークロード、コンテナー アプリケーション、レガシ アプリケーションのクラスタリングなど、さまざまなシナリオで高可用性を実現する予定です。</p>


  <h2>クラスター化または分散アプリケーションの可用性を向上する</h2>


  <p>昨年、Azure Disk Storage の共有ディスクの<a href="https://aka.ms/azureshareddiskdocs" target="_blank"></a>一般提供を発表しました。これは、Windows と Linux ベースのクラスター化アプリケーションと分散アプリケーションの両方をサポートするクラウド内の唯一の共有ブロック ストレージです。 この独自のオファリングにより、単一のディスクを複数の仮想マシン (VM) から同時に接続して使用できます。これにより、クラスター化されたデータベース、並列ファイル システム、永続コンテナー、機械学習アプリケーションなど、最も要求の厳しいエンタープライズ アプリケーションをクラウドで実行できます。高速フェールオーバーと高可用性のための既知のデプロイ パターンを損なうことなく済みます。 お客様は、SQL フェールオーバー クラスター インスタンス <a href="https://docs.microsoft.com/en-us/azure/azure-sql/virtual-machines/windows/failover-cluster-instance-azure-shared-disks-manually-configure?tabs=windows2012" target="_blank">(FCI)</a> や<a href="https://docs.microsoft.com/en-us/windows-server/failover-clustering/failover-clustering-overview" target="_blank">、Windows Server フェールオーバー クラスター (WSFC)</a> を活用する <a href="https://docs.microsoft.com/en-us/azure/virtual-machines/workloads/sap/sap-high-availability-guide-wsfc-shared-disk" target="_blank">SAP ASC/SCS</a> など、共有ディスクと ZRS を組み合わせて、クラスター化されたアプリケーションの可用性をさらに向上できます。</p>


  <p>VM <a href="https://docs.microsoft.com/en-us/azure/availability-zones/az-overview" target="_blank">Availability Zones</a> を使用すると、可用性を高め、共有 ZRS ディスクを異なるゾーン内の VM に接続するために、プライマリ VM とセカンダリ VM を異なるゾーンに割り当てられます。 ゾーンの停止によってプライマリ VM がダウンした場合、WSFC はセカンダリ VM に迅速にフェールオーバーして、アプリケーションの可用性を向上します。 お客様は、SCSI 永続予約で IO フェンシングを使用する Linux ベースのクラスタリング アプリケーションに対して、共有ディスクで ZRS <a href="https://docs.microsoft.com/en-us/azure/virtual-machines/disks-shared-enable?tabs=azure-cli#supported-scsi-pr-commands" target="_blank">を使用することもできます</a>。 共有ディスクは、すべての ssd および プレミアム サイズで使用Standard SSD、さまざまな価格とパフォーマンスのオプションに合わせて最適化できます。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/f326ebb2-a84b-49c5-aa12-9e9b91843580.png"><img alt="Multi-zone Windows Server Failover Cluster with shared ZRS disk" border="0" height="508" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/1c163733-0d66-4522-a80a-2ba2c77e98bd.png" style="border: 0px currentcolor; border-image: none; display: inline; background-image: none;" title="Azure Disk Storage ZRS ディスク" width="646"></a></p>


  <p><em>図 1: 共有 ZRS ディスクWindowsサーバー フェールオーバー クラスターのマルチゾーン 接続</em></p>


  <h2>複数ゾーンのクラスターで ZRS ディスクをAzure Kubernetes Serviceする</h2>


  <p>お客様は、高い信頼性を実現するために、マルチ <a href="https://docs.microsoft.com/en-us/azure/aks/availability-zones" target="_blank">ゾーン Azure Kubernetes Service (AKS)</a> でホストされているコンテナー アプリケーションに対して ZRS ディスクを利用できます。 ゾーンがダウンした場合、AKS は、ZRS ディスクをデタッチして正常なゾーン内のノードにアタッチすることで、ステートフル ポッドを正常なゾーンに自動的にフェールオーバーします。 最近、CSI ドライバーを介して AKS で ZRS ディスクの <a href="https://github.com/kubernetes-sigs/azuredisk-csi-driver/tree/master/deploy/example/topology#zrs-disk-support" target="_blank">サポートをリリースしました</a>。</p>


  <h2>レガシ アプリケーションの高可用性を実現する</h2>


  <p>ワークロードの高可用性を実現するには、2 つのゾーン (アプリケーションレベルのレプリケーションなど) を<a href="https://docs.microsoft.com/en-us/sql/database-engine/availability-groups/windows/always-on-availability-groups-sql-server?view=sql-server-ver15" target="_blank">使用SQL Always On</a>。 ただし、&#39;がアプリケーション レベルの同期レプリケーションをサポートしない古いバージョンの SQL Server のような、業界固有の独自のソフトウェアまたはレガシ アプリケーションを使用している場合、ZRS ディスクはストレージ レベルのレプリケーションによって可用性を向上します。 たとえば、自然災害やハードウェア障害のためにゾーンがダウンした場合、ZRS ディスクは引き続き動作します。 影響を受けるゾーン内の VM が使用できなくなった場合は、別のゾーンの仮想マシンを使用して、同じ ZRS ディスクを接続できます。</p>


  <h2>高可用性でコスト効率の高いソリューションを構築する</h2>


  <p>高可用性サービスとしてのソフトウェア (SaaS) ソリューションを構築するために、独立系ソフトウェア ベンダー (ISV) は ZRS ディスクを利用して可用性を高め、コストを削減できます。 以前は、ISV は 2 つのゾーンで VM をホストし、VM 間でデータをレプリケートする必要があります。 これにより、2 つのゾーンにデータのコピーを 2 つ保持し、2 つのゾーンにデータをレプリケートするための追加の中央処理装置 (CPU) を維持するために、ローカル冗長ストレージ (LRS) ディスクの 2 倍の量をデプロイする必要があったので、追加コストが発生しました。 ISV は、共有 ZRS ディスクを使用して、ディスクのコストを 1.5 倍削減し、追加のレプリケーション コストを発生ささない、よりコスト効率の高いソリューションを提供できます。 さらに、ZRS ディスクでは、レプリケーションがプラットフォームによって実行される場合に、データの VM へのレプリケーションよりも書き込み待機時間が短くなります。 NetApp では、ZRS によって提供される価値とその顧客について説明します。</p>


  <p style="margin-left: 40px;">多くのお客様は、ゾーン障害に対するビジネス継続性を向上し、ダウンタイムを短縮するために、データをクロスゾーンで<em>レプリケートする必要があります。&ldquo;Azure Disk Storage の ZRS を共有ディスクと組み合わせると、ソリューションの可用性を向上し、アプリケーションで完全なパフォーマンスを実現し、レプリケーションをバックエンド インフラストラクチャにオフロードすることでレプリケーション コストを削減することができるので、本当にゲームの変更者です。NetApp では、ZRS ディスクを使用して CVO 高可用性ソリューションを拡張できます。これにより、相互のお客様に対して包括的な高可用性ソリューションを低コストで提供できます。&rdquo;</em>&mdash;Rajesh Rflixman、NetApp のシニア テクニカル ディレクター</p>


  <h2>ZRS ディスクのパフォーマンス</h2>


  <p>ZRS ディスクによって提供される IOPS と帯域幅は、対応する LRS ディスクと同じです。 たとえば、P30 (128 GiB) LRS プレミアム SSD ディスクでは、5,000 IOPS と 200 MB/秒のスループットが提供されます。これは、P30 ZRS プレミアム SSD ディスクの場合と同じです。 データのゾーン間コピーが原因で、ZRS のディスク待機時間が LRS のディスク待機時間よりも長くなります。</p>


  <h2>はじめに</h2>


  <p>SSD および ZRS を使用した プレミアム および Standard SSD の ZRS の価格の詳細については、<a href="https://azure.microsoft.com/pricing/details/managed-disks" target="_blank">Azure Disk Storageの価格に関するページを参照してください</a>。</p>


  <p>ZRS を使用するディスクは、現在、リージョンの可用性が高い一部のリージョンで利用できます。 サポートされている <a href="https://aka.ms/zrsdisksdoc" target="_blank">リージョンの詳細については、ZRS ディスク</a> のドキュメントを参照し、次の方法を確認してください。</p>


  <ol>
      <li>ZRS OS とデータ ディスクを使用して VM を作成します。</li>
      <li>共有 ZRS ディスクを使用して、異なるゾーンに複数の VM を作成します。</li>
      <li>ZRS OS とデータ ディスクを使用して仮想マシン スケール セット (VMSS) を作成します。</li>
  </ol>


  <p>ZRS ディスクに関するフィードバックをお待ちしております。 メールをお送りください <a href="mailto:AzureDisks@microsoft.com" target="_blank">AzureDisks@microsoft.com</a>。</p>


  <ol>

  </ol>
