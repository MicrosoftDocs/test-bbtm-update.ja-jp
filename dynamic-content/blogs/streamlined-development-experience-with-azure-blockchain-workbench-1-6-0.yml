### YamlMime:Yaml
ms.openlocfilehash: 8e0c8fa446d331f87e3a1b1fe7f0fe0b38617af6
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139892076"
Slug: streamlined-development-experience-with-azure-blockchain-workbench-1-6-0
Title: Azure Blockchain Workbench 1.6.0 での開発エクスペリエンスの合理化
Summary: Workbench 1.6.0 のリリースをお知らせします。 これには、アプリケーションのバージョン管理、更新されたメッセージング、合理化されたスマート コントラクト開発などの新機能が含まれています。
Content: >-
  <p>バージョン 1.6.0 Azure Blockchain Workbench発表します。 これには、アプリケーションのバージョン管理、更新されたメッセージング、合理化されたスマート コントラクト開発などの新機能が含まれています。 Workbench の新しいインスタンスは、Azure portal を使用してデプロイするか、アップグレード スクリプトを使用して既存のデプロイを 1.6.0 に <a href="https://github.com/Azure-Samples/blockchain/tree/master/blockchain-workbench/scripts" target="_blank">アップグレードできます</a>。</p>


  <p>WorkbenchBase 基本<strong></strong>クラスを削除し、送信メッセージング形式を変更するには既存のアプリケーションを変更する必要があります。このセクションでは、変更点に注意してください。</p>


  <p>この更新プログラムには、次の強化機能が含まれています。</p>


  <h2>アプリケーションのバージョン管理</h2>


  <p>最も一般的な機能要求の 1 つは、開発プロセス中にアプリケーションを手動で変更して更新する代わりに、Workbench アプリケーションを管理およびバージョン管理する簡単な方法を用意する必要があるという要望です。</p>


  <p>1.6.0 でのアプリケーションのバージョン管理をサポートする Workbench 開発ストーリーを、Web アプリと REST API を介して改善を続けREST API。 [バージョンの追加] をクリックすると、Web アプリケーションから新しいバージョンを直接アップロードできます。 アプリケーション ロール名に変更がある場合、ロールの割り当ては新しいバージョンに引き継がされないので注意してください。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/33c7784a-8254-435d-b7be-23413fa3a7c9.png"><img width="900" height="489" title="Blockchain Workbenchアプリケーションのスクリーンショット" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" alt="Blockchain Workbench applications screenshot" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/28897c3e-a95b-4a9a-b376-a17761a41a84.png" border="0"></a></p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/a7e61870-7afd-46e0-a5a1-eddcd9903af5.png"><img width="900" height="490" title="Blockchain Workbenchバージョンの追加のスクリーンショット" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" alt="Blockchain Workbench adding new version screenshot" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/b4efe78b-2ddb-432d-8748-e5bc82aa0c40.png" border="0"></a></p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/d0ad77ca-a87e-4613-9274-ade09870420a.png"><img width="900" height="488" title="Blockchain Workbenchバージョンのアップロードのスクリーンショットを確認する" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" alt="Blockchain Workbench confirming new version upload screenshot" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/18057a91-dd66-4132-8114-d2d1b6e2690f.png" border="0"></a></p>


  <p>アプリケーションのバージョン履歴を表示できます。 古いバージョンを表示してアクセスするには、アプリケーションを選択し、コマンド バーの [バージョン履歴] をクリックします。 現在、既定では古いバージョンは読み取り専用です。 以前のバージョンと対話する場合は、以前のバージョンを明示的に有効にできます。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/9674f373-16ed-4add-9601-491dcbbe4c2f.png"><img width="900" height="488" title="Blockchain Workbench履歴のスクリーンショット" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" alt="Blockchain Workbench version history screenshot" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/91cba592-d2a2-4a5e-b7d2-54dc1fda3a31.png" border="0"></a></p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/d6faca08-9a50-43b8-a161-699f77be67fe.png"><img width="900" height="490" title="Blockchain Workbenchバージョンワークフローのスクリーンショット" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" alt="Blockchain Workbench new version workflow screenshot" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/f319e7df-88f0-4fe1-ac22-1058b3b4add2.png" border="0"></a></p>


  <h2>新しいエグレス メッセージング API</h2>


  <p>Workbench には、さまざまな統合ポイントと拡張ポイントが含REST APIメッセージング API が提供されます。 このREST APIは、ブロックチェーン アプリケーションに統合する方法を開発者に提供します。 メッセージング API は、システムとシステムの統合用に設計されています。</p>


  <p>以前のリリースでは、新しい入力メッセージング API でさらに多くのシナリオを有効にしました。 1.6.0 では、Azure Event Grid と Azure Service Bus を介してブロックチェーン イベントを発行する、拡張および更新された出力メッセージング API を実装しました。 これにより、ダウンストリーム コンシューマーは、このようなイベントやメッセージに基づいてアクションを実行できます。ブロックチェーン上の関連するコントラクトに対する更新が発生した場合に電子メール通知を送信したり、既存のエンタープライズ リソース計画 (ERP) システムでイベントをトリガーしたりします。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/f1fa8fd4-d6d7-4b7e-8e8b-8c61ed0eee72.png"><img width="959" height="541" title="入出力メッセージング API フローチャート" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" alt="Input and output messaging API flowchart" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/2f7629a6-0d58-429e-bcb1-364decc33ac5.png" border="0"></a></p>


  <p>新しい出力メッセージング API を使用したコントラクト情報メッセージの例を次に示します。 ブロックに関する情報、コントラクトの変更トランザクションの一覧、コントラクト ID やコントラクト プロパティなどのコントラクト自体に関する情報を取得します。 また、コントラクトが新しく作成されたかどうか、またはコントラクトの更新が発生したかどうかに関する情報も取得します。</p>


  <pre>{
       "blockId": 123,
       "blockhash": "0x03a39411e25e25b47d0ec6433b73b488554a4a5f6b1a253e0ac8a200d13f70e3",
       "modifyingTransactions": [
           {
               "transactionId": 234,
               "transactionHash": "0x5c1fddea83bf19d719e52a935ec8620437a0a6bdaa00ecb7c3d852cf92e18bdd",
               "from": "0xd85e7262dd96f3b8a48a8aaf3dcdda90f60dadb1",
               "to": "0xf8559473b3c7197d59212b401f5a9f07b4299e29"
           },
           {
               "transactionId": 235,
               "transactionHash": "0xa4d9c95b581f299e41b8cc193dd742ef5a1d3a4ddf97bd11b80d123fec27506e",
               "from": "0xd85e7262dd96f3b8a48a8aaf3dcdda90f60dadb1",
               "to": "0xf8559473b3c7197d59212b401f5a9f07b4299e29"
           }
       ],
       "contractId": 111,
       "contractLedgerIdentifier": "0xf8559473b3c7197d59212b401f5a9f07b4299e29",
       "contractProperties": [
           {
               "workflowPropertyId": 1,
               "name": "State",
               "value": "0"
           },
           {
               "workflowPropertyId": 2,
               "name": "Description",
               "value": "1969 Dodge Charger"
           },
           {
               "workflowPropertyId": 3,
               "name": "AskingPrice",
               "value": "30000"
           },
           {
               "workflowPropertyId": 4,
               "name": "OfferPrice",
               "value": "0"
           },
           {
               "workflowPropertyId": 5,
               "name": "InstanceOwner",
               "value": "0x9a8DDaCa9B7488683A4d62d0817E965E8f248398"
           },
       ],
       "isNewContract": false,
       "connectionId": 1,
       "messageSchemaVersion": "1.0.0",
       "messageName": "ContractMessage",
       "additionalInformation": {}
  }</pre>


  <p>新しく設計されたメッセージング API の詳細については、「メッセージング統合の概要」Azure Blockchain Workbench<a href="https://docs.microsoft.com/en-us/azure/blockchain/workbench/messages-overview" target="_blank">参照してください</a>。 この出力メッセージング モデルの再設計は、実行した既存の統合に影響を与える点に注意してください。</p>


  <h2>WorkbenchBase クラスがコントラクト コードで不要になった</h2>


  <p>Workbench を使用しているお客様の場合は、WorkbenchBase というコントラクト コードに含める必要がある特定のクラスがあるのがわかっています。 このクラスを使用すると、Workbench で指定したコントラクトを作成および更新できます。 カスタム Workbench アプリケーションを開発する場合は、WorkbenchBase クラスで定義されている関数を呼び出して、コントラクトが作成または更新されたことを Workbench に通知する必要もあります。</p>


  <p>1.6.0 では、WorkbenchBase と同じ目的を提供するこのコードは、コントラクト コードをアップロードするときに自動的に生成されます。 カスタム Workbench アプリケーションを開発する際のエクスペリエンスが簡素化され、WorkbenchBase の使用に関連するバグや検証エラーがなくなりました。 WorkbenchBase が削除された更新されたサンプルを参照してください。</p>


  <p>つまり、WorkbenchBase クラスや、 クラスで定義されているコントラクト更新関数とコントラクト作成関数を含める必要がなくなりました。 この新しいバージョンをサポートするために古い Workbench アプリケーションを更新するには、コントラクト コード ファイル内のいくつかの項目を変更する必要があります。</p>


  <ul>
   <li>WorkbenchBase クラスを削除します。</li>
   <li>WorkbenchBase クラスで定義されている関数の呼び出しを削除します (ContractCreated および ContractUpdated)。</li>
  </ul>


  <p>WorkbenchBase が含まれているアプリケーションをアップロードすると、検証エラーが発生し、削除されるまで正常にアップロードできません。 以前のバージョンから 1.6.0 にアップグレードしているお客様の場合、既存の Workbench アプリケーションが自動的にアップグレードされます。 新しいバージョンのアップロードを開始したら、1.6.0 形式である必要があります。</p>


  <h2>Workbench 内から利用可能な更新プログラムを直接取得する</h2>


  <p>Workbench の更新プログラムがリリースされるたびに、Azure ブログを通じて更新を発表し、リリース ノートをリリース ノートに<a href="https://aka.ms/blockchainsdkgithub" target="_blank">投稿GitHub</a>。 これらのお知らせを積極的に監視していない場合は、最新バージョンの Workbench を使用しているかどうかを判断するのは困難な場合があります。 開発中に問題が発生する可能性があります。これは、最新のリリースで既にチームによって修正されています。</p>


  <p>Workbench UI 内で最新の更新プログラムの情報を直接表示する機能が追加されました。 利用可能な更新プログラムがある場合は、最新リリースで利用可能な変更を表示し、UI から直接更新することができます。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/48f9dbc9-bbef-4712-ac88-5aacb6d01c4e.png"><img width="900" height="455" title="Workbench UI 内で利用可能な最新の更新プログラムのスクリーンショット" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" alt="screenshot of the latest updates available within the Workbench UI" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/311c2901-0297-452d-9467-f81c6ae7720c.png" border="0"></a></p>


  <h2>1.6.0 の変更点</h2>


  <ul>
   <li><strong>WorkbenchBase 関連</strong>のコード生成: 1.6.0 より前では、WorkbenchBase クラスが必要でした。これは、Blockchain Workbench コントラクトの作成と更新を示すイベントが定義されたためです。 この変更により、Workbench によって自動的にコードが生成されるので、コントラクト コード ファイルに含める必要がなくなりました。 Solidity コードに WorkbenchBase を含むコントラクトは、アップロード時に拒否されます。</li>
  </ul>


  <ul>
   <li><strong>更新された送信メッセージング API</strong>: Workbench には、システムとシステムの統合のためのメッセージング API があります。 再設計された送信メッセージング API があります。 新しいスキーマは、現在のメッセージング API で行った既存の統合作業に影響します。 新しいメッセージング API を使用する場合は、統合固有のコードを更新する必要があります。

   <ul>
    <li>このリリースでは、Service Bus キューとトピックの名前が変更されました。 Service Bus をポイントするコードは、Workbench バージョン 1.6.0 で動作するために更新する必要があります。
    <ul>
     <li>ingressQueue - 要求メッセージが到着する入力キュー。</li>
     <li>egressTopic - 更新メッセージと情報メッセージが送信される出力キュー。</li>
     <li>バージョン 1.6.0 で配信されるメッセージの形式は異なります。 メッセージング API からメッセージを問い合い、その内容に基づいてアクションを実行する既存のコードを更新する必要があります。 新しく設計されたメッセージング API の詳細については、ドキュメント「Azure Blockchain Workbench<a href="https://docs.microsoft.com/en-us/azure/blockchain/workbench/messages-overview" target="_blank">統合」を参照してください</a>。</li>
    </ul>
    </li>
   </ul>
   </li>
  </ul>


  <ul>
   <li><strong>Workbench アプリケーションのサンプル更新</strong>: コントラクト コードで WorkbenchBase クラスが不要になったので、すべての Workbench アプリケーションのサンプル コードが更新されます。 古いバージョンの Workbench を使用している場合は、GitHub のサンプルを使用する場合、またはその逆の場合は、エラーが表示されます。 サンプルを使用する場合は、Workbench の最新バージョンにアップグレードします。</li>
  </ul>


  <p>Twitter でフォローすることで、Azure Blockchainを最新の情報に更新することができます <a href="https://twitter.com/MSFTBlockchain" target="_blank">@MSFTBlockchain</a>。 フィードバックを提供し、Workbench の機能やアイデアを提案するには、 <a href="https://aka.ms/blockchainuservoice" target="_blank">Blockchain User Voice</a> を使用してください。 入力は、これを最適なサービスにするために役立つ機能です。 お客様からの声をお待ちしております。</p>
