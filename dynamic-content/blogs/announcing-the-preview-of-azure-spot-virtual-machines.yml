### YamlMime:Yaml
ms.openlocfilehash: 2512918b156530cdedf80a68e6fd9e6d956a087d
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139895181"
Slug: announcing-the-preview-of-azure-spot-virtual-machines
Title: Azure スポット Virtual Machines のプレビューの発表
Summary: Azure スポット Virtual Machines のプレビューが発表されています。 Azure スポット Virtual Machines では、使用されていない Azure コンピューティング容量をディープ割引で利用できます。
Content: >-
  <p>&rsquo;Azure スポット Virtual Machines のプレビューを発表します。 Azure スポット Virtual Machines では、使用されていない Azure コンピューティング容量をディープ割引で利用できます。 スポット料金は、Virtual Machine Scale Sets (VMSS) に加えて、1つの Virtual Machines でご利用いただけます。 これにより、Azure で幅広い種類のワークロードをデプロイしながら、割引価格へのアクセスを実現できます。 スポット Virtual Machines には従量課金制 Virtual Machines と同じ特性があり、価格と削除に違いがあります。 Azure で容量が必要な場合は、いつでもスポット Virtual Machines を削除できます。</p>


  <p>スポット Virtual Machines で実行するのに最適なワークロードには、次のようなものがありますが、必ずしも限定されるわけではありません。</p>


  <p>&bull;&nbsp;&nbsp;&nbsp; Batch ジョブ。<br>

  &bull;&nbsp;&nbsp;&nbsp; 中断を維持したり、中断から復旧したりできるワークロード。<br>

  &bull;&nbsp;&nbsp;&nbsp; 開発とテスト。<br>

  &bull;&nbsp;&nbsp;&nbsp; スポット Virtual Machines を使用してスケールアウトし、コストをさせることができるステートレスなアプリケーション。<br>

  &bull;&nbsp;&nbsp;&nbsp; 短時間のジョブ。仮想マシンが削除されると、簡単に再実行できます。</p>


  <p>スポット Virtual Machines のプレビューでは、スケールセットでの Azure 低優先度 Virtual Machines のプレビューが置き換えられます。 対象となる優先順位の低い Virtual Machines は、スポット Virtual Machines に自動的に移行されます。 詳細については、 <a href="https://azure.microsoft.com/en-us/pricing/spot/" target="_blank">FAQ </a>を参照してください。&nbsp;</p>


  <h2>価格</h2>


  <p>優先順位の低い Virtual Machines とは異なり、スポット Virtual Machines の価格は、Azure リージョンのサイズまたは SKU の容量によって異なります。 スポット価格を使用すると、特定の Azure 仮想マシンシリーズとリージョン内の特定のサイズの可用性と需要に関する洞察を得ることができます。 料金は安定化を実現するために変更されるため、予算の管理が容易になります。 Azure portal では、現在の Azure 仮想マシンのスポット料金にアクセスして、ニーズに最も合ったリージョンまたは仮想マシンのサイズを簡単に判断できます。 スポット料金は従量課金制の料金で上限になります。<br>

  <img alt="VM size pane in portal showing sizes and spot prices" border="0" height="468" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/4d957769-5acd-43e4-bcbf-137d983005df.jpg" style="border: 0px currentcolor; border-image: none; display: inline; background-image: none;" title="" width="800">&nbsp;</p>


  <h2>デプロイ</h2>


  <p>スポット Virtual Machines は簡単にデプロイおよび管理できます。 スポットバーチャルマシンの展開は、通常のバーチャルマシンの構成と展開に似ています。 たとえば、Azure portal では、Azure スポットインスタンスを選択してスポット仮想マシンをデプロイするだけで済みます。 また、スポット Virtual Machines の最大価格を定義することもできます。 2 つのオプションを次に示します。&nbsp;</p>


  <ol>
      <li>価格を上限にせずに、 <a href="https://docs.microsoft.com/en-us/azure/virtual-machines/windows/spot-portal" target="_blank">スポット Virtual Machines</a> をデプロイするように選択できます。 Azure では、任意の時点でお客様のスポットとしての仮想マシンの料金が課金されるため、Virtual Machines が価格の理由で削除されることはありません。<br>
  &nbsp;<img alt="Select capacity only eviction type." border="0" height="593" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/41d3bc6a-e129-44b5-85a8-7d9a72493516.jpg" style="border: 0px currentcolor; border-image: none; display: inline; background-image: none;" title="" width="800"></li>
      <li>または、予算を守るために特定の価格を指定することもできます。 Azure では、設定した最大価格を超えて課金されることはなく、その価格が定義された最大価格を超えた場合に仮想マシンが削除されます。<br>
  &nbsp; <img alt=" Ability to provide maximum price to deploy Spot VM. " border="0" height="639" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/d9dbbdee-3285-4cb3-80f4-ebb3c9a27ea1.jpg" style="border: 0px currentcolor; border-image: none; display: inline; background-image: none;" title="" width="800"></li>

  </ol>


  <p>コストを削減するために使用できるオプションは他にもいくつかあります。</p>


  <ol>
      <li>ワークロードに特定の仮想マシンのシリーズとサイズが不要な場合は、同じリージョン内にある他の Virtual Machines も安価である可能性があります。</li>
      <li>ワークロードが特定のリージョンに依存していない場合は、別の Azure リージョンを見つけてコストを削減することができます。</li>
  </ol>


  <h2>Quota</h2>


  <p>この発表の一環として、柔軟性を高めるために、Azure は、従量課金制の仮想マシンのクォータとは別のスポット Virtual Machines 用に個別のクォータをロールアウトします。 スポット Virtual Machines インスタンスとスポット VMSS インスタンスのクォータは、特定の Azure リージョン内のすべての仮想マシンサイズに対して1つのクォータです。 この方法を使用すると、より広範な一連の Virtual Machines に簡単にアクセスできます。<br>

  &nbsp; <img alt="Request new quota for Spot VMs." border="0" height="381" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/6ae2a02c-cf5a-46c6-a769-9759863f8ba2.jpg" style="border: 0px currentcolor; border-image: none; display: inline; background-image: none;" title="" width="558"></p>


  <h2>削除の処理</h2>


  <p>Azure は、お客様のスポットマシンの実行を維持し、削除を最小化しようとしますが、Azure スポット Virtual Machines のランタイムとしての削除を処理できるようにワークロードを準備する必要があります。 VMSS インスタンスは保証されません。 スケジュールされたイベントをサブスクライブすることで、必要に応じて <a href="https://docs.microsoft.com/en-us/azure/virtual-machines/linux/scheduled-events" target="_blank">30 秒</a> の削除通知を受け取ることができます。 Virtual Machines は、次の理由により削除できます。</p>


  <ol>
      <li>仮想マシンに対して定義した価格が、スポットの価格を超えています。 選択した仮想マシンのスポット料金がデプロイ時に定義した価格を超えた場合、Azure スポット Virtual Machines が削除されます。 価格を変更することで、仮想マシンを再デプロイすることができます。</li>
      <li>Azure は容量を回収する必要があります。</li>
  </ol>


  <p>どちらのシナリオでも、同じリージョンまたは可用性ゾーンに仮想マシンを再デプロイすることができます。</p>


  <h2>ベスト プラクティス</h2>


  <p>ここでは、Azure スポット Virtual Machines を最大限に活用するための効果的な方法について説明します。</p>


  <ul>
      <li>実行時間の長い操作の場合は、チェックポイントを作成して、以前に確認したチェックポイントからワークロードを再開して、削除を処理して時間を節約できるようにします。</li>
      <li>スケールアウトのシナリオでは、コストを節約するために、2つの VMSS を持つことができます。1つは通常の Virtual Machines を持ち、もう1つはスポット Virtual Machines です。 両方を同じロードバランサーに配置して、させる scale out にすることができます。</li>
      <li>仮想マシンを削除しようとしているときに通知を受け取るには、仮想マシンで削除通知をリッスンします。</li>
      <li>従量課金制の料金を利用する場合は、削除の種類を &ldquo; 使用して容量の削除のみ &rdquo; を行うことができます。 Azure で &ldquo; &rdquo; は、仮想マシンの価格よりも高い料金が課金されることはありません。</li>
      <li>削除を処理するには、Virtual Machines を再デプロイする再試行ロジックを作成します。 特定の仮想マシンシリーズとサイズが不要な場合は、ワークロードのニーズに合わせて別のサイズをデプロイしてみてください。</li>
      <li>VMSS のデプロイ中に、ゾーンまたはリージョンの容量を検索するために、API の [最大拡散] を選択します。</li>
  </ul>


  <h2>詳細情報</h2>


  <ul>
      <li>仮想マシンの<a href="https://azure.microsoft.com/en-us/pricing/spot/" target="_blank">詳細</a>を見つける</li>
      <li>Virtual Machine の価格: &nbsp; <a href="https://azure.microsoft.com/en-us/pricing/details/virtual-machines/windows/" target="_blank">Windows</a>と<a href="https://azure.microsoft.com/en-us/pricing/details/virtual-machines/linux/" target="_blank">Linux</a>に関するスポット</li>
      <li><a href="https://docs.microsoft.com/en-us/azure/virtual-machines/windows/spot-portal" target="_blank">ポータル</a>でのスポット Virtual Machines の作成</li>
      <li><a href="https://docs.microsoft.com/en-us/azure/virtual-machines/linux/spot-cli" target="_blank">Azure CLI</a>でのスポット Virtual Machines の作成</li>
      <li><a href="https://docs.microsoft.com/en-us/azure/virtual-machines/windows/spot-powershell" target="_blank">Azure PowerShell</a>でのスポット Virtual Machines の作成</li>
      <li><a href="https://docs.microsoft.com/en-us/azure/virtual-machines/linux/spot-template" target="_blank">Azure Resource Manager テンプレート</a>でのスポット Virtual Machines の作成</li>
      <li><a href="https://docs.microsoft.com/en-us/azure/virtual-machine-scale-sets/use-spot#resource-manager-templates" target="_blank">Azure Resource Manager テンプレート</a>でのスポット vmss の作成</li>
      <li><a href="https://docs.microsoft.com/en-us/azure/batch/batch-low-pri-vms" target="_blank">スポット Virtual Machines の</a>計画された Azure Batch サポート&nbsp;</li>
  </ul>
