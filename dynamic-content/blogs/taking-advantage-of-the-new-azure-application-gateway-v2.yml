### YamlMime:Yaml
ms.openlocfilehash: c39f77fc7c0e10c8a356e082e846e1d4ccb43baf
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139891985"
Slug: taking-advantage-of-the-new-azure-application-gateway-v2
Title: 新しい Azure アプリケーションゲートウェイ V2 の活用
Summary: 最近、ゲートウェイ V2 または自動スケールのバージョン (SKU) と Web アプリケーションファイアウォール (WAF) を Azure アプリケーションリリースしました。 これらの Sku はそれぞれ Standard_v2 および WAF_v2 され、99.95% の SLA で完全にサポートされています。
Content: >-
  <p>最近、 <a href="https://azure.microsoft.com/en-us/updates/azure-application-gateway-standardv2-wafv2-skus-generally-available/" target="_blank">ゲートウェイ v2 と Web アプリケーションファイアウォール (WAF) v2 Azure アプリケーション</a>リリースしました。 これらの Sku はそれぞれ Standard_v2 と WAF_v2 の名前が付けられ、99.95% の SLA で完全にサポートされています。 新しい Sku では、お客様に大幅な改善と追加の機能が提供されます。</p>


  <ul>
   <li>自動スケールでは、アプリケーションのトラフィックパターンに &rsquo; 基づいて、必要に応じてアプリケーションゲートウェイをスケーリングすることで、アプリケーションの弾力性を実現できます。 アプリケーションゲートウェイは、ピーク時にプロビジョニングされた容量で実行する必要がなくなるため、コストを大幅に節約できます。</li>
   <li>ゾーンの冗長性により、アプリケーションゲートウェイはゾーンの障害に耐えられるため、アプリケーションの復元性が向上します。</li>
   <li>静的 VIP 機能により、エンドポイントアドレスがそのライフサイクルを通じて変更されないようにします。</li>
   <li>ヘッダーの書き換えを使用すると、アプリケーションゲートウェイで HTTP 要求ヘッダーと応答ヘッダーを追加、削除、または更新できます。これにより、アプリケーションコードに触れることなく、HSTS サポート、cookie のセキュリティ保護、キャッシュコントロールの変更などのさまざまなシナリオが可能になります。</li>
   <li>迅速なプロビジョニングと構成の更新時間</li>
   <li>アプリケーションゲートウェイのパフォーマンスの向上により、全体的なコストを削減</li>
  </ul>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/7d2c7d22-a6e7-4e25-bffd-2cad72451abf.png"><img alt="Diagram showing improved capabilities in V2" border="0" height="456" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/5effa721-8032-40d3-9864-43e514caaa2a.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="V2 の強化された機能を示す図" width="640"></a></p>


  <p>新しいアプリケーションやワークロードには、V1 SKU ではなく V2 Sku を使用することを強くお勧めします。</p>


  <p>Application Gateway/WAF の V1 Sku の背後にある既存のアプリケーションをお持ちのお客様は、後ではなく、V2 Sku への移行についても検討することをお勧めします。 次のような理由が考えられます。</p>


  <ul>
   <li><strong>機能と機能強化</strong>: 上記の機能強化と機能を利用して、リリース後もロードマップの新機能を引き続き利用できます。 今後、ロードマップの新機能のほとんどは、V2 SKU でのみリリースされます。</li>
   <li><strong>コスト</strong>: V2 sku は、V1 sku を基準として、全体のコストを削減するために使用できます。 V2 SKU のコストの詳細については、価格に関する <a href="https://docs.microsoft.com/en-us/azure/application-gateway/application-gateway-autoscaling-zone-redundant#pricing" target="_blank">ページ</a> を参照してください。</li>
   <li><strong>将来のプラットフォームサポート</strong>: 今後、V1 SKU で新しいゲートウェイの作成を無効にする予定です。お客様が移行に十分な時間を確保できるように、事前通知が提供されます。 後ではなく V2 SKU にゲートウェイを移行することで、より多くのエンジニアリングおよびサポートリソースを V2 SKU に迅速に割り当てることができます。 &nbsp; お役に立ちます。</li>
  </ul>


  <h2>ガイド付き移行 &ndash; の構成-V2 SKU ゲートウェイへのレプリケーション</h2>


  <p>お客様は、V1 ゲートウェイと同じ構成で新しい V2 ゲートウェイを手動で構成することで、自分で移行を行うことができますが、実際には、多くのお客様にとって、これは非常に複雑でエラーが発生する可能性があります。これは、関係する可能性のある構成個々の数が原因です。 これを支援するために、最近、 <a href="https://aka.ms/appgwmigrationdoc" target="_blank">V1 ゲートウェイの構成を新しい V2 ゲートウェイにレプリケートする</a>のに役立つドキュメントと共に PowerShell スクリプトを公開しました。</p>


  <p>PowerShell スクリプトは、いくつかの入力を必要とし、指定された V1 ゲートウェイから新しい V2 ゲートウェイに構成をシームレスにコピーします。 V2 ゲートウェイは自動的に作成されます。 いくつかの <a href="https://docs.microsoft.com/en-us/azure/application-gateway/migrate-v1-v2#caveatslimitations" target="_blank">制限</a>があります。そのため、スクリプトを使用する前に、これらの点を確認し、詳細なガイダンスについては、 <a href="https://docs.microsoft.com/en-us/azure/application-gateway/migrate-v1-v2#common-questions" target="_blank">ミニ FAQ</a> を参照してください。</p>


  <h2>新しい V2 エンドポイントへのトラフィックの切り替え</h2>


  <p>これは、アプリケーションゲートウェイのトラフィックフローがどのように設計されているかについての詳細は、アプリケーションや顧客によって異なります。 ただし、 <a href="https://docs.microsoft.com/en-us/azure/application-gateway/migrate-v1-v2#migrate-client-traffic" target="_blank">トラフィックフローのいくつかのシナリオについてのガイダンス</a>を提供しています。 このフェーズのお客様を対象とする将来のツールを検討します。特に、Azure DNS または Azure Traffic Manager を使用してアプリケーションゲートウェイにトラフィックを送信するお客様にとって役立ちます。</p>


  <h2>フィードバック</h2>


  <p>いつものように、お客様の貴重なフィードバックをお寄せください。 V2 SKU への移行に関する具体的なフィードバックについては、までメールでお問い合わせ <a href="mailto:appgwmigrationsup@microsoft.com">appgwmigrationsup@microsoft.com</a> ください。 Application gateway に関する一般的なフィードバックについては、 <a href="https://feedback.azure.com/forums/217313-networking?category_id=134448" target="_blank">Azure のフィードバックページ</a>をご利用ください。</p>
