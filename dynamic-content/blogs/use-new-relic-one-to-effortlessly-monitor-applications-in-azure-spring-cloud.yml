### YamlMime:Yaml
ms.openlocfilehash: 86854fd8e5f21aa8b886fe9261ed59476608b7c1
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139896391"
Slug: use-new-relic-one-to-effortlessly-monitor-applications-in-azure-spring-cloud
Title: New Relic One を使用して、アプリケーションを簡単に監視Azure Spring Cloud
Summary: 本日は、New Relic One パフォーマンス監視の統合についてお知Azure Spring Cloud。 過去 18 か月間、多くの企業のお客様と一緒にシナリオについて学習しました。 これらの顧客の多くは、オンプレミスのデータ センター Spring Boot数千ものアプリケーションを使用しています。 これらのアプリケーションをクラウドに移行する場合、開発者が使い慣れたツールを使用して、アプリケーション パフォーマンス監視 (APM) 用にそれらをインストルメントする必要があります。 これで、New Relic One in Azure Spring Cloud の統合により、体験を続け、アプリケーションを簡単にインストルSpring Bootできます。
Content: >-
  <p>現在、New Relic One のパフォーマンス監視の統合についてお <a href="https://azure.microsoft.com/en-us/services/spring-cloud/" target="_blank">知Azure Spring Cloud</a>。</p>


  <p>過去 18 か月間、多くの企業のお客様と一緒にシナリオについて学習しました。 これらの顧客の多くは、オンプレミスのデータ センター Spring Boot数千ものアプリケーションを使用しています。 これらのアプリケーションをクラウドに移行する場合、開発者が使い慣れ、何年も使用してきたツールを使用して、アプリケーション パフォーマンス監視 (APM) のためにそれらをインストルメントする必要があります。また、 <a href="https://docs.newrelic.com/" target="_blank">New Relic One</a> などのエージェントを使用してエンド to エンドの監視用に既に事前にインストルメントされているデスクトップおよびモバイル アプリケーションの継続性を確保する必要があります。 Azure Spring Cloud で New Relic One を統合すると、Azure Spring Cloud One を使用して、Spring Boot New Relic アプリケーションを簡単にインストルメント<a href="https://docs.microsoft.com/en-us/azure/developer/java/migration/migrate-spring-boot-to-azure-spring-cloud" target="_blank"></a>化できます。</p>


  <p>現在、Spring Boot アプリケーションをデプロイするほとんどの組織は、同様の目標を共有しています。自動化とアプリケーションのパフォーマンス監視を使用して、Spring Boot アプリケーションを事実上任意の規模で実行する利点を最大限に活用できます。 Azure Spring Cloud&mdash; は、コンテナー化されたワークロードの管理に関連する多くの問題を抽象化する上で優れていますが、これらのアプリケーションのパフォーマンスと正常性の監視と維持、または問題が発生した場合のトラブルシューティングの課題は、組織が大規模にこれらのアプリケーションをデプロイする際に特に困難な場合があります。 New Relic One 体験の成功と継続を支援するために、New Relic One を使用して New Relic One を使用して、Azure Spring Cloud インスタンス全体で監視をインストルメント化、監視、配信する機能を統合し、アップグレードしました。 まず、インストルメンテーションを迅速かつ簡単に設定します。 その後、アプリケーション、Java Virtual Machines (JVM)、トランザクションなどのパフォーマンスと正常性を分析して、パフォーマンスの問題を特定してトラブルシューティングできます。</p>


  <h2>アプリケーションのSpring Bootインストルメント</h2>


  <p>&quot;Terraform または&quot;&mdash; ARM テンプレートを作成してデプロイする新しいアプリケーションをインストルメント化して監視するために、完全なハンズオフ エクスペリエンスのためにプロビジョニング自動化を実行します。 または、柔軟性と制御性を高めるAzure CLIを使用してオンデマンドで実行できます。</p>


  <pre style="background: rgb(238, 238, 238); padding: 5px 10px; border: 1px solid rgb(204, 204, 204); border-image: none;">

  az spring-cloud app update --name customers-service \
      --jvm-options=&quot;-javaagent:/opt/agents/newrelic/java/newrelic-agent.jar&quot; \
      --env NEW_RELIC_APP_NAME=customers-service NEW_RELIC_LICENSE_KEY=&lt;key&gt;
  </pre>


  <h2>アプリケーションのSpring Bootを確認する</h2>


  <p>インストルメント化後、Spring Boot One ポータルを使用してNew Relicパフォーマンスを確認できます。 サービス サービス を使用して、動作中のアプリケーションを表示マップ。 たとえば、次のスクリーンショットは、人気のある Petclinic プロジェクトのすべてのアプリケーションを示しています。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/0a46f26c-d26e-4e9b-965c-edde1cff1ba8.jpg"><img alt="Screenshot 1—shows all the applications in the popular Petclinic project." border="0" height="1888" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/1369468a-0f0b-4317-a7f6-45298a98f0e5.jpg" style="border: 0px currentcolor; border-image: none; display: inline; background-image: none;" title="2-Service-maps" width="3360"></a></p>


  <p><em>図 1: 人気のある Petclinic プロジェクトのすべてのアプリケーションを示します。</em></p>


  <p>&rsquo;New Relic One ポータルでアプリケーションごとに移動することで、アプリケーションのパフォーマンスを確認できます。 たとえば、次のスクリーンショットは、顧客サービスによって処理されたトランザクション、そのスループット、エラー率を示しています。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/dbc688e1-5531-485e-b3b3-e258c75bde8d.jpg"><img alt="Screenshot 2—shows transactions processed by customers-service, its throughput and error rate." border="0" height="1884" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/62813a9e-1d03-4fd2-8737-3c84ee34a26c.jpg" style="border: 0px currentcolor; border-image: none; display: inline; background-image: none;" title="2-customers-service-summary" width="3360"></a></p>


  <p><em>図 2: 顧客サービスによって処理されるトランザクション、そのスループット、エラー率を示します。</em></p>


  <p>New Relic One ポータルの [JVM&rdquo;] ブレードに移動&ldquo;して、基になる Java Virtual Machinesを詳細に確認できます。 たとえば、次のスクリーンショットは、すべての customers-service アプリケーション Virtual Machinesに対する Java インスタンスの数を示しています。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/e70f8bc5-4ad6-437c-adde-222c64b5934c.jpg"><img alt="Screenshot 3—shows how many JVMs for all the customers-service application instances." border="0" height="942" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/299a6ba4-b44c-4098-8222-25f19e2b8d7d.jpg" style="border: 0px currentcolor; border-image: none; display: inline; background-image: none;" title="2-customers-service-jvms" width="1680"></a></p>


  <p><em>図 3: すべての customers-service アプリケーション Virtual Machinesの Java</em> インスタンスの<em>数を示します。</em></p>


  <p>データベース トランザクションを含むアプリケーションの依存関係を分析&ldquo;&rdquo;するには、New Relic One ポータルの [データベース] ブレードに移動します。 たとえば、次のスクリーンショットは、customers-service のすべてのデータベース トランザクションを示しています。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/3999145c-cc59-485e-856b-deee960adab6.jpg"><img alt="Screenshot 4—shows all the database transactions for customers-service." border="0" height="1888" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/036ff74f-bdc8-4363-ae5f-58aa03c2852a.jpg" style="border: 0px currentcolor; border-image: none; display: inline; background-image: none;" title="2-customers-service-databases" width="3360"></a></p>


  <p><em>図 4: customers-service のすべてのデータベース トランザクションを示します。</em></p>


  <p>各スレッドのスタック トレースは、New Relic One Thread Profiler を使用して確認し、Java メソッドによって消費される時間を把握できます。 これにより、ほとんどの時間が費や &quot;される&quot; アプリケーションのホットな機能に関する分析情報が提供されます。 たとえば、次のスクリーンショットは、customers-service アプリケーションのスレッドのスタック トレースを示しています。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/47a9bb59-1274-490e-9997-57351962260e.jpg"><img alt="Screenshot 5—shows a stack trace of a thread in the customers-service." border="0" height="1884" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/43fdb0eb-513b-4adb-a5a0-e40f94fbecc0.jpg" style="border: 0px currentcolor; border-image: none; display: inline; background-image: none;" title="2-customers-service-thread-profiler" width="3360"></a></p>


  <p><em>図 5: customers-service 内のスレッドのスタック トレースを示します。</em></p>


  <h3>エンドユーザーに価値を提供する</h3>


  <p>インストルメント化が完了すると、複数のアプリケーション Spring Bootにスケールアウトすると、新しいアプリケーション インスタンスが自動的に監視されます。 エージェントのインストールとメンテナンスの管理に費やす時間が短縮され、インシデントの特定と解決に必要な時間が短縮されます。 Azure Spring Cloudは、エージェントを定期的に更新するためのオンポイントです。</p>


  <h3>アプリケーション インスタンスSpring Bootビュー</h3>


  <p>New Relicナビゲーターを使用すると、アプリケーション インスタンスの運用状態を一目で確認できます。 この鳥&#39;資産の目のビューは自動的に使用できます。構成は必要ありません。 ナビゲーターを使用すると、定義したアラートに基づいて信号の色を使用して高密度の濃淡ビューにインスタンスを直感的に表示することで、膨大な数のインスタンスを簡単に探索できます。 どの依存システムが影響を受ける可能性があるのかだけでなく、アラート インスタンスをすばやく特定し、根本原因を明らかにします。</p>


  <p>図として、次のナビゲーター ビューでは、Azure Spring Cloud インスタンス間でインスタンスをグループ化し、複数リージョンのデプロイでの操作をすばやく比較できます。 インスタンス全体でグループ化とフィルター処理を行って、問題を迅速にゼロにできます。 また、任意のインスタンスにドリルダウンして、そのアクティビティの概要と違反を、カスタム属性を含む主要なメトリックとメタデータと共に表示することもできます。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/7081ddde-755e-4f56-804c-ae1924da4710.jpg"><img alt="Screenshot 6—show how Navigator view groups your instances across Azure Spring Cloud instances." border="0" height="699" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/d0c05e18-0ffa-4b3f-bf40-42cc1de33146.jpg" style="border: 0px currentcolor; border-image: none; display: inline; background-image: none;" title="スクリーンショット 6" width="1650"></a></p>


  <p><em>図 6: ナビゲーター ビューで、インスタンス間でインスタンスをグループ化する方法Azure Spring Cloud示します。</em></p>


  <h3>アプリケーション インスタンスの異常Spring Boot検出する</h3>


  <p>New Relic Lookout は、最近の信号変化の重大度を示す色で円の視覚化を使用し、メトリック信号の大きさに比例してサイズを設定して、通常の動作から離れたインスタンスの直感的なビューを提供します。 Lookout は、過去 5 分以内のシグナルを前の 1 時間と自動的に比較します。</p>


  <p><strong>同様に、New Relic One を使用して、Azure サービス (Azure Kubernetes Service や Virtual Machines など) で Java <a href="https://docs.newrelic.com/docs/agents/java-agent/additional-installation/install-new-relic-java-agent-docker/" target="_blank">アプリケーション</a> を <a href="https://docs.newrelic.com/docs/agents/java-agent/installation/install-java-agent/" target="_blank">監視できます</a>。</strong></p>


  <h2>ソリューションを構築し、今すぐ監視する</h2>


  <p>Azure Spring Cloudは、Microsoft と VMware によって共同で構築、運用、およびサポートされています。 これは、インフラストラクチャと Spring Cloud ミドルウェア管理の複雑さを抽象化する Spring Boot アプリケーション用のフル マネージド サービスです。そのため、ビジネス ロジックの構築に集中し、Azure で動的スケーリング、パッチ、セキュリティ、コンプライアンス、高可用性を処理できます。 いくつかの手順で、アプリケーションのプロビジョニング、Azure Spring Cloudアプリケーションの作成、アプリケーションのデプロイ、スケールSpring Boot、数分で監視を開始できます。 引き続き、開発者向けでエンタープライズ対応の機能を開発Azure Spring Cloud。</p>


  <p>このサービスを使用して、影響を受けのあるソリューションを構築する方法をAzure Spring Cloud。 概要を使用して&mdash; Spring アプリケーションをデプロイし、Azure Spring Cloud <a href="https://aka.ms/get-started-with-azure-spring-cloud" target="_blank">にデプロイします</a>。</p>


  <h3>リソース</h3>


  <ul>
      <li>お知らせに <a href="https://aka.ms/new-relic-spring-cloud-blog-june2021" target="_blank">関するブログは、New Relic から読New Relic</a>。&nbsp;</li>
      <li>このページでは、<a href="https://docs.microsoft.com/en-us/learn/modules/azure-spring-cloud-workshop/" target="_blank">Microsoft Learnモジュールまたは</a>自習ワークショップ<a href="https://github.com/microsoft/azure-spring-cloud-training" target="_blank">の</a>使用についてGitHub。</li>
      <li>ソリューションの実装 <a href="https://docs.microsoft.com/en-us/azure/spring-cloud/" target="_blank">の詳細については、Azure Spring Cloud</a>。</li>
      <li>Java エージェントの詳細 <a href="https://docs.microsoft.com/en-us/azure/spring-cloud/how-to-new-relic-monitor" target="_blank">については、New Relic の Java エージェント</a> に関するAzure Spring Cloud。</li>
      <li><a href="https://github.com/Azure-Samples/spring-petclinic-microservices" target="_blank">Spring Cloud</a> を使用してビルドされた Spring Petclinic の分散バージョンをデプロイします。</li>
      <li>エンタープライズSpring Bootベスト プラクティスと参照アーキテクチャを活用して&mdash;、Azure Spring Cloud<a href="https://docs.microsoft.com/en-us/azure/spring-cloud/reference-architecture" target="_blank">アプリケーションをデプロイします</a>。</li>
      <li>お使<a href="https://docs.microsoft.com/en-us/azure/developer/java/migration/migrate-spring-boot-to-azure-spring-cloud" target="_blank">いの Spring Boot</a>、<a href="https://docs.microsoft.com/en-us/azure/developer/java/migration/migrate-spring-cloud-to-azure-spring-cloud" target="_blank">Spring Cloud</a><a href="https://aka.ms/migrate-tomcat-to-azure-spring-cloud-service" target="_blank">、および Tomcat</a> アプリケーションを移行して、Azure Spring Cloud。</li>
      <li>Azure サービスと対話するための Wire Spring <a href="https://docs.microsoft.com/en-us/azure/developer/java/spring-framework/" target="_blank">アプリケーション</a>。</li>
      <li>フィードバックと質問については、メール <a href="mailto:AzureSpringCloud-Talk@service.microsoft.com" target="_blank">でお問い合わせください</a>。</li>
  </ul>
