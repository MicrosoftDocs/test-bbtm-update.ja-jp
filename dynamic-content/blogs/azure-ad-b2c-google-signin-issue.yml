### YamlMime:Yaml
ms.openlocfilehash: 6048fac6427850e4ca84c0bc95e47bc8fc2cf0c4
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139896255"
Slug: azure-ad-b2c-google-signin-issue
Title: Google サインイン用に構成Azure AD B2C テナントを使用している開発者向けの注意
Summary: 2017 年 4 月 20 日に、Google は "web-views" と呼ばれる埋め込みブラウザーからの OAuth 要求のブロックを開始します。 Azure Active Directory B2C で ID プロバイダーとして Google を使用している場合は、ダウンタイムを回避するためにアプリケーションに変更を加える必要がある場合があります。
Content: >-
  <p><strong>2017</strong> 年 4 月 20 日に、Google は Web ビューと呼ばれる埋め込みブラウザーからの OAuth &quot;要求のブロックを開始します&quot;。 Azure Active Directory B2C で ID プロバイダーとして Google を使用している場合は、ダウンタイムを回避するためにアプリケーションに変更を加える必要がある場合があります。 Google&#39;プランの詳細については、 <a href="https://developers.googleblog.com/2016/08/modernizing-oauth-interactions-in-native-apps.html?m=1">Google&#39;ブログ記事を参照してください</a>。</p>


  <h2>影響を受けないアプリケーション</h2>


  <p>次のアプリケーションに影響を与える可能性はありません。</p>


  <ul>
      <li>ローカル アカウントのみを使用するか、ソーシャル ID プロバイダーとして Google を使用していない</li>
      <li>Web アプリケーション/Web API</li>
      <li>デスクトップ (Windows) アプリケーション</li>
  </ul>


  <h2>影響を受け取るアプリケーション</h2>


  <p>影響を受け取るアプリケーションは、Google を B2C でソーシャル ID プロバイダーとして構成し、Azure AD Android または iOS をサポートしているアプリケーションです。</p>


  <ul>
      <li>Xamarin と MSAL プレビュー <ul>
          <li>プレビュー&#39;場合、MSAL を実稼働環境で使用することはできませんが、実行した場合は Azure サポート にお問い合わせ&#39;お<a href="https://docs.microsoft.com/en-us/azure/active-directory-b2c/active-directory-b2c-support"></a>手伝いします。</li>
      </ul>
      </li>
      <li>AndroidAuthClient/OIDCAndroidLib (Android)、NXOAuth2Client (iOS)、ADAL Experimental (iOS &amp; Android) などの埋め込み Web ビューを使用するライブラリ、または埋め込み Web ビューを直接使用してプロトコルに対するコード、 <a href="https://developer.android.com/reference/android/webkit/WebView.html">WebView</a> (Android)、 <a href="https://developer.apple.com/reference/uikit/uiwebview">UIWebView</a> (iOS)。 今日より前に投稿された Android および iOS B2C のサンプルでは、これらのライブラリの一部が使用されています。
      <ul>
          <li>更新された <a href="https://docs.microsoft.com/en-us/azure/active-directory-b2c/active-directory-b2c-devquickstarts-android">Android</a> と <a href="https://docs.microsoft.com/en-us/azure/active-directory-b2c/active-directory-b2c-devquickstarts-ios">iOS</a> のサンプルには、システム Web ビューを使用するオープン ソース ライブラリである AppAuth を使用した手順と作業コードが含まれています。</li>
      </ul>
      </li>
  </ul>


  <h2>Azure AD B2C での System Web-Views のサポート</h2>


  <p>従来、埋め込み Web ビューを使用するアプリケーションは、urn:ietf:wg:oauth:2.0:oob などのリダイレクト URN を持つ ID プロバイダーに OAuth 要求を送信します。 ユーザーが ID プロバイダーを使用してサインインし、ID プロバイダーがユーザーを URN にリダイレクトしようとすると、アプリケーションは Web ビューを完全に制御して応答をインターセプトし、承認コードを取得します。</p>


  <p>逆に、システム Web ビューを使用するアプリケーションは Web ビューを制御できないので、&#39;OAuth 応答をインターセプトできないので、アプリケーションに制御を戻す場合にシステム Web ビューに対する方法が必要です。 システム Web ビューをサポートするために、Azure AD B2C はネイティブ クライアント (com.onmicrosoft.fabrikamb2c.exampleapp://oauthredirect) のカスタム リダイレクト URI のサポートを追加しました。この URI は、開発者がアプリケーション構成で設定して、システム Web ビューが応答をアプリケーションに確実に送信できるようしています。 また、OAuth 要求を生成したアプリケーションだけが認証コードを利用できるよう、Azure AD B2C は Proof <a href="https://tools.ietf.org/html/rfc7636">Key for Code Exchange</a> (PKCE) のサポートを追加しました。</p>


  <p>問題が発生した場合は <a href="https://docs.microsoft.com/en-us/azure/active-directory-b2c/active-directory-b2c-support">、Azure サポート</a> にお問い合わせください。またはコーディングに関する質問がある場合は、 <a href="https://stackoverflow.com/questions/tagged/azure-ad-b2c">azure-ad-b2c</a> タグを使用して StackOverflow に投稿することを&#39;ためらわずに投稿してください。</p>
