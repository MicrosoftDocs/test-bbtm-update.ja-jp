### YamlMime:Yaml
ms.openlocfilehash: 61e37b3de59326593ab1206811d9c07777b7cb08
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139894784"
Slug: how-to-backup-and-restore-a-windows-system-disk-in-a-windows-azure-virtual-machine
Title: Windows Azure 仮想マシンで Windows システムディスクをバックアップおよび復元する方法
Summary: '執筆者: Juergen トーマス、Nicholas Dritsas、James Podgorski、Yorihito、Gupta チームからの Dritsas、James、ガスの Av Sanjay、Mishra AzureCAT、Dan Reger。 &nbsp;  バックアップ時 @winazurecat  にフォロー...'
Content: '<p>書き込み: <a href="https://social.msdn.microsoft.com/profile/yorihito%20tada/">Yorihito Tada</a></p>  <p>レビュー担当者: Juergen トーマス、Nicholas Dritsas、James Podgorski、レ Urav Gupta、Sanjay Mishra、Dan Reger (AzureCAT チーム)&nbsp;</p>  <p>フォローしてください @winazurecat</p>  <p>バックアップと復元は、実世界のシステムを運用する上で重要です。 Windows Azure 仮想マシン環境の Windows サーバーでは、さまざまなツールを選択することも、ニーズに応じてこれらのツールを組み合わせて使用することもできます。 ここで &rsquo; は、これらのツールを簡単に比較して、最適なソリューションを判断するのに役立ちます。&nbsp;</p>  <p><strong>Windows Server バックアップ (WSB)</strong></p>  <p><span style="text-decoration: underline;"><a href="https://technet.microsoft.com/en-us/library/cc770757.aspx" target="_blank">Windows Server バックアップ</a></span>は、仮想マシン内からオンラインバックアップに使用できます。 また、システム状態、およびファイルとフォルダーをバックアップすることもできます。</p>  <p>Windows Server バックアップを使用すると、バックアップファイルは仮想マシンの内部に配置されることに注意してください。 Windows Azure Backup などの他のソリューションを使用して、これらのバックアップファイルを外部の場所に移動することが必要になる場合があります。</p>  <p><strong>Windows Azure Backup (WAB)</strong></p>  <p><span style="text-decoration: underline;"><a href="https://azure.microsoft.com/en-us/services/backup/" target="_blank">Windows Azure Backup</a></span>は、ローカルファイルをクラウドにバックアップするためのソリューションです。 これは、Azure vm の Windows からも使用できます。 &nbsp;このツールは、クラウドバックアップ機能を備えた他の Microsoft バックアップツールを強化します。 &nbsp;Windows Server バックアップと組み合わせて使用する方法 &ndash; としては System Center 2012 Data Protection Manager などがあります。</p>  <p><span style="text-decoration: underline;"><a href="https://azure.microsoft.com/en-us/manage/services/recovery-services/configure-a-backup-vault/" target="_blank">Windows Azure Backup &rdquo; を使用して &ldquo; バックアップをセットアップする方法</a></span>のチュートリアルについては、ここをクリックしてください。</p>  <p>&nbsp;また、 &rsquo; <span style="text-decoration: underline;"><a href="https://azure.microsoft.com/en-us/pricing/details/backup/" target="_blank">Windows Azure Backup の価格の詳細</a></span>をクリックしてください。</p>  <p><strong>System Center 2012</strong></p>  <p>Windows Azure Backup は System Center 2012 Data Protection Manager と統合して、オンサイトサーバーのデータを保護することもできます。 &nbsp;この場合、Windows Azure Backup エージェントソフトウェアが DPM サーバーにインストールされます。 &nbsp;DPM は通常どおり、環境内のサーバーを保護できますが、クラウド記憶域にバックアップを格納する機能が追加されました。</p>  <p><strong>Azure copy blob api と Storage クライアントライブラリ api の Windows (copy blob)</strong></p>  <p>Windows Azure Storage services の<span style="text-decoration: underline;"><a href="https://msdn.microsoft.com/en-us/library/windowsazure/dd894037.aspx" target="_blank">コピー blob (REST api)</a></span>を使用すると、開発者は Windows Azure または開発環境で blob サービス、キューサービス、およびテーブルサービスにアクセスできます。 Blob のコピー操作では、blob がコピー先にコピーされます。</p>  <p>.net 用 Windows Azure Storage クライアントライブラリ (バージョン 2.0) には、Storage クライアントライブラリが含まれています。 このライブラリを使用して、.NET アプリケーションと PowerShell スクリプトから REST Api にアクセスできます。 ここで &rsquo; は、 <span style="text-decoration: underline;"><a href="https://msdn.microsoft.com/en-us/library/windowsazure/microsoft.windowsazure.storage.blob.cloudpageblob.startcopyfromblob.aspx" target="_blank">Cloudpageblob. StartCopyFromBlob</a></span>の使用方法について詳しく説明します。</p>  <p>WSB と WAB は、VM 内からのファイルやフォルダーのバックアップに使用できますが、この API ベースのコピーを使用して、VM の外部からベアメタルバックアップと復元を行うことができます。 &nbsp; たとえば、Active Directory ドメインコントローラーをバックアップする場合は、最初のシステムバックアップとして Copy Blob を使用してベアメタルバックアップを作成できます。 その後、WSB を使用してシステム状態をファイルにバックアップし、WAB を使用してシステム状態のバックアップファイルを含むバックアップファイル/フォルダーを Windows Azure Storage します。 これらのマシンを復元する必要がある場合は、まずベアメタルバックアップ VHD から復元し、WSB と WAB を使用して作成したバックアップファイルから復元します。&nbsp;</p>  <p><strong>ツールの比較</strong></p>  <p>これらの各ツールの機能については、次の表をクイックリファレンスとして使用してください。</p>  <table border="1" cellspacing="0" cellpadding="0">  <tbody>  <tr>  <td valign="top" width="75">  <p>ツール</p>  </td>  <td valign="top" width="151">  <p>オンライン バックアップ</p>  <p>(ダウンタイムなしのアプリケーション整合性)</p>  </td>  <td valign="top" width="85">  <p>Backup</p>  <p>destination</p>  </td>  <td valign="top" width="71">  <p>バックアップシステムの状態</p>  </td>  <td valign="top" width="64">  <p>バックアップファイル/フォルダー</p>  </td>  </tr>  <tr>  <td valign="top" width="75">  <p>WSB</p>  </td>  <td valign="top" width="151">  <p>はい</p>  </td>  <td valign="top" width="85">  <p>内部 OS</p>  </td>  <td valign="top" width="71">  <p>はい</p>  </td>  <td valign="top" width="64">  <p>はい</p>  </td>  </tr>  <tr>  <td valign="top" width="75">  <p>.WAB</p>  </td>  <td valign="top" width="151">  <p>はい</p>  </td>  <td valign="top" width="85">  <p>Blob ストア</p>  </td>  <td valign="top" width="71">  <p>いいえ</p>  </td>  <td valign="top" width="64">  <p>はい</p>  </td>  </tr>  <tr>  <td valign="top" width="75">  <p>BLOB のコピー</p>  </td>  <td valign="top" width="151">  <p>No</p>  </td>  <td valign="top" width="85">  <p>Blob ストア</p>  </td>  <td colspan="2" valign="top" width="135">  <p>VHD 全体として。</p>  </td>  </tr>  </tbody>  </table>'
