### YamlMime:Yaml
ms.openlocfilehash: 79c5b3fd4f72866a3ff02fcc20570946b9497b2b
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139894569"
Slug: azure-audit-logs-ux-refresh
Title: Azure 監査ログ UX の更新
Summary: このブログ記事では、監査ログの UX 更新の一環として展開される新機能について説明します。
Content: >-
  <p>最近、 <a href="https://azure.microsoft.com/en-us/blog/new-features-for-azure-diagnostics-and-azure-audit-logs/">Azure</a> 監査ログのデータをストレージ アカウントとイベント ハブにエクスポートする機能を発表しました。 監査ログを探索する豊富なエクスペリエンスについてフィードバックを共有し、監査ログエクスペリエンスの向上をお知らせAzure portal。</p>


  <h2>Azure 監査ログとは</h2>


  <p>Azure 監査ログは、リソースに対して実行されたすべての書き込み操作 (PUT、POST、DELETE) をキャプチャします。 たとえば、監査ログを使用して、トラブルシューティング時にエラーを見つけたり、組織内のユーザーがリソースを変更した方法を監視したりできます。 過去 90 日間の監査ログには無料でアクセスできます。 監査ログ データのコピーを長い期間保持する必要がある場合は、エクスポート オプションを選択し、データをストレージ アカウントにルーティングできます。 さらに、イベント ハブにデータをストリーム配信できます。</p>


  <h2>UX の更新</h2>


  <p>新機能の一部を次に示します。</p>


  <ul>
   <li>前もってフィルター処理を行い、水平スクロールを減らす</li>
   <li>Graph/サービス プリンシパル情報の参照</li>
   <li>クイック分析情報</li>
   <li>クエリは一 &ndash; 般的に使用されるフィルターを再利用する</li>
   <li>ダッシュボードにクエリをピン留めする</li>
   <li>統合結果ビュー</li>
   <li>コンテキストの概要情報</li>
   <li>CSV ファイルをダウンロードする</li>
  </ul>


  <h4>前もってフィルター処理を行い、水平スクロールを減らす</h4>


  <p>新しいブレードを開かなくても、メインのフィルター エクスペリエンスが先行して提供されます。 水平スクロールに関するフィードバックや問題を聞い、新しいブレードが必要な場合を限り開くのを避けていました。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/5cf6dcd4-9b59-417a-b194-a7fe5a2888b4.png"><img alt="" border="0" height="136" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/5909210d-38e5-4648-9666-8834f243c9c4.png" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" title="" width="1024"></a></p>


  <h4>Graph/サービス プリンシパル情報の参照</h4>


  <p>特定のユーザーが行う操作をフィルター処理する場合は、フィルター エクスペリエンスで直接そのユーザーを検索できます。 ユーザー情報&rsquo;を参照できるユーザーの &ndash; 正確な電子メール アドレスを知る必要はない。 背後では、グラフの参照を次の手順で実行Azure Active Directory。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/64b7b0ee-e122-4645-bbb0-59c8dacdc079.png"><img alt="" border="0" height="157" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/03ee930e-9ee1-4373-9985-ebdb0bd69a47.png" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" title="" width="1024"></a></p>


  <p>Graphはユーザーに限定されるのではなく、サービス プリンシパルにも適用できます。 サービス プリンシパルを使用してスクリプトとデプロイを自動化した場合は、特定のサービス プリンシパルによって特別に実行されたエントリをフィルター処理して表示できます。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/a110533d-3514-4c76-8dfa-be2abfbc9efa.png"><img alt="" border="0" height="158" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/57576a90-4f7b-4808-8316-d92ecb23bec6.png" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" title="" width="1024"></a></p>


  <h4>クイック分析情報</h4>


  <p>クイック インサイトでは、フィルターを設定することなく、サブスクリプションで何が起こっているかを簡単に確認できます。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/8752ec9a-abad-4ddb-aad1-3114bcce6996.png"><img alt="" border="0" height="30" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/61087439-dd18-4840-83d8-b2f32f8e3948.png" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" title="" width="1024"></a></p>


  <p>既定では、選択したサブスクリプションに対して次の分析情報が提供されます。</p>


  <ul>
   <li>失敗したデプロイの数</li>
   <li>ロールの割り当ての数</li>
   <li>エラーの数</li>
   <li>発生したアラートの数</li>
   <li>停止インシデントの数</li>
  </ul>


  <p>をクリックすると、そのクエリの結果が直接フェッチされ、クエリ フィルターもオートフィルされます。</p>


  <h4>クエリは一 &ndash; 般的に使用されるフィルターを再利用する</h4>


  <p>これで、一般的なフィルター パターンをクエリとして保存できます。 たとえば、特定のリソース グループ内のすべてのエラーを表示するクエリを作成できます。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/6cf7c53b-ab6f-4ff0-8722-f0a512b45725.png"><img alt="" border="0" height="136" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/ed75bef0-d633-43f5-b109-641924d67da8.png" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" title="" width="1024"></a></p>


  <p>次回監査ログを参照する場合は、フィルターを再度設定する代わりに、既存のクエリのいずれかを再利用できます。</p>


  <h4>ダッシュボードにクエリをピン留めする</h4>


  <p>クエリを常に監視する場合は、クエリをダッシュボードにピン留めすることで簡単に行うことができます。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/53e6f0c5-227a-459a-93f6-b4f03e151cd1.png"><img alt="" border="0" height="64" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/b846aabe-b042-48ce-ba77-df8404551eaa.png" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" title="" width="640"></a></p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/5de1dd2f-b080-4e8d-be70-6643c898e44d.png"><img alt="" border="0" height="424" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/5862494d-a0ae-4264-a2d4-19ba659d4649.png" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" title="" width="640"></a></p>


  <p>複数のクエリをピン留めできます。また、Azure ダッシュボードを 1 つの場所として使用して、監査ログ操作など、監視に関連するすべてを表示できます。</p>


  <p>これにより、監査ログ ブレードを開く必要なく、最も一般的なクエリの操作数を監視できます。</p>


  <h4>統合結果ビュー</h4>


  <p>クエリを実行すると、すべてのデータが 1 か所にまとめて表示されます。 呼び出し元情報にもサービス プリンシパル名が表示されます。 他の関連する操作がある場合、ユーザーは操作をドリルダウンできます。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/89a1ff59-a6e1-47e1-8735-379e47f11a99.png"><img alt="" border="0" height="477" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/d82cfb7f-d225-4fd3-b8e3-b6e717127128.png" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" title="" width="1024"></a></p>


  <p>特定の操作をクリックすると、その概要を表示できます。 概要データの代わりに生の JSON データを表示したい場合は、[JSON] タブをクリックして表示することもできます。</p>


  <h4>コンテキストの概要情報</h4>


  <p>次の状況に応じた概要情報があります。</p>


  <ul>
   <li>エラー: エラーをクリックすると、エラーの理由が概要に自動的に表示されます。</li>
   <li>ロールの割り当て: ロールの割り当てをクリックすると、リソースを共有したユーザーが概要内に自動的に表示されます。</li>
  </ul>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/20aa9764-6174-4568-931a-3838f43ffe10.png"><img alt="" border="0" height="387" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/b80dfb8f-d4fe-4feb-b810-e8526946ea5f.png" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" title="" width="1024"></a></p>


  <p>上のスクリーンショットでは、ユーザー PrincipalId は表示されない点&rsquo;に &lsquo;注意してください&rsquo;。 代わりに、現在のコンテキストに関連するユーザー Azure Active Directory情報を直接表示するために、ユーザー情報を検索します。 グラフ参照と同様に、これはサービス プリンシパルにも適用されます。</p>


  <h4>CSV ファイルをダウンロードする</h4>


  <p>結果を CSV ファイルとしてダウンロードすることで、ポータルに表示される正確な結果をダウンロードできます。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/4c6c1077-78b8-470d-a907-af0f4fbfa11c.png"><img alt="" border="0" height="163" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/be2cbbd3-d29a-4add-a771-115f3dc2ebc8.png" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" title="" width="1024"></a></p>


  <h2>次&#39;予定している情報</h2>


  <p>今後は、次を含む監視エクスペリエンスの他の側面を統合するために取り組み中です。</p>


  <ul>
   <li>アラートを管理するためのより優れた方法</li>
   <li>メトリック エクスペリエンスの向上</li>
   <li>診断ログを構成して表示する簡単な方法</li>
  </ul>


  <p>&nbsp;</p>


  <p>試してみてください。フィードバックをお寄せください。</p>
