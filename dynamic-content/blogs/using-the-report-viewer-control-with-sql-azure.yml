### YamlMime:Yaml
ms.openlocfilehash: 476eef571640bb87a8935468f3606ecfa022cabd
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139895236"
Slug: using-the-report-viewer-control-with-sql-azure
Title: レポート ビューアー コントロールとレポート ビューアー コントロールのSQL Azure
Summary: '[この記事は、チームによってSQL Azureされました。]現在、Microsoft では、クラウドでサーバー側 (.rdl) レポートを実行できる SQL Server Reporting Service の PaaS バージョンは提供されません。'
Content: '<p>[この記事は、チームによってSQL Azureされました。]</p><p>現在、Microsoft では、クラウドでサーバー側 (.rdl) レポートを実行できる <a href="https://www.microsoft.com/sqlserver/2008/en/us/reporting.aspx">SQL Server Reporting Service の PaaS</a> バージョンは提供されません。 ただし、Microsoft レポート テクノロジを使用してレポートを実行する場合は、Windows Azure を使用して、ASP.NET Web ページでクライアント レポート<a href="https://msdn.microsoft.com/en-us/library/ms252067(VS.80).aspx">定義 (.</a>rdlc) をホストできます。 この技術では、<a href="https://msdn.microsoft.com/en-us/library/ms251671(VS.80).aspx">ReportViewer</a> コントロール (ASP.NET に含まれる) を使用して、Azure からレポートを実行、生成、表示Windowsします。 これにより、クラウド (Azure) 内のレポートとデータ (Windows) をSQL Azure。 この記事では、クライアント レポート定義を作成する際の基本について説明します。この定義は、SQL Azure使用Visual Studio。</p>  <p>ローカルのオンプレミス IIS サーバーから SQL Azure を指す <strong>ReportViewer</strong> コントロールを使用して ASP.NET ページを実行する場合は、この手法でも実行できます。</p>  <p>実行する必要がある手順を次に示します。</p>  <ul>   <li>ODBC データ ソースを使用して、SQL Azure新しいデータ接続を作成します。 </li>    <li>データ ソースを使用して、レポート クライアント定義 (.rdlc) スタイルのレポートを作成します。 </li>    <li>.rdlc を表示するレポート ASP.NET ReportViewer コントロールを埋め込む。 </li> </ul>  <p>ただし、Visual Studioウィザードは逆の順序で動作します。</p>  <ol>   <li>レポートをホスト ASP.NET ページを作成します。 </li>    <li><strong>ReportViewer コントロールを</strong>レポート ページに ASP.NET します。 </li>    <li>レポートをまだ作成していないので、[新しいレポート] を選択すると、レポートの入力を求めるメッセージが表示されます。 </li>    <li>データ ソースをまだ作成していないので、データ ソースの入力を求めるメッセージが表示されます。 </li> </ol>  <p>手順を詳しく見てみます。</p>  <h2>ページの ASP.NET 作成</h2>  <p>1)新Visual Studioを開き、新しいプロジェクトを作成します。[<b>Azure Cloud Service Windows選択]</b></p>  <p><a href=""><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="clip_image001" border="0" alt="clip_image001" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/1423.clip_5F00_image001_5F00_thumb_5F00_3A60B68F.png" width="650" height="444"></a></p>  <p>2)Web ロール ASP.NET 選択する</p>  <p><a href=""><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="clip_image002" border="0" alt="clip_image002" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/5141.clip_5F00_image002_5F00_thumb_5F00_765CD277.png" width="659" height="418"></a></p>  <p>3) default.aspx ページが作成されます。 default.aspx ページに移動し、ページをデザイン モードにします。</p>  <p>4)ツールボックスを開き、[レポート] セクションにある <b>MicrosoftReportViewer</b> コントロール<b></b>を [レポート] ページ ASP.NET します。</p>  <p><a href=""><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="clip_image004" border="0" alt="clip_image004" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/2018.clip_5F00_image004_5F00_thumb_5F00_6B03986D.jpg" width="643" height="522"></a></p>  <p>5) ReportViewer コントロールがページに埋め込まれたら、埋め込みコントロールからクイック メニューが表示されます。 [新 <b>しいレポートのデザイン] を選択します</b>。</p>  <p>6) [新しいレポート <b>のデザイン] オプション</b> をクライアントにすると、レポート ウィザードが開き、データ ソースの選択を求めるメッセージが表示されます。</p>  <p><a href=""><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="clip_image006" border="0" alt="clip_image006" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/5076.clip_5F00_image006_5F00_thumb_5F00_596387D5.jpg" width="644" height="501"></a></p>  <p>7) [新しい接続 <b>] ボタンを</b> クリックします。</p>  <h2>データ接続の作成</h2>  <p>現在、ReportViewer コントロールでは、OLEDB または ODBC データ ソースを使用して、2 種類のデータ接続のみを作成できます。 ネイティブ データ ソースに対して SQL Serverを試すのは魅力的ですが、これは機能しません。 ネイティブ SQL Serverでは OLEDB が使用され、現在、OLEDB プロバイダーは使用SQL Azure。 代わりに、OBDC データ ソースを使用する必要があります。</p>  <p>[接続の追加] ダイアログが表示されたので、次の手順に進み、次の手順で接続を作成SQL Azure。</p>  <p>1) [変更] <b>をクリック</b> してデータ ソースを変更します。</p>  <p><a href=""><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="clip_image007" border="0" alt="clip_image007" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/4428.clip_5F00_image007_5F00_thumb_5F00_75449700.png" width="471" height="677"></a></p>  <p>2) [データ ソースの変更] ダイアログが表示されます。</p>  <p><a href=""><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="clip_image008" border="0" alt="clip_image008" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/1781.clip_5F00_image008_5F00_thumb_5F00_74F7EDFE.png" width="538" height="313"></a></p>  <p>3) [データ ソース <b>] ダイアログから [Microsoft ODBC</b> データ ソース] を選択します。 [OK] をクリックします。</p>  <p>4) これにより、[接続の追加] ダイアログに戻り、ODBC データ ソースに適したオプションが表示されます。</p>  <p><a href=""><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="clip_image009" border="0" alt="clip_image009" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/0724.clip_5F00_image009_5F00_thumb_5F00_75A0A428.png" width="471" height="510"></a></p>  <p>5) [データ <b>ソースの仕様] で</b> [接続文字列 <b>を使用する] を選択します</b>。</p>  <p>6)この接続文字列は、ポータルから取得<a href="https://sql.azure.com/">SQL Azureします</a>。 ポータルにログインし、接続するデータベースに移動し、そのデータベースを選択して、下部にある接続文字列ボタンを押します。</p>  <p><a href=""><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="clip_image011" border="0" alt="clip_image011" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/3365.clip_5F00_image011_5F00_thumb_5F00_2F433E13.jpg" width="643" height="327"></a></p>  <p>7) これにより、サーバー、データベース、および管理ログインの指定情報が入力された接続文字列ダイアログが表示されます。 [クリップボードにコピー] ボタンをクリックして、ODBC 接続文字列をコピーします。</p>  <p><a href=""><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="clip_image013" border="0" alt="clip_image013" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/4530.clip_5F00_image013_5F00_thumb_5F00_7166A696.jpg" width="643" height="135"></a></p>  <p>8) これを [接続文字列を使用する] の [接続の追加 <b>] ダイアログに貼り付けます</b>。 </p>  <p><a href=""><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="clip_image014" border="0" alt="clip_image014" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/4861.clip_5F00_image014_5F00_thumb_5F00_0A15CDDA.png" width="471" height="510"></a></p>  <p>9)<b>Pwd 属性が myPassword</b> に設定<b>されている場所に注意してください</b>。 これを管理者アカウントのパスワードに変更することが非常に重要です。 接続文字列内のユーザー アカウントと一致する 。 ここで変更しない場合、ウィザードは引き続きパスワードの入力を求められます。</p>  <p>10) [テスト接続 <b>] ボタンを</b> クリックして接続をテストし、[OK] を <b>押します</b>。</p>  <p>11) これにより、新しい接続が強調表示された [データ ソース <b>構成</b> ウィザード] ダイアログに戻ります。 [次へ] をクリックします。</p>  <p>12) 接続文字列を保存します。この接続文字列は、次のファイルweb.configされます。</p>  <p><a href=""><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="clip_image016" border="0" alt="clip_image016" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/2388.clip_5F00_image016_5F00_thumb_5F00_19692FE9.jpg" width="644" height="501"></a></p>  <p>13)レポートで使用するデータ オブジェクト (テーブルSQL Azure選択します。 スクリーンショットでは、AdventureWorks データベースを使用しています。</p>  <p><a href=""><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="clip_image018" border="0" alt="clip_image018" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/8171.clip_5F00_image018_5F00_thumb_5F00_08355246.jpg" width="644" height="500"></a></p>  <p>14) [完了] <b>を押します。 </b></p>  <p>データ ソースが構成されたので、それを選択してレポートを作成する必要があります。</p>  <h2>レポートのデザイン</h2>  <p>デザインするレポートでは、Azure にデプロイされるプロジェクト ファイルに埋め込まれたクライアント レポート定義ファイル (.rdlc) Windowsされます。 ページが要求された場合、ReportViewer コントロールは .rdlc ファイルを読み込み、transact-sql を実行します。この transact-sql は SQL Azure を呼び出し、データを返します。 データが (Azure 上で実行されている) ReportViewer コントロールWindows返され、レポートが表示されます。</p>  <p>1) [レポート ウィザード <b>] ダイアログボックスで、次の操作を</b> 行います。 データ ソースを選択し、[次へ] を <b>押します</b>。</p>  <p><a href=""><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="clip_image019" border="0" alt="clip_image019" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/8512.clip_5F00_image019_5F00_thumb_5F00_63E047F6.png" width="631" height="572"></a></p>  <p>2) ダイアログを参照してレポートをデザインします。詳細については、こちらを参照 <a href="https://msdn.microsoft.com/en-us/library/ms160326.aspx">してください</a>。</p>  <p>[レポート ウィザード] ダイアログの操作が完了すると、 [レポート] ページ内の <strong>ReportViewer</strong> にレポート ASP.NET されます。 次に、Azure にデプロイWindowsします。</p>  <h2>Windows Azure への配置</h2>  <p>Windows Azure にデプロイする前に、Windows Azure パッケージに、.NET Framework の一部ではない ReportViewer コントロールのすべてのアセンブリが含まれている必要があります。</p>  <ul>   <li>Microsoft.ReportViewer.Common.dll </li>    <li>Microsoft.ReportViewer.WebForms.dll </li>    <li>Microsoft.ReportViewer.ProcessingObjectModel.dll </li>    <li>Microsoft.RevportViewer.DataVisualization.dll </li> </ul>  <p>これら 4 つのアセンブリは、インストール済みVisual Studio場合、または無料の再頒布可能パッケージ パッケージをインストールした場合にのみReportViewer.exe。 Azure パッケージでそれらを取得するには、次Windows必要があります。</p>  <ol>   <li>既にMicrosoft.ReportViewer.dllとして追加されているオブジェクトをローカルコピー (true) としてマークします。 </li>    <li>参照のMicrosoft.ReportViewer.Common.dllを実行して、アセンブリ参照にオブジェクトを追加します。 [ローカルコピー] も true に設定します。 </li>    <li>GAC でMicrosoft.ReportViewer.ProcessingObjectModel.dllとMircosoft.RevportViewer.DataVisualization.dllを見つけ、 <b>それらを マイ ドキュメント</b> フォルダーにコピーし、そのコピーをアセンブリとして参照します。 [ローカルコピー] も true に設定します。 </li> </ol>  <p>また、生成したレポートはすべて、埋め込みリソースではなく、コンテンツとしてプロジェクトにタグ付けされている必要があります。</p>  <p>Azure での <strong>ReportViewer</strong> コントロールの使用に関する優れたWindowsについては、こちらを参照<a href="https://channel9.msdn.com/posts/keydet/Running-Reporting-Services-Reports-in-Windows-Azure/">してください</a>。</p>  <h2>まとめ</h2>  <p>質問、懸念事項、コメントはありますか? 以下に投稿すると、対処を試みることができます。</p>'
