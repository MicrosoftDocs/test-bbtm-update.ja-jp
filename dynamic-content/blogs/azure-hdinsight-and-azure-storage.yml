### YamlMime:Yaml
ms.openlocfilehash: 66a7c4701295329684817b27ade07b076aa7faba
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139890568"
Slug: azure-hdinsight-and-azure-storage
Title: Azure HDInsight と Azure Storage
Summary: 最後のブログ記事では Windows Azure で更新された HDInsight サービスのチュートリアルを提供しました。 &nbsp;HDInsight と Azure Storage に重点を置いた本日 &rsquo; の投稿は、5つのブログの3番目の記事です。
Content: '<p>最後のブログ記事では Windows Azure で更新された HDInsight サービスのチュートリアルを提供しました。 &nbsp;hdinsight と Azure Storage に重点を置いた本日 &rsquo; の投稿は、hdinsight の5ブログシリーズの3番目の記事です。</p>  <p>Windows Azure での HDInsight サービスの興味深い差別化点の1つは、データを格納する場所を選択する機能です。 コンピューティングノードに対してローカルなネイティブ HDFS ファイルシステムに格納することも、Azure Blob ストアコンテナーを HDFS ファイルシステムとして使用してデータを格納することもできます。 実際、HDInsight クラスターをプロビジョニングすると、既定では、ストレージアカウントの Azure Blob ストアコンテナーが既定の HDFS ファイルシステムとして作成されます。</p>  <p>または、[カスタム作成] オプションを使用してクラスターを作成することにより、既存の Azure Blob ストアコンテナーを既定の HDFS ファイルシステムとして選択することもできます。 たとえば、スクリーンショットでは、netflix &rsquo; という名前 &lsquo; の Blob ストアコンテナーを既定のファイルシステムとして指定する方法がわかります。</p>  <p><img style="display: block; margin-left: auto; margin-right: auto;" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/2045.storage-acct.png" alt="" border="0"></p>  <p>このコンテナーは、HDInsight HDFS ファイルシステムとして既にプロビジョニングされている場合もあれば、分析するデータが含まれている任意の Azure Blob ストアコンテナーにすることもできます。</p>  <p>この例では、netflix コンテナーには、フォルダーの名前付けスキームを使用する3つの blob が含まれています。</p>  <p style="text-align: center;"><img src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/4705.storage-2.png" alt="" border="0"></p>  <h4>Azure Storage コンテナーを使用する利点</h4>  <p>ストレージコンテナーはコンピューティングノードに対してローカルではなく、そのため、ストレージを使用したコンピューティングの併置に関する Hadoop パラダイムに違反しているようですが、Azure Blob ストアコンテナーにデータを格納することにはいくつかの利点があります。<br> <br> -&nbsp;<strong>データの再利用と共有</strong>: コンピューティングノード内のデータは、HDFS api の背後で "ロックされています"。 これは、HDFS に関する知識を持ち、コンピューティングクラスターにアクセスできるアプリケーションのみがデータを使用できることを意味します。 Azure Storage コンテナー内のデータには、HDFS api を使用するか、Azure Blob ストア REST api を使用してアクセスできます。 そのため、より大きな一連のアプリケーションとツールを使用してデータを生成し、使用することができます。また、他のアプリケーションが使用するデータを生成することもできます。<br> <br> -&nbsp;<strong>データのアーカイブ</strong>: コンピューティングノード内のデータは、HDInsight クラスターのプロビジョニングが完了している間のみ存在するため、コンピューティング時間を超えてクラスターを維持するか、計算を実行するためにデータをプロビジョニングするたびにクラスターにデータを再読み込みする必要があります。 Azure Storage コンテナーでは、必要な限りデータを保存しておくことができます。<br> <br> -&nbsp;<strong>データ Storage コスト</strong>: コンピューティングクラスターのコストは Azure Blob ストアコンテナーのコストよりも高いため、データを長期間アクティブな HDInsight クラスター内に格納する方が、データを Azure Storage コンテナーに格納するよりもコストが高くなります。 さらに、計算クラスターを生成するたびにデータを再読み込みする必要がないため、データの読み込みコストも削減されます。<br> <br> -&nbsp;<strong>エラスティックスケールアウト</strong>: HDInsight クラスターがスケールアウトされたファイルシステムを提供している間、スケールはクラスターにプロビジョニングするノードの数によって決まります。 スケールの変更は、Azure Blob ストアのエラスティックスケーリング機能に依存しており、Azure Storage コンテナーを使用すると自動的に作成されるため、より複雑なプロセスになることがあります。<br> <br> -&nbsp;<strong>Geo レプリケーション</strong>: Azure Blob ストアコンテナーは、azure Portal を介して geo レプリケートできます。 これにより、地理的復旧とデータの冗長性が実現しますが、geo レプリケートされた場所にフェールオーバーすると、パフォーマンスに重大な影響を与え、追加コストが発生する可能性があります。 そのため、geo レプリケーションを適切に選択することをお勧めします。これは、データの価値が追加のコストに見合う場合にのみ必要です。<br> <br> さらに、コンピューティングとストレージが併置されていないという暗黙のパフォーマンスコストは、コンピューティングクラスターが Azure データセンター内のストレージアカウントリソースの近くにプロビジョニングされる方法によって実際に軽減されます。この場合、高速ネットワークによって、コンピューティングノードは ASV 内のデータにアクセスするのが非常に効率的になります。 一般的な負荷、コンピューティング、アクセスパターンによっては、わずかなパフォーマンスの低下が見られ、多くの場合、アクセスが高速になりました。<br> <br> また、HDInsight クラスターをプロビジョニングするたびにファイルシステムにデータを再度読み込む必要がないことを忘れないでください。データの読み込み時間とデータ移動の料金を節約できます。</p>  <h4>Azure Storage の使用方法</h4>  <p>上の既定のファイルシステムとして指定した Azure Blob ストアコンテナーを使用して、簡単な例を見てみましょう &rsquo; 。 標準の HDFS ファイルシステムコマンドを使用して、JavaScript コンソールを使用してファイルシステムのコンテンツを確認できます。</p>  <p style="text-align: center;"><img src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/5808.storage-3.png" alt="" border="0"></p>  <p>ご注意のとおり、いくつかの追加のディレクトリが作成されましたが、ファイルシステムは他の HDFS ファイルシステムのように見えます。 また、Azure Blob ストアコンテナーに対応するように設計された明示的な URI スキームでも対処できます。</p>  <p style="text-align: center;"><img src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/2018.storage-4.png" alt="" border="0"></p>  <p>コマンドを #lsr asv://netflix@mryshadoop.blob.core.windows.net/movie として指定することで、上記のように、SSL で asvs スキームを使用するかどうかを選択できます。 Blob の名前によってのみ暗黙的に指定されているディレクトリの作成日は、現在、1970-01-01 00:00 と表示されています。 これは、今後変更される可能性があります。</p>  <p>これで、hive テーブルを作成し、hive クエリを実行したり、データに対して他のマップ削減ジョブを実行したりできます。</p>  <h4>詳細情報</h4>  <p>このブログでは、HDInsight での Azure Blob Storage とその利点について簡単に紹介しました。 &nbsp;より詳細なチュートリアルをすぐに利用できるようになります。 &nbsp;HDInsight について引き続き学習するには、はじめにに関する <a href="https://go.microsoft.com/fwlink/?LinkID=285601" target="_blank">ページを参照</a>してください。</p>  <p>HDInsight が貴重な新しいサービスであり、ご意見をお待ちしております。</p>  <p>5部構成シリーズの次のブログでは、HDInsight での開発者エクスペリエンスについて説明します。 ご期待ください。</p>'
