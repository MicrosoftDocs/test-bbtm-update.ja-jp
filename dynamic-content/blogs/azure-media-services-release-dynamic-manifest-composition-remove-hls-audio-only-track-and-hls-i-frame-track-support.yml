### YamlMime:Yaml
ms.openlocfilehash: fa48747107bb8a57e1879491c491352933fc4b9c
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139889956"
Slug: azure-media-services-release-dynamic-manifest-composition-remove-hls-audio-only-track-and-hls-i-frame-track-support
Title: Azure Media Services –動的なマニフェストコンポジションのサポートと HLS 出力の追加機能
Summary: Azure Media Services の新機能を発表します。 このリリースには、多数の新機能に加えて、複数の資産フィルターサポートの組み合わせが含まれています。
Content: >-
  <p>Azure Media Services の新機能を発表します。 このリリースには、多数の新機能に加えて、複数の資産フィルターサポートの組み合わせが含まれています。 詳細については、次のものを追加します。</p>


  <h1>動的マニフェスト (資産フィルター) の構成</h1>


  <p><a href="https://azure.microsoft.com/en-us/blog/dynamic-manifest/" target="_blank">最初のバージョンの動的マニフェスト</a>では、一度に1つのフィルターの使用のみがサポートされています。 これはうまく機能しますが、複雑なシナリオで管理上の問題を作成することができます。 たとえば、モバイルデバイスのビデオ品質をフィルター処理する場合を考えてみましょう &rsquo; 。 これを実現するには、デバイスプロファイルに適したグローバルフィルターを作成し、不要な品質を削除します。 グローバルフィルターは、関連付けられていない同じ media services アカウントのすべての資産に対して使用できます。</p>


  <p>次に、資産の開始時刻と終了時刻をトリミングすることを想定してみましょう &rsquo; 。 これを行うには、ローカルフィルターを作成し、開始時刻と終了時刻を設定する必要があります。 最終的には、2つの異なるフィルターを使用できます。フィルターは一度に1つしか使用できないため、結合することはできません。 ビデオ品質をフィルター処理し、開始/終了時刻を設定する場合は、品質フィルタリング規則を定義し、同じローカルフィルターで開始/終了時刻を定義する必要があります。これには、追加の手順を必要とし、同じ規則を繰り返す必要があります。</p>


  <p>フィルター構成のサポート &rsquo; では、同じ規則をもう一度定義する必要はありません。 複数のフィルターを組み合わせて、フィルターの共通部分を処理 Azure Media Services ことができます。 最大3つのルールを組み合わせることができます。</p>


  <p>コンポジションで実行するには、フィルター名を、セミコロンで区切られたマニフェスト/再生リストの URL に設定する必要があります。</p>


  <p>ここ &rsquo; では、処理 &rdquo; という名前 &ldquo; のフィルターを使用して、品質をフィルター処理し、mystarttime &rdquo; という名前 &ldquo; の別のフィルターを使用して特定の開始時刻を設定するとします。</p>


  <p>として <a href="(filter=MyMobileDevice;MyStartTime)" title=" 組み合わせることができます (filter = 処理;MyStartTime) "> (<font style="background-color: rgb(255,255,0)">Filter = 処理;MyStartTime</font>)</a></p>


  <p>フィルターに関する追加情報については、前の Azure のブログ記事「 <a href="https://azure.microsoft.com/en-us/blog/dynamic-manifest/" target="_blank"><em>動的マニフェストを使用したカスタマイズされたレンディションとアセットのトリミング</em></a>」を参照してください。</p>


  <h3>複数のフィルターの処理方法</h3>


  <p>フィルター合成は共通部分で動作します。 複数のフィルターを使用する場合、出力は複数のフィルターの積集合になります。 たとえば、フィルターの1つを &rsquo; 使用して、ビデオの品質評価 q1 と q2 を選択し、オーディオを a1 にします。他のフィルターでは、ビデオの q3 を選択します。 この場合、出力マニフェストには、ビデオの場合は q1、q2、q3、オーディオの場合は a1 が含まれます。</p>


  <h1>HLS オーディオ専用トラックの削除</h1>


  <p>既定では Azure Media Services は HLS 再生リストのオーディオ専用トラックを出力します。 これは、携帯ネットワーク用の App Store 証明書を渡すために必要です。 オーディオのみの追跡があり、クライアントが帯域幅の問題に達した場合、クライアントはオーディオ専用モードに切り替えることができ、ビデオを使用せずにストリーミングを維持できます。 これにより、ストリームを維持することができますが、不要なエクスペリエンスが提供されることがあります。 オーディオを使用する黒い画面ではなく、プレーヤーのバッファリングを使用して、ビデオで再生を再開することができます。</p>


  <p>新しい URL パラメーター &ldquo; audio only = false &rdquo; を使用して、再生リストからオーディオ専用トラックを削除できます。</p>


  <p>Parameter (<a href="(format=m3u8-aapl-v3">(format = .m3u8</a>) を指定しないと、オーディオ専用トラックが強調表示されます。</p>


  <p>#EXTM3U<br />

  #EXT-X-バージョン: 3<br />

  #EXT-X--INF: 帯域幅 = 523232、RESOLUTION = 320x132、コーデック = &quot; avc 1.4 d400d、mp4a. 40.2&quot;<br />

  QualityLevels (400000)/Manifest (video, format = .m3u8-aapl-v3, audiotrack = audio)<br />

  #EXT-X--INF: 帯域幅 = 778732、RESOLUTION = 640x268、コーデック = &quot; avc 1.4 d4015、mp4a. 40.2&quot;<br />

  QualityLevels (650000)/Manifest (video, format = .m3u8-aapl-v3, audiotrack = audio)<br />

  #EXT-X--INF: 帯域幅 = 1136432、RESOLUTION = 640x268、コーデック = &quot; avc 1.4 d401e、mp4a. 40.2&quot;<br />

  QualityLevels (1000000)/Manifest (video, format = .m3u8-aapl-v3, audiotrack = audio)<br />

  #EXT-X--INF: 帯域幅 = 1647432、RESOLUTION = 960x400、コーデック = &quot; avc 1.4 d401e、mp4a&quot;<br />

  QualityLevels (1500000)/Manifest (video, format = .m3u8-aapl-v3, audiotrack = audio)<br />

  #EXT-X--INF: 帯域幅 = 2413932、RESOLUTION = 960x400、コーデック = &quot; avc 1.4 d401e、mp4a&quot;<br />

  QualityLevels (2250000)/Manifest (video, format = .m3u8-aapl-v3, audiotrack = audio)<br />

  #EXT-X--INF: 帯域幅 = 3589232、RESOLUTION = 1280x532、コーデック = &quot; avc 1.4 d4020、mp4a. 40.2&quot;<br />

  QualityLevels (3400000)/Manifest (video, format = .m3u8-aapl-v3, audiotrack = audio)<br />

  #<font style="background-color: rgb(255,255,0)">EXT-X--INF: 帯域幅 = 106272、コーデック = &quot; mp4a。40.2&quot;<br />

  QualityLevels (96000)/Manifest (audio, format = .m3u8-aapl-v3)</font></p>


  <p>オーディオのみ = false &rdquo; ( "> <a href="(format=m3u8-aapl-v3," title=" オーディオのみ = false) (format = .m3u8、 </a> <a href="(audio-only=false)" title=" (audio only = false) "> <font style="background-color: rgb(255,255,0)">audio</font> </a> only = false) の場合は、オーディオ専用トラックを取得しません。このような &ldquo; 場合 &rsquo; は、</p>


  <pre class="prettyprint">

  #EXTM3U

  #EXT-X-VERSION:3

  #EXT-X-STREAM-INF:BANDWIDTH=523232,RESOLUTION=320x132,CODECS=&quot;avc1.4d400d,mp4a.40.2&quot;

  QualityLevels(400000)/Manifest(video,format=m3u8-aapl-v3,audiotrack=audio)

  #EXT-X-STREAM-INF:BANDWIDTH=778732,RESOLUTION=640x268,CODECS=&quot;avc1.4d4015,mp4a.40.2&quot;

  QualityLevels(650000)/Manifest(video,format=m3u8-aapl-v3,audiotrack=audio)

  #EXT-X-STREAM-INF:BANDWIDTH=1136432,RESOLUTION=640x268,CODECS=&quot;avc1.4d401e,mp4a.40.2&quot;

  QualityLevels(1000000)/Manifest(video,format=m3u8-aapl-v3,audiotrack=audio)

  #EXT-X-STREAM-INF:BANDWIDTH=1647432,RESOLUTION=960x400,CODECS=&quot;avc1.4d401e,mp4a.40.2&quot;

  QualityLevels(1500000)/Manifest(video,format=m3u8-aapl-v3,audiotrack=audio)

  #EXT-X-STREAM-INF:BANDWIDTH=2413932,RESOLUTION=960x400,CODECS=&quot;avc1.4d401e,mp4a.40.2&quot;

  QualityLevels(2250000)/Manifest(video,format=m3u8-aapl-v3,audiotrack=audio)

  #EXT-X-STREAM-INF:BANDWIDTH=3589232,RESOLUTION=1280x532,CODECS=&quot;avc1.4d4020,mp4a.40.2&quot;

  QualityLevels(3400000)/Manifest(video,format=m3u8-aapl-v3,audiotrack=audio)</pre>


  <h1>HLS I-フレームトラックのサポート</h1>


  <p>早送りと反転再生のサポートを向上させるために、Azure Media Services HLS 再生リストの出力に iFrame サポートを追加しました。 既定では、HLS v4 再生リストで iFrame サポートを受けることになります。 HLS v3 &rsquo; では iframe がサポートされないため、v3 の出力には iframe は含まれません。</p>


  <p>この新しい機能により、 &ldquo;<code>EXT-X-I-FRAME-STREAM-INF&rdquo; tags.</code></p>


  <p>たとえば、HLS v4 の再生リストを要求した場合、再生リストには、強調表示されているように、#EXT-X-I-FRAME-INF: &rdquo; が含ま &ldquo; れます。</p>


  <pre class="prettyprint">

  #EXTM3U

  #EXT-X-VERSION:4

  #EXT-X-MEDIA:TYPE=AUDIO,GROUP-ID=&quot;audio&quot;,NAME=&quot;audio&quot;,DEFAULT=YES,URI=&quot;QualityLevels(96000)/Manifest(audio,format=m3u8-aapl)&quot;

  #EXT-X-STREAM-INF:BANDWIDTH=523232,RESOLUTION=320x132,CODECS=&quot;avc1.4d400d,mp4a.40.2&quot;,AUDIO=&quot;audio&quot;

  QualityLevels(400000)/Manifest(video,format=m3u8-aapl)

  #EXT-X-<font style="background-color: rgb(255,255,0)">I-FRAME</font>-STREAM-INF:BANDWIDTH=523232,RESOLUTION=320x132,CODECS=&quot;avc1.4d400d&quot;,URI=&quot;QualityLevels(400000)/Manifest(video,format=m3u8-aapl,type=keyframes)&quot;

  #EXT-X-STREAM-INF:BANDWIDTH=778732,RESOLUTION=640x268,CODECS=&quot;avc1.4d4015,mp4a.40.2&quot;,AUDIO=&quot;audio&quot;

  QualityLevels(650000)/Manifest(video,format=m3u8-aapl)

  #EXT-X-<font style="background-color: rgb(255,255,0)">I-FRAME</font>-STREAM-INF:BANDWIDTH=778732,RESOLUTION=640x268,CODECS=&quot;avc1.4d4015&quot;,URI=&quot;QualityLevels(650000)/Manifest(video,format=m3u8-aapl,type=keyframes)&quot;

  #EXT-X-STREAM-INF:BANDWIDTH=1136432,RESOLUTION=640x268,CODECS=&quot;avc1.4d401e,mp4a.40.2&quot;,AUDIO=&quot;audio&quot;

  QualityLevels(1000000)/Manifest(video,format=m3u8-aapl)

  #EXT-X-<font style="background-color: rgb(255,255,0)">I-FRAME</font>-STREAM-INF:BANDWIDTH=1136432,RESOLUTION=640x268,CODECS=&quot;avc1.4d401e&quot;,URI=&quot;QualityLevels(1000000)/Manifest(video,format=m3u8-aapl,type=keyframes)&quot;

  #EXT-X-STREAM-INF:BANDWIDTH=1647432,RESOLUTION=960x400,CODECS=&quot;avc1.4d401e,mp4a.40.2&quot;,AUDIO=&quot;audio&quot;

  QualityLevels(1500000)/Manifest(video,format=m3u8-aapl)

  #EXT-X-<font style="background-color: rgb(255,255,0)">I-FRAME</font>-STREAM-INF:BANDWIDTH=1647432,RESOLUTION=960x400,CODECS=&quot;avc1.4d401e&quot;,URI=&quot;QualityLevels(1500000)/Manifest(video,format=m3u8-aapl,type=keyframes)&quot;

  #EXT-X-STREAM-INF:BANDWIDTH=2413932,RESOLUTION=960x400,CODECS=&quot;avc1.4d401e,mp4a.40.2&quot;,AUDIO=&quot;audio&quot;

  QualityLevels(2250000)/Manifest(video,format=m3u8-aapl)

  #EXT-X-<font style="background-color: rgb(255,255,0)">I-FRAME</font>-STREAM-INF:BANDWIDTH=2413932,RESOLUTION=960x400,CODECS=&quot;avc1.4d401e&quot;,URI=&quot;QualityLevels(2250000)/Manifest(video,format=m3u8-aapl,type=keyframes)&quot;

  #EXT-X-STREAM-INF:BANDWIDTH=3589232,RESOLUTION=1280x532,CODECS=&quot;avc1.4d4020,mp4a.40.2&quot;,AUDIO=&quot;audio&quot;

  QualityLevels(3400000)/Manifest(video,format=m3u8-aapl)

  #EXT-X-<font style="background-color: rgb(255,255,0)">I-FRAME</font>-STREAM-INF:BANDWIDTH=3589232,RESOLUTION=1280x532,CODECS=&quot;avc1.4d4020&quot;,URI=&quot;QualityLevels(3400000)/Manifest(video,format=m3u8-aapl,type=keyframes)&quot;

  #EXT-X-STREAM-INF:BANDWIDTH=106272,CODECS=&quot;mp4a.40.2&quot;,AUDIO=&quot;audio&quot;

  QualityLevels(96000)/Manifest(audio,format=m3u8-aapl)</pre>


  <p>&nbsp;</p>


  <p>これらの機能が役に立つことを願っています。 常に、 <a href="https://social.msdn.microsoft.com/forums/azure/en-US/home?forum=MediaServices" target="_blank">フォーラム</a> またはこの投稿に関するコメントのいずれかについて、さらに質問がある場合は、お知らせください。</p>


  <p>ありがとうございます。</p>


  <p>Azure Media Services チーム</p>
