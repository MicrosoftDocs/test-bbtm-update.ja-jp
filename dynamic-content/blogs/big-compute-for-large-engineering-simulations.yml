### YamlMime:Yaml
ms.openlocfilehash: 876e3def2ccce268b0a448116e328155a28ce7cb
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139891687"
Slug: big-compute-for-large-engineering-simulations
Title: 大規模なエンジニアリングシミュレーションのためのビッグコンピューティング
Summary: この投稿では、パートナーと密接に連携して、大規模なエンジニアリングシミュレーションソリューションを Azure に持ち込む経験を共有しています。
Content: >-
  Microsoft のような会社での作業において最も優れた点の1つは、お客様が満たすことができる優れた顧客とパートナーです。 現在は、これらのパートナーのいずれかとの作業経験を共有し、お客様にとってお客様に役立つ優れたソリューションについてお話ししたいと考えています。


  ここで説明するパートナーは <a href="https://www.slb.com/" target="_blank">Schlumberger</a>であり、リリースされたソリューションは、Azure で実行されている高解像度のリザーバシミュレーターと <a href="https://www.software.slb.com/products/foundation/Pages/INTERSECT-Simulator-in-the-Cloud.aspx" target="_blank">INTERSECT</a>です。 これは、Schlumberger の最初の完全なサービスとしてのソフトウェア (SaaS) ソリューションです。このブログ投稿では、このソリューションについてだけでなく、Azure が、このソリューションをホストするための適切なクラウドプラットフォームであると判断し、北米およびヨーロッパでの初期起動についても説明します。

  <h2>Schlumberger について</h2>

  Schlumberger に慣れていない場合は、石油およびガス業界についてあまり詳しくないことが原因である可能性があります。 それ以外の場合は、非常によく知られていることがわかります (このセクションは省略してもかまいません)。 単純に言うと、Schlumberger は世界中の最大 oilfield サービス企業です。 これは、85を超える国で115000の人材を採用しています。 これらの製品とサービスは、運用環境を通じた調査から及びます。 世界中の石油およびガス業界で働いているお客様に、テクノロジ、統合されたプロジェクト管理、および情報ソリューションを提供します。

  <h2>課題: エンジニアリングモデルが大きくなり続ける</h2>

  私たちのチームは、Schlumberger のようなパートナーと協力して、Azure で大規模な<a href="https://azure.microsoft.com/en-us/solutions/big-compute/" target="_blank">コンピューティング</a>シナリオを実現していました (私たちは、以前の経験と Windows サーバーの hpc ワークロードに関する専門知識に基づいて ( <a href="https://technet.microsoft.com/library/cc514029" target="_blank">Microsoft HPC Pack</a>でも動作します)。


  Azure で有効にすることを検討している最も興味深いワークロードの1つは、大規模で複雑なエンジニアリングモデルのシミュレーションです。 これらのモデルは、特に特別なハードウェアと、"通常の" クラウドオファリングに含まれていないさまざまなテクノロジの配列を必要とするため、クラウドでは従来は実現できませんでした (少なくとも効率的ではありません)。 ただし、同時に、これらのモデルは、企業やサービスプロバイダーが処分したオンプレミスリソースの拡張性を開始します。 これは、Schlumberger でのリザーバシミュレーションのための HP ソリューション設計者です。この傾向については、次のように説明します。

  <blockquote>石油およびガス業界でより複雑なフィールドを開発し、抽出の課題が増えるということは、hydrocarbon 抽出に含まれる物理プロセスを適切に定量化するために必要なより高い解決方法を得られるように、はるかに多くのセルに対してシミュレーションを実行する必要があることを意味します。 これらのシミュレーションは、100万 ~ 数百万のセルの問題が発生しています。これは、何百ものセルの問題でもあります。 このような大きな問題を解決する唯一の方法は、大規模な HPC システムを使用することです。</blockquote>

  さらに、これらのモデルを実行するために必要な大きさと特性の大規模なコンピューティングリソースは、常にすぐに使用できるとは限りません。 ここでも、Owen の単語では次のようになります。

  <blockquote>この INTERSECT シミュレーターは、複雑な地質構造、非常に異機種混合の形状、困難な hydrocarbon、および完了の構成と、高度な運用制御を必要とする reservoirs に合わせて調整されています。 INTERSECT は、高解像度、大きなセル数モデル向けに設計されています。INTERSECT は、非常に優れたスケールで同じまたは類似のモデルの複数の反復処理を実行して、リザーバを正確かつ完全に理解するために必要な複雑なサイエンスを提供する、コアエンジンの1つです。これは、INTERSECT と共に使用することを認定する最先端のテクノロジに最適です。 これは、大規模な並列処理のために一から設計された最初のシミュレーターの1つであり、100万 ~ 10 億のセルを持つモデルを実行するユーザーにとって理想的なツールです。 ただし、INTERSECT のようなシミュレーターを最大限に活用するには、ユーザーが大規模な HPC リソースにアクセスできるようにする必要があります。これにより、多くの場合、テクノロジによって小規模な企業が disenfranchises されます。</blockquote>

  したがって、基本的には、Owen や his の顧客といったパートナーは、より多くのより高速なコンピューティングリソース (これまでに成長するシミュレーションの特性によって促進されます) に対する需要が増え続けており、適切な種類のリソースにアクセスすることが困難になっています。 幸いなことに、これは Azure での解決に苦労して取り組んでいる課題の一種です。

  <h2>Azure 上の候補: true HPC 機能</h2>

  クラウドコンピューティングによって提供されるアクセシビリティとスケーラビリティは、前述した課題に対する回答である必要がありますが、その前に、バックエンドインフラストラクチャには、シミュレーターで実際に実行できる適切なテクノロジが必要です。ここでは、Schlumberger と Microsoft が連携して、最も適切なテクノロジソリューションを作成し、Owen コメントとして提供しています。

  <blockquote>ノード間の待機時間を削減するために Azure Vm と Microsoft MPI の両方で実行される作業では、10億セルまでの数百ものセルからの INTERSECT を使用してスケールテストを実行し、ベアメタルで実行されるのと同じような結果とスケーラビリティを示すことができます。 北米とヨーロッパでの商用の発表については、これらの市場において、お客様にとって優れたソリューションを構築するためにエンジニアと緊密に連携することにより、Azure を選択しました。これには、MPI ベースのアプリケーションのスケーラビリティに大きな影響を与える、RDMA (InfiniBand) 経由の低待機時間のネットワークをサポート INTERSECT は、10億のセルにスケーリングできるクラスに最適です。短い待機時間の短いネットワークを使用せずに、このスケールを効果的に達成することはできません。</blockquote>

  私たちが参照しているのは、Azure 上の <a href="https://azure.microsoft.com/en-us/documentation/articles/virtual-machines-a8-a9-a10-a11-specs/" target="_blank">高パフォーマンスの A8 および A9 コンピューティングインスタンス</a> です。 これらのインスタンスは、世界クラスの supercomputing センターのパフォーマンスとスケーラビリティを、あらゆるユーザーに要求時に提供します。 これは、大量のメモリと HPC クラスの Cpu を提供するだけでなく、QDR InfiniBand バックエンドネットワークに接続されているため、より大幅に大きくなる可能性があります。 このネットワークでは、3マイクロ秒未満で MPI の待機時間を実現し、チームが Azure で利用できるようになったリモートダイレクトメモリアクセス (RDMA) テクノロジにより、最大 32 Gbps の非ブロッキングスループットを提供できます。


  特化されたハードウェア構成とは別に、CPU を集中的に使用するワークロードを実行する場合に最適なパフォーマンスを実現するために、これらのコンピューティングインスタンスは微調整されています。 オンプレミスの HPC クラスター上のベアメタルシステムと同様に、通常は微調整されます。 次のグラフは、Schlumberger のオンプレミスクラスターと、Azure 上の A9 インスタンスのいずれかで同じモデルを実行するためにかかった時間を比較した結果を示しています。


  <img style="background-image: none; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; margin-right: auto; border-width: 0px;" title="1000万セル比較: Azure とオンプレミスクラスター" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/Chart_Capture_2.png" alt="10 million cell comparison: Azure vs. on-premises cluster" width="610" height="458" border="0" />


  では、スケールについてはどうでしょうか。 これは、Microsoft が、同様の HPC クラウドソリューションを提供する特殊なクラウドベンダーよりも真の利点を持っているということです。 A8 および A9 インスタンスは、世界中の複数のリージョンで既に利用可能です。 これらのリージョンによって、HPC クラスハードウェアの最大数十のコア (および拡張) が追加されます。


  これは、INTERSECT などの並列アプリケーションが、オンデマンドで使用可能な真の HPC プラットフォームと、必要なスケーラビリティを備えた、相性を数千のコアにスケーリングできることを意味します。 これは、顧客に必要な Owen と Schlumberger です。

  <h2>ソリューション: クラウド上の最初のリザーバシミュレーションサービス</h2>

  Azure で INTERSECT を利用できるようにするために、Schlumberger と協力して顧客のニーズを理解しました。 クラウドと Azure では、顧客がフォローしているワークフローを変更する必要がないことを Schlumberger することが最重要でした。 2番目の側面では、クラウドのセキュリティをレビューし、困難にしてきました。そのため、ソリューションを成功させるために必要なセキュリティレベルを Schlumberger ています。


  このサービスが利用可能になったことにより、Schlumberger のお客様は、Schlumberger が提供する業界トップレベルのリザーバモデリングツールとシミュレーション環境である Petrel から、シミュレーションを直接クラウドに送信できるようになりました。また、モデルを生成するためのシミュレーション環境や、結果を視覚化することもできます。 つまり、このような環境を維持することはできません。 エンジニアは、シミュレーションを実行する場所 (ローカル、オンプレミスクラスター、クラウド) を選択するだけで済みます。 シミュレーションが実行されると、エンジニアは通常どおり、Petrel で結果を分析できます。


  しかし、このソリューションに関して最も興味深いのは、これらの機能をサブスクリプションベースのモデルで利用できるようにすることです。これにより、独自の HPC 環境を使用できない顧客も含めて、すべての規模の企業が、INTERSECT のようなエンタープライズクラスのシミュレーションソリューションで高サイエンスにアクセスできるようになります。 これは特に、クラウドソリューションの最大の利点の1つです。

  <h2>学習した教訓</h2>

  常に新しいものがすべてのプロジェクトで学習されます。 Schlumberger と、両方とも、シミュレーションデータ (1 GB から 100 GB) をアップロードし、結果データ (20 gb ~ 300 GB) をクラウドにダウンロードするために必要な時間でした。 ここで学んだことは、データの送信と取得は、ジョブの実行にかかる合計時間の約3% から7% まで (最初から最後まで) にた層ていることです。 ジョブが大きいほど、このグラフに示すように、割合が小さくなります。


  <img style="background-image: none; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; margin-right: auto; border-width: 0px;" title="Azure A9 インスタンスでの完全なジョブ時間" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/Chart2_Capture_1.png" alt="Full job times on Azure A9 instances" width="610" height="310" border="0" />


  もちろん、お客様のインターネット接続の速度と品質は異なることに注意してくださいが、テスト中に観察された結果は非常に改善されています。

  <h2>最後の単語</h2>

  最後に、お客様からのご意見をお待ちしております。 実際には、 私たちのチームは、HPC を利用してクラウドが提供する必要がある専用エンジニアの小さなグループで構成されています。また、Azure でワークロードを理解し、有効にするために、お客様と直接協力する必要があります。 これは、ワークロードの複雑さや、"従来の" HPC ワークロードであるかどうかには関係ありません。 大量のコンピューティング能力が必要な場合は、ワークロードの種類であり、Azure がそれに適したクラウドです。

  <h2>詳細情報</h2>

  Azure での大規模なコンピューティングソリューションの詳細については、次のページを参照してください。

  <ul>
   <li><a href="https://azure.microsoft.com/en-us/solutions/big-compute" target="_blank">https://azure.microsoft.com/en-us/solutions/big-compute</a></li>
   <li><a href="https://azure.microsoft.com/en-us/documentation/articles/virtual-machines-a8-a9-a10-a11-specs" target="_blank">https://azure.microsoft.com/en-us/documentation/articles/virtual-machines-a8-a9-a10-a11-specs</a></li>
  </ul>

  クラウドでの Schlumberger INTERSECT シミュレーターの詳細については、次のページを参照してください。

  <ul>
   <li><a href="" target="_blank"></a></li>
   <li><a href="https://youtu.be/6110hvTysrM" target="_blank">https://youtu.be/6110hvTysrM</a></li>
   <li><a href="https://youtu.be/RmgXZE1Wylw" target="_blank">https://youtu.be/RmgXZE1Wylw</a></li>
  </ul>

  Schlumberger INTERSECT の詳細については、以下を参照してください。

  <ul>
   <li><a href="" target="_blank"></a></li>
   <li><a href="https://youtu.be/GvuCHwcW2sQ" target="_blank">https://youtu.be/GvuCHwcW2sQ</a></li>
  </ul>
