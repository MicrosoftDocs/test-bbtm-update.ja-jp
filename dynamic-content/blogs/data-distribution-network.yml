### YamlMime:Yaml
ms.openlocfilehash: 9ad53dce0bd5b35aef006239aa62e012d344bfa7
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139904846"
Slug: data-distribution-network
Title: データ分散ネットワーク
Summary: '[この記事は、チームによってSQL Azureされました。]特定のシナリオでは、データと Web サイトをエンド ユーザーの近くに分散するのが理にかなっています。ネットワーク待機時間の短縮と提供...'
Content: '<p>[この記事は、チームによってSQL Azureされました。]</p><p>特定のシナリオでは、データと Web サイトをエンド ユーザーの近くに分散するのが理にかなっています。ネットワーク待機時間を短縮し、より優れたユーザー エクスペリエンスを提供します。 独自のデータ配信ネットワークと同様に、Azure のデータ配信ネットワークとWindows<a href="https://msdn.microsoft.com/en-us/library/ee795176.aspx">考Content Delivery Network。</a> このデータ配信ネットワークは、SQL Azure と データ同期 Server for SQL Azure を使用して構築できます。このブログ記事では、その方法について説明します。 </p>  <h4>geo 分散 Web サイト</h4>  <p>Windows Azure Web ロール (Web サイト) を世界中の複数のデータ センターにデプロイすると、サイトがエンド ユーザーに近づき、応答がネットワーク上を高速に移動できるようになります。 これは、インテリジェントなルーティングを使用して実現できます。たとえば、米国内のユーザーは米国のデータ センターに送信されます。 現時点Windows Azure ではこのメカニズムが提供されていないので、DNS レイヤーで自分で行う必要があります。 最も近い Web サイトにユーザーを移動するもう 1 つの方法は、ドメイン上の入り口ページを持つ個別のサブドメインを持ち、ユーザーに起点国の選択を求める方法です。 </p>  <p>Web サイトをエンド ユーザーの近くに移動する場合は理にかなっています。データベースを Web サイトの近くに移動する必要があります。 データベースを多用する Web サイトでは、そのデータをアプリケーションとコロケーションするより高速なパフォーマンスが必要になります。 異なるデータ センターに複数の Web サイトを持つため、まったく同じデータを持つ可能性がある複数のデータベースがあります。 ここで、SQL Azure 用の データ同期 サービスが使用されます。データ同期 Services for SQL Azure の基本については、前のブログ記事で説明しています。</p>  <h2>適切な適合を見つける</h2>  <p>これは、すべての種類の Web サイトのソリューションではありません。データ同期サービスは、すべてのデータベースが 100% の時間同期されている必要がない場合に最適です。 たとえば、航空会社のチケット Web サイトでは、ここで提案しているソリューションを使用することはできませんでした。データ同期サービスでは、コミット時にすべてのメンバー データベースを変更するトランザクション レプリケーションは提供されません。 </p>  <p>ただし、コンテンツのスケジュール展開を含むマガジンやマガジンのような発行 Web サイトを実行し、そのコンテンツがデータベースに格納されている場合は、データ配布ネットワークを実行してローカライズされたデータセンターにデータをプッシュすると、非常にうまく機能します。</p>  <h2>マガジンの発行</h2>  <p>たとえば、印刷物の Web サイトを実行していたとします。 すべてのマガジンコンテンツはハブ データベースに格納され (データ同期 サービスの用語については、このブログ記事を参照してください)、そのコンテンツは週に 1 回公開されます。 </p>  <p><a href=""><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="clip_image001" border="0" alt="clip_image001" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/6201.clip_5F00_image001_5F00_thumb_5F00_2B740249.gif" width="220" height="283"></a></p>  <p>Web サイトの性質上、データベースの使用量は読み取りが多く、書き込み量が少ない傾向があります。 管理は、Windows Azure 中心のソリューションを望み、高速である必要があります。新しい検索エンジンの最適化ルールは、コンテンツを迅速に返す Web サイトを支持します。</p>  <p>トラフィックの大部分が 米国 からのトラフィックである場合は、読み取りクエリをサポートするために 3 つの SQL Azure データベースを使用します。これらは、データ同期 Services 同期グループの読み取り専用メンバー データベースです。 これらは、ハブ データベースと同じデータ センターに存在します。 次に、アジアに 1 つ、ヨーロッパに 1 つ、さらに 2 つのメンバー データベースを作成します。これらは、Azure Web ロールと同Windowsデータ センターにあります。</p>  <p><a href=""><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="clip_image002" border="0" alt="clip_image002" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/5633.clip_5F00_image002_5F00_thumb_5F00_119FCC1A.png" width="444" height="416"></a></p>  <p>注: これは架空のデータであり、MSDN マガジンのトラフィックを反映したデータではありません。また、MSDN マガジンでは現在、SQL Azure使用しません。</p>  <p>コンテンツ チームは常にハブ データベースを更新します。公開する前にコンテンツがどのように表示されるかを確認するために、Web サイトのプライベート エディションを提供する場合があります。 その後、発行する準備ができたら、グループを同期する データ同期 Service サービスに通知します。すべてのメンバー データベースは、リモート データ センターにプッシュされたハブ データで更新されます。 週の残りの部分では、Azure Web ロールは、ローカルだったメンバー データベースを呼び出します。</p>  <p>データ センター間クエリの転送料金が削減されたため、コストが削減される可能性があります。 データ転送料金が発生したデータ センターを越える場合は、Web ロールと同じデータ センターに含SQL Azure データベースに対するクエリが含まれます。 書き込みが少ない読み取りシナリオが高い場合は、データ同期 Services を使用して、SQL Azure Web ロールがホストされているデータセンターにデータをプッシュすると便利です。 注意点は、別のデータベースを実行するSQL Azure転送料金よりも低い点です。</p>  <h2>書き込み</h2>  <p>書き込みについて 最も単純な前面 Web サイトでも、いくつかの書き込みを行う必要があります。 書き込みのシナリオが低い場合は、常にハブ データベースに直接書き込みを送信できます。 この問題は、コンテンツが毎週公開されるまで、これらの書き込みをメンバー データベースと同期しないという問題になります。 ローカライズされたメンバー データベースに直接書き込む場合 (データ同期 Service では双方向同期がサポートされています)、同じ問題が発生し、マージの競合が発生する可能性があります。</p>  <p>考え得る解決策の 1 つは、別のデータベースを書き込み用に使用することです。これは、ハブ データベースと同じデータ センターでホストされているデータベースです。 世界中の Web ロールは、フォーラム、コメント、ユーザーが生成したコンテンツをサポートするために、この個別のデータベースに直接データを読み書きします。</p>  <p>今後は、地理的な冗長性を提供する データ同期 Services でリアルタイムの書き込みを提供する、より複雑な手法についてブログで説明します。</p>  <h2>まとめ</h2>  <p>質問、懸念事項、コメントはありますか? 以下に投稿すると、対処を試みることができます。</p>'
