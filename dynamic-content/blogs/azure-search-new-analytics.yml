### YamlMime:Yaml
ms.openlocfilehash: f1ffdc3e903802c1b9831ec3cdd8fca6bf173fe3
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139889258"
Slug: azure-search-new-analytics
Title: Azure Search 用の新しい検索分析
Summary: 新しいバージョンの検索 Traffic Analytics を発表し、検索クエリとクリックを構築、インストルメント、および監視する方法について説明します。これにより、検索アプリケーションに関する実用的な洞察を得ることができます。
Content: >-
  <p>検索アプリケーションの最も重要な側面の1つは、ユーザーのニーズを満たす関連コンテンツを表示する機能です。 関連性を測定するには、検索結果とアプリ側のユーザー対話を組み合わせる必要があります。収集する内容とその方法を決定するのは困難です。 このため、新しいバージョンの検索 Traffic Analytics を発表し、検索クエリとクリックを構築、インストルメント、監視する方法についてのパターンをご紹介します。これにより、検索アプリケーションに関する実用的な洞察を得ることができます。 &rsquo;多くのクリックされたドキュメントや、クリックされない最も一般的なクエリなど、一般的な質問に回答したり、新しい UI レイアウトの効果や検索インデックスの調整など、他の状況に対する証拠を提供したりすることができます。 全体として、この新しいツールでは、より多くの情報に基づいた意思決定を可能にする貴重な洞察を得ることができます。</p>


  <p>スコアリングプロファイルの例を展開してみましょう &rsquo; 。 &rsquo;映画のサイトがあり、ユーザーが通常は最新のリリースを検索しているとします。そのため、最新のムービーをブーストするために、鮮度の機能を備えたスコアリングプロファイルを追加します。 このスコアリングプロファイルを使用して、ユーザーが正しいムービーを見つけられるようにするには、どうすればよいでしょうか。 ユーザーが検索する内容、表示されるコンテンツ、およびユーザーが選択するコンテンツに関する情報が必要になります。 ユーザーがクリックした内容に関するデータがある場合は、有効性と関連性を測定するためのメトリックを作成できます。</p>


  <h2>私たちのソリューション</h2>


  <p><br>

  高度な検索品質基準を取得するために、 &rsquo; 検索要求をログに記録するだけでは不十分です。 &rsquo; また、関連するドキュメントとしてユーザーが選択した内容に関するデータをログに記録する必要もあります。 これは、ユーザーが検索する内容とユーザーが選択した内容を記録するテレメトリを検索アプリケーションに追加する必要があることを意味します。 これは、ユーザーが本当に興味を持っていることに関する情報を取得し、探しているものを見つけることができる唯一の方法です。 利用可能なテレメトリソリューションは多数ありますが、まだ別の製品を&#39;していませんでした。 マイクロソフトは、複数のプラットフォームで利用できる、成熟した堅牢なテレメトリソリューションである Application Insights と提携することを決定しました。 任意のテレメトリソリューションを使用して、ここで説明したパターンに従うことができますが、Application Insights を使用すると、Azure Search によって作成された Power BI テンプレートを活用できます。</p>


  <p>テレメトリとデータパターンは、次の4つの手順で構成されています。</p>


  <p>1. Application Insights を &nbsp; &nbsp; &nbsp; 有効にする<br>

  2. 検索要求データを &nbsp; &nbsp; &nbsp; ログに記録する<br>

  3. ログ記録ユーザー &rsquo; がデータを &nbsp; &nbsp; &nbsp; クリックする<br>

  4. &nbsp; &nbsp; &nbsp; Power BI desktop で監視する</p>


  <p>&rsquo;ログを記録する対象やその情報を使用して興味深いメトリックを生成する方法を決定するのは簡単ではないため、次に示す明確なセットスキーマを作成しました。これにより、Power BI のデスクトップですぐに使用できるグラフやテーブルについてよく寄せられるようになります。 本日からは、Azure Portal と <a href="https://docs.microsoft.com/azure/search/search-traffic-analytics">公式のドキュメント</a>で、簡単に実行できる手順にアクセスできます。</p>


  <p><img alt="Azure Search traffic analytics in the Azure portal" border="0" height="426" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/4133eafd-56f0-4259-ae7f-716c24bfe0de.png" style="border-width: 0px; padding-top: 0px; padding-right: 0px; padding-left: 0px; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="AzureSearch-TrafficAnalytics" width="610"></p>


  <p>アプリケーションをインストルメント化し、Application Insights のインスタンスへのデータの送信を開始すると、Power BI を使用して検索品質のメトリックを監視できるようになります。 Power BI desktop ファイルを開くと、次のメトリックとグラフが表示 &rsquo; されます。<br>

  &bull;&nbsp;&nbsp;&nbsp; クリックスルー率 (CTR): ドキュメントをクリックしたユーザーの合計検索数の比率。<br>

  &bull;&nbsp;&nbsp;&nbsp; クリックせずに検索: クリックを登録しない上位のクエリの用語。<br>

  &bull;&nbsp;&nbsp;&nbsp; クリックされたほとんどのドキュメント: 過去24時間、7日間、および30日以内に ID で最もクリックされたドキュメント。<br>

  &bull;&nbsp;&nbsp;&nbsp; 一般的な用語とドキュメントのペア: 同じドキュメントがクリックされたときに、その結果として使用される用語です。<br>

  &bull;&nbsp;&nbsp;&nbsp; [クリックするまでの時間]: 検索クエリからバケット化をクリックします。</p>


  <p><img alt="Azure Search template for Power BI" border="0" height="360" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/4a20ad4e-48b4-4bdf-ac81-4268ce14d15a.png" style="border-width: 0px; padding-top: 0px; padding-right: 0px; padding-left: 0px; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="Azure Search テンプレート" width="610"></p>


  <p>&nbsp;</p>


  <h2>操作ログとメトリック</h2>


  <p><br>

  監視メトリックとログは引き続き利用できます。 これらは、Azure Portal の [監視] セクションで有効にして管理 &nbsp; できます。</p>


  <p>操作ログやメトリックを選択したストレージアカウントにコピーするには、監視を有効にします。 このオプションを使用すると、Azure Search の<a href="https://powerbi.microsoft.com/documentation/powerbi-content-pack-azure-search/">Power BI コンテンツパック</a>や、独自のカスタム統合と統合できます。</p>


  <p>メトリック &rsquo; のみに関心がある場合は、 <a href="https://docs.microsoft.com/azure/monitoring-and-diagnostics/monitoring-get-started">Azure Monitor</a>の起動以降にすべての検索サービスでメトリックが利用可能になるため、監視を有効にする必要はありません。これは、すべてのリソースを1か所で監視できるプラットフォームサービスです。</p>


  <h2>次の手順</h2>


  <p><br>

  ポータルまたは <a href="https://docs.microsoft.com/azure/search/search-traffic-analytics">ドキュメント</a> に記載されている手順に従って、アプリをインストルメント化し、詳細な検索メトリックを取得します。</p>


  <p>Application Insights の詳細については、<a href="https://go.microsoft.com/fwlink/?linkid=842905">こちら</a>を参照してください。 &nbsp;さまざまなサービスレベルの詳細については、Application Insights の価格に関する<a href="https://azure.microsoft.com/pricing/details/application-insights/">ページ</a>を参照してください。</p>
