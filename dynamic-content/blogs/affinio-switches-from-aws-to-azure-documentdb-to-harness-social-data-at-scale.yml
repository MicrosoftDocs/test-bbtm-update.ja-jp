### YamlMime:Yaml
ms.openlocfilehash: da0171c326e137b74fab60eb3feedc5a984782d2
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139894679"
Slug: affinio-switches-from-aws-to-azure-documentdb-to-harness-social-data-at-scale
Title: Azure DocumentDB は、最新のマーケティング インテリジェンス プラットフォームを強化します
Summary: Affinio は、ブランドがユーザーをより深いレベルで深く理解できる高度なマーケティング インテリジェンス プラットフォームです。 Affinio のビジネス モデルは、何十億ものソーシャル メディア データのポイントから、より絞り込みのマーケティング作業まで、クライアントのマーケティング分析情報を抽出することです。 データベース管理、データ パーティション分割、データ インデックス作成のオーバーヘッドなしで数十億のソーシャル ネットワーク接続を格納して処理するために、Azure DocumentDB を選択しました。 Affinio による DocumentDB の使用方法の詳細については、この新しいケース スタディを参照してください。
Content: "<p><a href=\"https://affinio.com/\">Affinio は</a> 高度なマーケティング インテリジェンス プラットフォームであり、ブランドは、より深く豊富なレベルでユーザーを理解できます。 Affinios 学習&rsquo;エンジンは、ソーシャル メディア データの数十億ポイントをマイニングからクライアントのマーケティング分析情報を抽出します。 データベース管理、パーティション分割、インデックス作成のオーバーヘッドなしで数十億のソーシャル ネットワーク接続を格納して処理するために、Affinio エンジニアリング チームは Azure DocumentDB を選択しました。</p>\n\n<p>Affinios&rsquo; 体験の詳細については、この新しく公開された <a href=\"https://customers.microsoft.com/Pages/CustomerStory.aspx?recid=29764\">ケース スタディを参照してください</a>。&nbsp; このブログ記事では、ケース スタディの抜粋を提供し、ソーシャル ネットワーク データを格納および処理するための効果的なパターンについて説明します。</p>\n\n<p>&nbsp;</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/42321ba4-42ef-4bc5-bf8d-224bce3af16a.png\"><img alt=\"image\" border=\"0\" height=\"311\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/a715a1af-51ae-48e8-8e56-c480dba7edaa.png\" style=\"border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px\" title=\"イメージ\" width=\"793\"></a></p>\n\n<h2><strong>NoSQL データベースがソーシャル データに適している理由</strong></h2>\n\n<p>Affinios&rsquo; マーケティング プラットフォームは、Twitter&nbsp; などのソーシャル ネットワーク プラットフォームからデータを抽出し、その学習エンジンにフィードし、ユーザーとその関心事に関する分析情報を学習します。&nbsp;10 億&nbsp;台のソーシャル メディア プロファイルが最大のdatasetconsistedofapproximatelyone&nbsp;&nbsp;&nbsp;&nbsp; であり、1 か月あたり 1,000 万で増加しています。&nbsp;Affinio では、Twitter ツイート (ステータス メッセージ)、地理的な場所データ、およびどのトピックがユーザーに関心を持<a href=\"https://azure.microsoft.com/documentation/articles/documentdb-geospatial/\"></a>つ可能性が高い機械学習の結果を含む、他の多くのフィードを格納して処理する必要があります。&nbsp;</p>\n\n<p>NoSQL データベースは&nbsp;、次 <a href=\"https://azure.microsoft.com/documentation/articles/documentdb-nosql-vs-sql/\">の多くの理由から、これらのデータ</a>&nbsp; フィードに対して自然な選択です。</p>\n\n<ul>\n <li>一般的なソーシャル ネットワークの API によって&nbsp;、JSON 形式のデータ&nbsp;が生成されます。</li>\n <li>&nbsp;TB&nbsp; 内の datavolume&nbsp; は、頻繁に更新する必要があります (&nbsp;&nbsp;ボリュームと頻度の両方が時間のと共に迅速に作成されます)。</li>\n <li>複数のソーシャル メディア プロデューサーからのデータはダウンストリームで処理され、各ソーシャル メディア チャネルには個別に進化する独自のスキーマがあります。</li>\n <li>また、非常に重要なのは、小規模な開発チームが新機能を迅速に反復処理できる必要があります。つまり、データベースは簡単にセットアップ、管理、スケーリングできる必要があります。</li>\n</ul>\n\n<h2><strong>Aws DynamoDB と Elasticsearch で Affiniouse&nbsp; DocumentDB が実行される理由</strong></h2>\n\n<p style=\"text-align:justify\">Affinio エンジニアリング チームは、最初に AWS EC2 仮想マシン上の Elasticsearch 上にストレージ ソリューションを構築しました。 Elasticsearch はスケーラブルな JSON ストレージの必要性に対処する一方で、独自の Elasticsearch サーバーを設定して管理すると、開発チームから貴重な時間を取り出すのを実現しました。 その後、完全に管理された Amazons&rsquo; DynamoDB サービスを評価しましたが、Affinio に必要なクエリ機能が含んでいました。</p>\n\n<p style=\"text-align:justify\">その後、Affinio Microsoft Azure Microsofts&rsquo; の惑星規模の NoSQL データベース サービスである DocumentDB を試しました。 DocumentDB&nbsp; は、<a href=\"https://azure.microsoft.com/documentation/articles/documentdb-indexing\">JSON</a> ドキュメントの自動インデックス作成、スループットとストレージのエラスティック スケーリング、機能とパフォーマンスに関する要件を満たす<a href=\"https://azure.microsoft.com/documentation/articles/documentdb-sql-query/\"></a>豊富なクエリ機能を備える、フル マネージドの NoSQL データベースです。 その結果、Affinio は、スタック全体を AWS からリージョンに移行Microsoft Azure。</p>\n\n<p><em>&ldquo;DocumentDB に移行する前に、開発者は、Elasticsearch デプロイがデータをサポートするか、処理するために何をスケーリングする必要があるのか確認するために、私に連絡する必要があります。DocumentDB はボトルネックとして私を削除しました。これは私と彼らにとって大きな問題です。&rdquo; </em></p>\n\n<p><em>-Stephen Hankinson、CTO、Affinio</em></p>\n\n<h2><strong>DocumentDB での Twitter データのモデル化 &ndash; の例</strong></h2>\n\n<p>例として、Affinio が DocumentDB に Twitter ステータス メッセージのデータを格納した方法を見てみる。 たとえば、サンプルの&rsquo; JSON ステータス メッセージを次に示します (表示のために切り詰め)。&nbsp;</p>\n\n<pre class=\"prettyprint\">\n{  \n   &quot;created_at&quot;:&quot;Fri Sep 02 06:43:15 +0000 2016&quot;,\n   &quot;id&quot;:771599352141721600,\n   &quot;id_str&quot;:&quot;771599352141721600&quot;,\n   &quot;text&quot;:&quot;RT @DocumentDB: Fresh SDK! #DocumentDB #dotnet SDK v1.9.4 just released!&quot;,\n   &quot;user&quot;:{  \n      &quot;id&quot;:2557284469,\n      &quot;id_str&quot;:&quot;2557284469&quot;,\n      &quot;name&quot;:&quot;Azure DocumentDB&quot;,\n      &quot;screen_name&quot;:&quot;DocumentDB&quot;,\n      &quot;location&quot;:&quot;&quot;,\n      &quot;description&quot;:&quot;A blazing fast, planet scale NoSQL service delivered by Microsoft.&quot;,\n      &quot;url&quot;:&quot;https://t.co/30Tvk3gdN0&quot;\n   }\n}</pre>\n\n<p>このデータを DocumentDB に格納する方法は簡単です。 スキーマのない NoSQL データベースとして、DocumentDB はスキーマやインデックスの定義を必要とせずに <a href=\"https://dev.twitter.com/rest/public\">、Twitter</a> API から JSON データを直接使用します。 開発者として、DocumentDB にこのデータを格納するための主な考慮事項は、パーティション キーの選択と、一意のクエリ パターン (この場合はテキスト メッセージを使用した検索) への対処です。 Affinio&#39;これら 2 つのアドレスを確認します。</p>\n\n<p><strong>適切なパーティション キーの選択:</strong>&nbsp; DocumentDB パーティション 分割コレクションでは、JSON ドキュメント内のプロパティをパーティション キーとして指定する必要があります。 DocumentDB は、このパーティション キー値を使用して、複数の物理サーバーにデータと要求を自動的に分散します。 優れたパーティション キーには、多数の個別の値が含まれており、DocumentDB は複数のパーティションにデータと要求を分散できます。 Twitter&rsquo; のステータス メッセージのようなソーシャル データに対する優れたパーティション キーの候補を見てみしましょう。</p>\n\n<ul>\n <li>&quot;&quot; &ndash; created_atにはさまざまな値が含まれており、特定の時間範囲のデータにアクセスする場合に便利です。 ただし、作成された時刻に基づいて新しいステータス メッセージが挿入されます。このため、現在の時刻のような特定の時間値のホット スポットが発生する可能性があります</li>\n <li>&quot;id&quot; &ndash; このプロパティは、Twitter ステータス メッセージの ID に対応します。 多数の一意のユーザーがいて、任意の数のパーティション/サーバーに多少均等に分散できるので、パーティション キーの候補として優れた機能です。</li>\n <li>&quot;&quot; &ndash; user.id プロパティは、Twitter ユーザーの ID に対応します。 書き&rsquo;込みを分散できるだけでなく、1 つのパーティションからのクエリを使用して特定のユーザーのステータス メッセージを効率的に処理するための読み取りも可能なので、これは最終的にパーティション キーに最適な選択肢でした。</li>\n</ul>\n\n<p>パーティション キー user.id&quot; を使用して、Affinio は、スループットの 200,000 要求ユニット (インジェストと学習エンジンを介<a href=\"https://azure.microsoft.com/documentation/articles/documentdb-request-units/\"></a>したクエリの両方) でプロビジョニングされた単一<a href=\"https://azure.microsoft.com/documentation/articles/documentdb-partition-data\">の DocumentDB</a> パーティション コレクションを作成しました。&quot;</p>\n\n<p><strong>テキスト メッセージ内での検索: </strong>Affinio では、ステータス メッセージ内の&rsquo;単語を検索できる必要があります。また、ランク付けのような高度なテキスト分析を実行する必要もなかった。 Affinio は、用語を検索する必要がある場合に関連フィールドで Lucene トークンナイザーを実行し、DocumentDB の JSON ドキュメント内に配列として用語を格納します。 たとえば、テキスト &quot;は&quot; 、ステータス メッセージ内 &quot;のトークンtext_terms&quot; 含む文字列配列としてトークン化できます。 この&rsquo;例を次に示します。</p>\n\n<pre class=\"prettyprint\">\n{  \n   &quot;text&quot;:&quot;RT @DocumentDB: Fresh SDK! #DocumentDB #dotnet SDK v1.9.4 just released!&quot;,\n   &quot;text_terms&quot;:[  \n      &quot;rt&quot;,\n      &quot;documentdb&quot;,\n      &quot;dotnet&quot;,\n      &quot;sdk&quot;,\n      &quot;v1.9.4&quot;,\n      &quot;just&quot;,\n      &quot;released&quot;\n   ]\n}</pre>\n\n<p>DocumentDB は、配列や入れ子になったプロパティを含む <a href=\"https://azure.microsoft.com/documentation/articles/documentdb-indexing/\">JSON</a> &ldquo;内のすべてのパスに自動的にインデックスを作成します。このため、documentdb&rdquo; &ldquo;や dotnet&rdquo; などの特定の単語を含むステータス メッセージのクエリを実行し、インデックスから提供することができます。 たとえば、これは次<a href=\"https://azure.microsoft.com/documentation/articles/documentdb-sql-query/#built-in-functions\">のようにSQL</a>されます。</p>\n\n<pre class=\"prettyprint\">\nSELECT * FROM status_messages s WHERE ARRAY_CONTAINS(s.text_terms, &quot;documentdb&quot;)\n</pre>\n\n<h2><strong>次の手順 </strong></h2>\n\n<p>このブログ記事では、Affinio が市場インテリジェンス プラットフォーム用に Azure DocumentDB を選択した理由と、DocumentDB に大量のソーシャル データを格納するための効果的なパターンについて説明しました。</p>\n\n<ul>\n <li><a href=\"https://customers.microsoft.com/Pages/CustomerStory.aspx?recid=29764\">Affinio</a> のケース スタディを参照して、Affinio が DocumentDB を利用してテラバイトのソーシャル ネットワーク データを処理する方法と、Amazon DynamoDB と Elasticsearch よりも DocumentDB を選択した理由の詳細を確認してください。</li>\n <li>Affinio の詳細については、Web サイトを <a href=\"https://www.affinio.com/\">参照してください</a>。</li>\n <li>&rsquo;最新のマーケティング、広告テクノロジ、リアルタイム分析アプリケーションの需要に対応する NoSQL データベースを探している場合は、無料試用版を使用して DocumentDB を試してみるか、<a href=\"https://azure.microsoft.com/pricing/free-trial/\" ms.cmpgrp=\"body\" ms.cmpnm=\"DocumentDB using your free trial\" ms.cmptyp=\"link\" ms.interactiontype=\"1\" ms.pgarea=\"content\" ms.title=\"\" target=\"_blank\"><u>DocumentDB</u></a> エンジニアリング チームと <a href=\"https://azure.microsoft.com/documentation/articles/documentdb-community/#contact-the-team\" ms.cmpgrp=\"body\" ms.cmpnm=\"1:1 chat with the DocumentDB engineering team\" ms.cmptyp=\"link\" ms.interactiontype=\"1\" ms.pgarea=\"content\" ms.title=\"\" target=\"_blank\"><u>1 対 1</u></a> のチャットをスケジュールします。&nbsp;&nbsp;</li>\n <li>Twitter でフォローして、DocumentDB の最新のニュースと機能を最新の情報にしてください <a href=\"https://twitter.com/DocumentDB\"><u>@DocumentDB</u></a>。</li>\n</ul>"
