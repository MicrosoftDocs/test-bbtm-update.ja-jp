### YamlMime:Yaml
ms.openlocfilehash: a7f025108ef5f3e5982b8a349b5257c6173cf0cf
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139891927"
Slug: unlock-query-performance-with-sql-data-warehouse-using-graphical-execution-plans
Title: グラフィカル実行プランを使用してSQL Data Warehouseパフォーマンスのロックを解除する
Summary: SQL Server Management Studio (SSMS) 内のグラフィカル実行プラン機能が、SQL DATA WAREHOUSE (SQL DW) でサポートされました。 ボタンをクリックすると、DW の分散クエリ プランのグラフィカルSQLできます。
Content: >-
  <p>SQL Server Management Studio (SSMS) 内のグラフィカル実行プラン機能が、SQL DATA WAREHOUSE (SQL DW) でサポートされました。 ボタンをクリックすると、DW の分散クエリ プランのグラフィカルSQLできます。</p>


  <p>この機能強化の前は、SQL DW のクエリのトラブルシューティングは多くの場合、多くの場合、<a href="https://docs.microsoft.com/en-us/sql/t-sql/queries/explain-transact-sql" target="_blank">EXPLAIN</a> コマンドを実行する必要がありました。 SQL DW のお客様は、クエリ プランをシームレスに視覚的にデバッグして、パフォーマンスのボトルネックをウィンドウ内SSMSできます。 このエクスペリエンスにより、低コストの分散クエリ プランの最も一般的な理由であるコストの高いデータ移動操作が表示され、クエリのトラブルシューティング エクスペリエンスが向上します。 次に示すのは、グラフィカル実行プランを利用する SQL DW を使用した分散クエリ プランのトラブルシューティングの簡単な例です。</p>


  <p>次のビューには、クエリの推定実行プランが表示されます。 ご覧のように、これは互換性のない結合です。これは、異なる列に分散された 2 つのテーブル間に結合がある場合に発生します。 互換性のない結合では、ShuffleMove 操作が作成されます。この操作では、結果をユーザーにストリーミングする前に、ローカルで結合を満たすためにすべてのディストリビューションに一時テーブルが作成されます。 ShuffleMove は、このクエリのパフォーマンスのボトルネックになっています。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/d1084fc8-f0d6-4af3-bdac-dc9ea7dd2968.png"><img alt="ssms_dw_execution_plan_1" border="0" height="756" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/f4844612-a0b4-4eae-a9da-e49f662627bc.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="ssms_dw_execution_plan_1" width="1199"></a></p>


  <p>テーブル定義を詳しく見ると、結合される 2 つのテーブルが異なる列に分散されているのを確認できます。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/84776ead-d451-42da-b341-04e12a8dd989.png"><img alt="ssms_dw_execution_plan_2 (002)" border="0" height="820" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/32c63b0d-f5e0-4464-83f3-bcc3e50b519d.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="ssms_dw_execution_plan_2 (002)" width="451"></a></p>


  <p>推定グラフィカル実行プランを利用することで、ShuffleMove 操作を削除するために適切な列のテーブルを<a href="https://docs.microsoft.com/en-us/azure/sql-data-warehouse/sql-data-warehouse-tables-distribute#resolve-a-distribution-column-problem"></a>再配布することで、このクエリのパフォーマンスを向上できると確認しました。</p>


  <p>分散クエリのトラブルシューティングとチューニングSQL簡単になりました。 この機能の使用SSMS、最新のリリースをダウンロードしてください。 POC のサポートが必要な場合は、直接 <a href="https://azure.microsoft.com/en-us/services/sql-data-warehouse/information-request/">お問い合わせください</a>。 Twitter でフォローして、最新の Azure SQL DW のニュースと機能に関する最新情報を確認してください<a href="https://twitter.com/AzureSQLDW">@AzureSQLDW</a></p>
