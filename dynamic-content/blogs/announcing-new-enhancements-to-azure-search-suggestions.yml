### YamlMime:Yaml
ms.openlocfilehash: 404cf07e2a1a733fa7682d3f67b655d87e6faf4c
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139893653"
Slug: announcing-new-enhancements-to-azure-search-suggestions
Title: Azure Search の提案に対する新しい機能強化の発表
Summary: 最初に Azure Search で検索候補を実装したときに、プレフィックス一致を使用しました。 皆様からのフィードバックをお待ちしており、結果を向上させるために挿入辞の照合を実装しました。
Content: "\"検索候補\" は、アプリケーションにオートコンプリート機能を実装するために使用するビルディングブロックです。 シナリオによっては、ユーザーが検索要求を実際に実行する前に利用可能なものを移動するのに役立つ重要な機能があります。\n\n最初に Azure Search で検索候補 (オートコンプリート) を実装したときに、プレフィックス照合を行いました。 たとえば、候補が有効になっているフィールドに \"the quick brown fox the lazy dog\" という文字列が含まれている場合、このドキュメントでは、部分的な入力が \"the\"、\"qu\"、\"quick brown fox\" などの場合にこのドキュメントを提案しますが、部分的な入力が \"quick brown fox\" または \"lazy dog 提案の結果として期待に合わなかったということを繰り返し聞きました。\n\n要約すると、次のようにフィードバックされました。\n<ol>\n <li>検索候補クエリでは、挿入辞の照合は行われませんが、プレフィックスの一致のみが実行されます。 これは、非常によく寄せられるフィードバックの投稿です。</li>\n <li>提案は結果ごとに10個に制限されており、一部のシナリオでは少なすぎます。</li>\n <li>提案の長さは25文字に制限されていました。 場合によっては、それ以上のことを希望する場合もあります。</li>\n <li>結果を返すには、入力に少なくとも3文字が必要です。</li>\n</ol>\n&nbsp;\n<h2>挿入辞の照合とあいまい一致</h2>\n運用環境にデプロイしたのは、これらすべての項目に対応する、まったく新しい提案の実装です。 具体的には、提案に対して挿入辞の照合を行い、ユーザーが \"brown fo\" と入力して、' quick brown fox ジャンプ... ' などの候補を取得できるようにします。 (一致する文字列は、単語の境界内にある必要がありますが、その中に存在する文字シーケンスと一致しません)。あいまい一致を有効にすると、スペルミスをより柔軟に行うことができます。 また、結果ごとに最大100の候補を許可し、フィールドの制限以外の長さに制限はなく、3文字の最小長はありません。 フィードバックの取得と機能の調整が完了していないため、 <a href=\"https://azure.microsoft.com/en-in/documentation/articles/search-api-2014-10-20-preview/#Suggestions\">実験的なバージョン 2014-10-20-Preview</a> のままです。\n\n以前の提案用 API は、フィールド定義でブール型の \"提案\" オプションでした。 単純であっても、拡張する余地はありませんでした (たとえば、どの照合戦略を使用するかを示すことはできませんでした)。 今後、ご提案に向けて API を補強しています。今後、さらに多くの機能を追加するためのスペースが用意されています。 インデックスには、名前と検索モードを持つ \"サジェスター\" のコレクションが追加されました (これにより、プレフィックス照合サジェスターを新しい API にすぐに取り込むことができます)。 最初の suggester では、ドキュメント内のフィールドから提案を発行し、挿入条件の照合を使用しています。\n\nSuggester を含む新しいインデックス定義は次のようになります。\n<pre class=\"prettyprint\">{\n\nfields: [\n\n{ \"name\": \"id\", \"type\": \"Edm.String\", \"key\": true },\n\n{ \"name\": \"title\", \"type\": \"Edm.String\" }\n\n],\n\nsuggesters: [\n\n{ \"name\": \"sg\", \"searchMode\": \"analyzingInfixMatching\", \"sourceFields\": [\"title\"] }\n\n]\n}</pre>\n提案の要求で使用するには、suggester を参照する必要があります (常に、検索テキストを URL エンコードしてください)。\n<p style=\"padding-left: 30px;\">https://mysvcname.search.windows.net/indexes/myindex/docs/suggest?api-version=2014-10-20-Preview&amp; search = lazy + dog &amp; suggesterName = sg</p>\n\n<h2>次の手順</h2>\n「<a href=\"https://azure.microsoft.com/blog/2015/01/20/azure-search-how-to-add-suggestions-auto-complete-to-your-search-applications/\">検索アプリケーションに提案を追加する方法 (オートコンプリート)</a>」で最近投稿したチュートリアルを使用して、これらの新しい機能強化を試すことができます。\n\nまた、 <a href=\"https://azure.microsoft.com/en-in/documentation/articles/search-api-2014-10-20-preview/\">2014-10-20-PREVIEW API ドキュメント</a>のすべてのオプションについて説明しているサジェスターのドキュメントを参照することもできます。\n\n新しいフィールドを追加して新しい suggester にバインドするか、新しいインデックスを作成して機能させる必要があることに注意してください。 既存のインデックスの既存のフィールドにバインドされている suggester を追加することはできません。\n\n提案を使用し、しばらく時間がある場合は、試してみてください。 ご <a href=\"https://social.msdn.microsoft.com/Forums/azure/en-US/home?forum=azuresearch\">意見</a>をお寄せください。\n\nLiam Cavanagh は、彼のブログまたは <a href=\"https://twitter.com/liamca\" target=\"_blank\">twitter</a>からアクセスできます。"
