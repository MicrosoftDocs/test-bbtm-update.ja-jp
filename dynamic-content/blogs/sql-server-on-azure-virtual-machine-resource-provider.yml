### YamlMime:Yaml
ms.openlocfilehash: 8dd9a286603ba997bd785d58ecabf67a63a0b31b
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139892186"
Slug: sql-server-on-azure-virtual-machine-resource-provider
Title: SQL Server Azure Virtual Machines リソース プロバイダーで使用する
Summary: SQL Server Azure Virtual Machines は、SQL Server のバージョン、エディション、オペレーティング システム、VM サイズを完全に制御して、クラウド上で SQL Server を実行するためのコスト効率の高いリフト アンド シフト方法です。
Content: >-
  <p><a href="https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sql/virtual-machines-windows-sql-server-iaas-overview" target="_blank">SQL Server Azure Virtual Machines</a> は、SQL Server のバージョン、エディション、オペレーティング システム、VM サイズを完全に制御して、Microsoft Azure で SQL Server を実行するためのコスト効率の高いリフト アンド シフト方法です。 現在、Microsoft.SqlVirtualMachine という新しいリソース プロバイダーが明らかになります。<strong>Microsoft.SqlVirtualMachine</strong> は、Azure VM での SQL Server 固有の構成とデプロイを処理するために Azure クラスター上で内部的に実行される管理サービスです。 SQL VM リソース プロバイダーを使用すると、SQL SERVER メタデータを動的に更新し、HADR アーキテクチャに必要なマルチ VM デプロイSQL Server調整できます。 SQL VM リソース プロバイダーを使用すると、特定SQL Serverの参照および監視エクスペリエンスを有効にできます。</p>


  <p>VM SQLプロバイダーを使用して、次の 3 つの新しいリソースの種類を導入します。</p>


  <ul>
      <li><strong>Microsoft.SqlVirtualMachine/SqlVirtualMachine</strong> は、Azure VM SQL Server構成を表します。 作成されると、<strong>VirtualMachineResourceId</strong> プロパティを使用して既存の VM リソースにリンクし、SQL Server IaaS Extension プロパティから SQL構成を取得します。 <strong>SqlVirtualMachine</strong> リソースの種類には、ライセンスの種類を表SQL Serverプロパティがあります。 SQL Server ライセンスの種類を AHUB または PAYG に設定すると、ダウンタイムなしで VM インスタンスをデプロイした後でも、SQL Server ライセンスを動的に更新できます。</li>
      <li><strong>Microsoft.SqlVirtualMachine/SqlVirtualMachineGroup</strong> は、HADR アーキテクチャに参加する SQL VM のグループを表します。 現在、SQL Server 201 SQL Server 6 年 2016 年と 2017 年 2 月 2017 年の Always ON 可用性グループは、Windows Server 2016 に参加している Active Directory ドメインに参加している Windows フェールオーバー クラスターでサポートされています。 種類が SqlVirtualMachineGroups のリソースを作成すると、Always ON AG をホストする Windows フェールオーバー クラスターが構成されます。</li>
      <li><strong>Microsoft.SqlVirtualMachine/Sql 仮想</strong> マシン グループ/可用性グループ リスナーは、同じ VNet 内の任意の VM から接続できる Always ON 可用性グループ リスナーを表します。</li>
  </ul>


  <p><a href="https://github.com/Azure/azure-rest-api-specs/tree/master/specification/sqlvirtualmachine/resource-manager" target="_blank">すべての REST API の例をSQL VM</a> リソース プロバイダー用の Swagger 仕様は、次のページGitHub。</p>


  <p>SQL VM リソース プロバイダーは、2 つの新機能 (VM 用<a href="https://azure.microsoft.com/en-us/blog/azure-hybrid-benefit-for-sql-server-on-azure-virtual-machines/" target="_blank">の AHB</a>) と <a href="https://azure.microsoft.com/en-us/blog/automate-always-on-availability-group-deployments-with-sql-virtual-machine-resource-provider/">Automated Always ON AG SQLインフラストラクチャを設定します</a>。 AHB for SQL VM では、単純な PowerShell または仮想マシン呼び出しを使用して、既存の PAYG SQL VM に対して大幅なコスト削減Azure CLIできます。 Automated Always ON AG 機能を使用すると、Azure インフラストラクチャの詳細がユーザーから隠され、 <a href="https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sql/virtual-machines-windows-portal-sql-availability-group-prereq" target="_blank">Azure VM で Always ON AG</a> を構成するために必要な手動の手順が自動化されます。</p>


  <p>VM リソース SQLを使用するには、<strong>Microsoft.SqlVirtualMachine</strong> プロバイダーにサブスクリプションを登録します。 <strong>Microsoft.SqlVirtualMachine</strong> プロバイダーに登録するには、Azure portal。 まず、[すべてのサービス] を &ldquo;選択し&rdquo; 、[サブスクリプション] に &ldquo;移動します。&rdquo; そこから、リソース プロバイダーを &ldquo;選択できます。&rdquo; 次の Power Shell コマンドを実行 <strong>して、Microsoft.SqlVirtualMachine</strong> プロバイダーにサブスクリプションを登録することもできます。</p>


  <pre>

  Register-AzureRmResourceProvider -ProviderNamespace Microsoft.SqlVirtualMachine</pre>


  <p>SQL VM RP は、Azure Marketplace SQL イメージからデプロイされたすべての VM インスタンスと、Azure VM 上の自己SQL Serverで使用できます。 <strong>SqlVirtualMachine</strong> リソースを作成し、一般化された VHD から作成された SQL Serverを実行している既存の Azure VM にリンクすることができます。 <strong>Microsoft.SqlVirtualMachine</strong> プロバイダーに今すぐ登録して、Azure VM 上で実行されているユーザーに対して柔軟なライセンスと強化された管理SQL Server機能を活用します。</p>
