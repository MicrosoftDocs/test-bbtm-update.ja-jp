### YamlMime:Yaml
ms.openlocfilehash: a1ea6c71a5ead421200e26d108fd1257cf74d880
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139891022"
Slug: a-records-cname-and-using-dns-with-windows-azure-web-sites-waws
Title: A レコード、CNAME、および Windows Azure websites (waws) での DNS の使用
Summary: Web サイトをセットアップする場合、ゲームの重要な部分は、サイトを独自のドメイン名で実行することです。 ご存知のように、Azure websites Windows でサイトをホストすると、これが Shared...
Content: >-
  Web サイトをセットアップする場合、ゲームの重要な部分は、サイトを独自のドメイン名で実行することです。 ご存知のように、Azure websites Windows でサイトをホストすると、これは Shared レベルと Standard レベルの両方で許可されますが、特にドメインレジストラーが非常に協調していない場合 (特に)、DNS を構成すると、非常に複雑になる可能性があります。1年間 $10 の場合は、すべてを削除して家に向けているとは思いません。 ここでは、web サイトの DNS を構成するときに実行する重要な用語とメカニズムをいくつか紹介し、すべてを円滑に実行する方法を確認します。 次のようなものについて説明します。

  <ul>
   <li>DNS ゾーン</li>
   <li>DNS サーバー</li>
   <li>DNS エントリ</li>
   <li>CNAME レコード</li>
   <li>A-レコード</li>
   <li>DNS の更新を待機しているときに、時間を確保するための最適なピザです。</li>
  </ul>

  <strong><span style="text-decoration: underline;">DNS の基礎</span></strong>


  ドメイン名解決 (DNS) は、名前を IP アドレスに解決するメカニズムであり、IP アドレスを記憶するのではなく、名前を入力して web サイトを参照する機能を提供します。 Web サイトがセットアップされると、65.55.58.201 や 2607: f8b0: 400a: 0803: 0000: 0000: 0000: 1006 のような数値の IP アドレスが割り当てられますが、覚えにくく、入力が困難になるほど、この (特に長い数値) は特に実用的ではありません。 DNS は、数千のサーバーによって提供される世界規模のサービスであり、アクセスする web サイトの IP を提供するためにブラウザーでアドレスを入力すると spring to action となります。 このプロセスを DNS 解決と呼びます。


  通常、このプロセスはブラウザーによってバックグラウンドで実行されますが、認識されることはありませんが、必要に応じて手動で実行して自分で確認することができます。 これを行うには、[スタート] メニューから CMD ウィンドウを開き、PING コマンドを入力し、その後に web サイトの名前を入力します。 サイトが存在する場合は、次のような IP アドレスが表示されます。


  <a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/2086.1.png-550x0.png"><img class="alignnone size-full wp-image-133891" alt="2086.1.png-550x0" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/2086.1.png-550x0.png" width="550" height="237" /></a>


  (表示される4つの返信は、必ずしもすべてのサイトから返されるとは限りません。 セキュリティメカニズムとして応答をブロックしますが、角かっこに示されている IP は、常に既存の web サイトについて表示されます。


  Windows azure websites に web サイトを設定すると (このプロセスは、web サイトのホスティングプロバイダーによって異なる場合がありますが、ここでは pin を入力します)、azure によって自動的に IP アドレスが割り当てられ、 <strong>Azurewebsites.net</strong>ドメインの下に名前を選択するよう求められます。


  <a href="https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/02/1108.2.png-550x0.png"><img class="alignnone size-medium wp-image-133881" alt="1108.2.png-550x0" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/1108.2.png-550x0-464x369.png" width="464" height="369" /></a>


  ウィザードが完了すると、DNS は、選択した名前がこのサイトの IP に解決される必要があることを "指示" し、この照合を <strong>DNS ゾーン</strong>と呼ばれる特別なデータベースに保存します。 世界中のすべてのドメインにはゾーンがあり、サイトのエントリは Microsoft が管理する Azurewebsites.net ゾーンに格納されます。


  通常、Azure ゾーンで既定の名前を使用すると、テストと開発に十分に適していますが、サイトを運用環境に移行する際には、独自のドメインが必要になることがあります。 このプロセスを開始するには、多数のグローバル DNS プロバイダーのいずれかからドメイン名を購入します。 たとえば、GoDaddy は、北米の既知のプロバイダーの1つです。どちらも、優れた価格とすばらしいコマーシャル starring Danica パトリック、Bar Refaeli、...Jessie Heiman。


  ドメインプロバイダーからドメインを購入すると、自分のサーバーに DNS ゾーンが作成されます。 DNS はドメインを IP に解決する必要があるため、IP を持つ web サイトが既にあるかどうかを確認するメッセージが表示されます。 そうでない場合は、通常、ドメインを "パーキング" するオプションがあります。これは、何もないサーバーの IP アドレス、または一般的なランディングページ (ドメインプロバイダーには、ホストされている駐車ドメインをサービスするように指定された特別なサーバーがあります) を指します。 既にサイトがある場合は、ドメインプロバイダーが DNS ゾーンをその IP (このプロセスの一部として提供する必要があります) にポイントします。 プロバイダーによって IP でドメインをポイントするプロセスを "<strong>DNS レコードの作成</strong>" と呼びます。この処理が完了すると、レコードは <strong>a レコード</strong> または <strong>ホストレコード</strong>と呼ばれます。


  <strong><span style="text-decoration: underline;">サイト Dynamics</span></strong>


  Azure websites に web サイトを作成すると、サイトに IP アドレスが割り当てられます。 この記事で前に示した例に従って、選択したホスト名に対して PING コマンドを実行することで、その IP を識別できます。 必要に応じて、ドメインを購入し、この IP を指す A レコードを作成することもできますが、新しいドメインについて Azure に指示する必要もあります。 これは、web サイトがクラウドに格納される複雑な方法によって、複雑になります。


  従来の web ホスティングと比較して、クラウドにとって非常に優れた点は、サイトが1つの特定のサーバーに格納されていないことです。 クラウドは動的な環境であるため、IP が変更される可能性があるため、DNS の処理は多少異なります。 つまり、サイトに IP があり、簡単に見つけることができます。この IP アドレスへのドメインポイントを持っていてはなりません。 明確にするには...DNS エントリをハードコーディングしてその IP をポイントすることはできますが、IP は変更される可能性があります。その場合、ドメインは、サーバーに実際に割り当てられていない IP をポイントします。 このような状況では、ユーザーがサイトにアクセスしようとしたときに、そのサイトにアクセスできなくなります。 楽しいことはありません。 ここで、CNAME が画像に取り込まれます。


  <strong><span style="text-decoration: underline;">CNAME レコード</span></strong>


  このような状況では、サイトの IP がいつでも変更される可能性があります。 DNS には、 <strong>標準名</strong>として知られている、または短い形式の <strong>CNAME</strong> のメカニズムがあります。 ドメインプロバイダーは、ドメインを購入したばかりの顧客の DNS ゾーンを作成するときに、既に説明したように A レコードを作成しますが、代わりに CNAME レコードを作成することもできます。 CNAME レコードは、サイトのドメインが IP を指しておらず、別の URL で指定されている場合に、DNS サービスに通知します。 これは、食料品店に入って hypo ゴムのアヒルを手に入れ、事務員が "えー, I dunno を言っていますが、横棒では Donny に質問しています...そうですね。


  Azure 内のサイトの IP は変更される可能性があるため、CNAME を使用することをお勧めします。これは、DNS 解決プロセスに仲介者を追加して、IP として動的なものにするためです。 ここでは、カスタムドメインで他のユーザーが入力したときに、IP ではなく azurewebsites.net URL に解決するように DNS に指示します。 その後、Azure のサーバーは azurewebsites.net URL を IP に解決します。 このプロセスをサイドバイサイドで実行します。


  <a href="https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/02/5224.name_.JPG-550x0.jpg"><img class="alignnone size-medium wp-image-133871" alt="5224.name.JPG-550x0" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/5224.name_.JPG-550x0-475x369.jpg" width="475" height="369" /></a>


  クラウドでの名前解決プロセスには多くの手順がありますが、プロセスはバックグラウンドで実行され、すぐに実行されるため、お客様や web サイトの訪問者には影響しません。 実際の違いは、購入時にドメインに対して DNS を構成する必要があることだけです。


  セットアップの主な課題は、多くのドメインプロバイダーが、クラウドを使用するために多くの人材をグリップすることになるためです。 大規模なプロバイダーは、必要な構成を変更できるように、ウィザードの作成や巧妙な編集ツールを既に移動しています。


  プロバイダーが既にセルフサービスインターフェイスを持っている場合は、非常に単純なことがあります。 たとえば、前に説明した GoDaddy には、簡単に使用できるドメインエディターがあります。 ドメインの CNAME を追加するには、次の手順を実行します。

  <ol>
   <li>アカウントにログインする</li>
   <li>ドメインのページにアクセスします</li>
   <li>[ <strong>DNS ゾーンファイル</strong> ] タブに切り替えます。 <a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/5621.3.png-400x0.png"><img class="alignnone size-full wp-image-133861" alt="5621.3.png-400x0" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/5621.3.png-400x0.png" width="399" height="338" /></a></li>
   <li>[ <strong>編集</strong>] をクリックします。 <a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/3542.4.png-400x0.png"><img class="alignnone size-full wp-image-133851" alt="3542.4.png-400x0" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/3542.4.png-400x0.png" width="399" height="361" /></a></li>
   <li>ゾーンエディターが新しいタブで開きます。 <strong>CNAME</strong> ブロックの下で、[クイック追加] をクリックし <strong> ます。 <a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/5037.5.png-400x0.png"><img class="alignnone size-full wp-image-133841" alt="5037.5.png-400x0" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/5037.5.png-400x0.png" width="400" height="227" /></a>
  </strong></li>
   <li>エイリアス www と、Azurewebsites.net URL の名前を入力します。 <a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/3858.6.png-400x0.png"><img class="alignnone size-full wp-image-133831" alt="3858.6.png-400x0" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/3858.6.png-400x0.png" width="400" height="81" /></a></li>
   <li>画面の右上にある [ <strong>ゾーンファイルの保存</strong> ] をクリックします。 <a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/8473.7.png-150x0.png"><img class="alignnone size-full wp-image-133821" alt="8473.7.png-150x0" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/8473.7.png-150x0.png" width="150" height="47" /></a></li>
   <li>
  <ol>
   <li>以上で完了です。 通常、DNS が更新されるまでに約1時間かかります。その後、PING コマンドを使用してカスタムドメインに ping を実行すると、Azure のサーバーの1つの名前と IP に解決されることがわかります。</li>
  </ol>

  </li>

  </ol>

  <strong>詳細を見る</strong>


  通常、ユーザーがサイトを参照する場合は、 <a href="https://www.createhive.com/">www.createhive.com</a>のように URL を入力します。 ただし、WWW プレフィックスが付いていないサイトが表示されることがあります。 実際、ほとんどのサイトでは、"createhive.com" のようなドメインを入力するだけでサイトにアクセスできます。 このような要求を処理できるようにするには、ドメインで、サイトの "ルート" を指す特別な DNS レコードが必要です (のように、プレフィックスのない名前)。 残念ながら、このような CNAME レコードを使用することはできません。そのため、特別な操作を行う必要があります。 この点については、 <a href="https://azure.microsoft.com/en-us/develop/net/common-tasks/custom-dns-web-site/">この記事</a>の「 <strong>ドメイン名の A レコードを構成</strong>する」で説明します。 この点については、今後のブログ投稿で説明します。 ご期待ください。


  <strong>まとめ</strong>


  上記で説明したプロセスは、ほとんどのユーザーがドメインを購入したり、サイトを毎日移動したりしないため、めったに発生しません。 このガイドは、後で参照できるように保存することをお勧めします。 既に説明したように、ドメインプロバイダーには CNAME レコードを設定するためのメカニズムや手順が異なる場合があるため、探索して問題を把握しておくことをお勧めします。


  &nbsp;
