### YamlMime:Yaml
ms.openlocfilehash: 462489d2ce610ae6e6de7a6086713f35a7113939
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139889064"
Slug: query-store-on-is-the-new-default-for-azure-sql-database
Title: のクエリストアは、の新しい既定値です Azure SQL Database
Summary: すべての Azure SQL データベース (エラスティックプールを含む) でクエリストアが有効になっていることをお知らせします。これにより、エンドユーザーと Azure SQL Database プラットフォーム全体の両方でメリットが得られます。
Content: >-
  <p>すべての Azure SQL データベース (エラスティックプールを含む) でクエリストアが有効になっていることをお知らせします。これにより、エンドユーザーと Azure SQL Database プラットフォーム全体の両方でメリットが得られます。</p>


  <h2>これが重要である理由</h2>


  <p>クエリストアは、データベースのフライトデータレコーダー &rdquo; として &ldquo; 機能し、クエリに関する重要な情報を継続的に収集します。 これにより、事前に収集された関連データが必要になったときに、遅延なしで使用できるようになるため、パフォーマンスインシデントが発生した場合の解決時間が大幅に短縮されます。</p>


  <p>パフォーマンスを追跡し、データベースのパフォーマンスの予測可能性を確保することが重要なシナリオではクエリストアを使用できます。 次に、クエリストアが生産性を大幅に向上させる例をいくつか示します。</p>


  <ul>
   <li>アプリケーションのパフォーマンスの低下の特定と修正 ( <a href="https://azure.microsoft.com/en-in/blog/query-store-a-flight-data-recorder-for-your-database/" target="_blank">このブログ記事</a>の詳細)</li>
   <li><a href="https://msdn.microsoft.com/en-us/library/dn818158.aspx" target="_blank">さまざまな従量課金メトリック</a>(経過時間、CPU 時間、使用メモリ、読み取りと書き込みの操作、ログ i/o など) を考慮して、最もコストの高いクエリをチューニングします。</li>
   <li>Azure SQL Database で互換性レベル130のパフォーマンスの安定性を維持する (<a href="https://blogs.msdn.microsoft.com/sqlserverstorageengine/2016/05/06/improved-query-performance-with-compatibility-level-130-in-azure-sql-database/" target="_blank">このブログ記事</a>の詳細)</li>
   <li>アプリケーションまたは構成の変更による影響の評価 (<a href="https://msdn.microsoft.com/en-us/library/mt614796.aspx#Anchor_2" target="_blank">A/B テスト</a>)</li>
   <li>アドホックワークロードの識別と向上 (詳細 <a href="https://msdn.microsoft.com/en-us/library/mt614796.aspx#Anchor_4" target="_blank">はこちら</a>)</li>
  </ul>


  <p>クエリストアには、 <a href="https://docs.microsoft.com/en-us/azure/sql-database/sql-database-advisor" target="_blank">SQL Database Advisor</a>などのパフォーマンス監視およびチューニング機能の基盤も用意されています。 クエリストアによって<a href="https://docs.microsoft.com/en-us/azure/sql-database/sql-database-performance" target="_blank">SQL Database パフォーマンスインサイトが向上</a>します。これにより、Azure portal から直接データベースのパフォーマンスを監視およびトラブルシューティングすることができます。 クエリストア有効にすると、最も重要なクエリに関する関連情報が、SQL Database パフォーマンスインサイトのクエリグラフを初めて開いたときに使用できるようになります。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/f810f89c-2b0b-418d-b5cc-e6f94fd1cde3.png"><img alt="Query Perfrormance Insights" border="0" height="610" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/f19f52b9-15b1-4ba4-983a-c43ef3d13fd3.png" style="border: 0px currentColor; border-image: none; padding-top: 0px; padding-right: 0px; padding-left: 0px; display: inline; background-image: none;" title="クエリ perfrormance インサイト" width="596"></a></p>


  <p>クエリストアは常にオンにしておくことを強くお勧めします。 最適な既定の構成と自動保持ポリシーにより、クエリストアは、ごくわずかなパフォーマンスオーバーヘッドで (通常は1-2% の範囲内)、データベース領域のごくわずかな部分を使用して継続的に動作します。</p>


  <p>既定の構成は、Azure SQL Database によって自動的に適用されます。 カスタマイズしたクエリストア構成に切り替える場合は、 <a href="https://msdn.microsoft.com/en-us/library/bb522682.aspx" target="_blank">クエリストアオプションで ALTER database</a>を使用します。 また、最適なパラメーター値を選択する方法につい <a href="https://msdn.microsoft.com/library/mt604821.aspx" target="_blank">ては、クエリストアを使用したベストプラクティスに関する</a> ページをご覧ください。</p>


  <h2>次の手順</h2>


  <p>詳細については、オンラインドキュメントを参照してください。</p>


  <ul>
   <li><a href="https://azure.microsoft.com/en-in/blog/query-store-a-flight-data-recorder-for-your-database/">クエリストア: データベースのフライトデータレコーダー</a></li>
   <li><a href="https://msdn.microsoft.com/en-us/library/mt614796.aspx">クエリ ストアの使用シナリオ</a></li>
   <li><a href="https://msdn.microsoft.com/library/dn817826.aspx">クエリ ストアを使用したパフォーマンスの監視</a></li>
  </ul>
