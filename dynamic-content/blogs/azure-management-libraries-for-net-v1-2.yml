### YamlMime:Yaml
ms.openlocfilehash: 047a8612fe060dbc6dfe4641c2b0d5ff968fa482
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139909134"
Slug: azure-management-libraries-for-net-v1-2
Title: .NET 用 Azure 管理ライブラリ - v1.2
Summary: .NET 用 Azure 管理ライブラリの 1.2 をリリースしました。 このリリースでは、追加のセキュリティ機能とデプロイ機能、さらに多くの Azure サービスのサポートが追加されました。
Content: "<p>.NET 用 Azure 管理ライブラリの 1.2 をリリースしました。 このリリースでは、追加のセキュリティ機能とデプロイ機能、さらに多くの Azure サービスのサポートが追加されました。</p>\n\n<ul>\n <li>マネージド サービス ID</li>\n <li>アプリでユーザー Azure Active Directory作成し、サービス プリンシパルを更新し、アクセス許可をアプリに割り当てる</li>\n <li>Storage サービスの暗号化</li>\n <li>MS Deploy を使用して Web アプリと関数をデプロイする</li>\n <li>Network Watcher サービス</li>\n <li>検索サービス</li>\n</ul>\n\n<h4><a href=\"https://github.com/azure/azure-sdk-for-net/tree/Fluent\" title=\"https://github.com/azure/azure-sdk-for-net/tree/Fluent\">https://github.com/azure/azure-sdk-for-net/tree/Fluent</a></h4>\n\n<h2>作業の開始</h2>\n\n<p>1.2 ライブラリは、次の場所からダウンロードできます。</p>\n\n<p><a href=\"https://www.nuget.org/packages/Microsoft.Azure.Management.Fluent/\"><img src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/9c3713b2-902d-441b-9341-542336576b95.png\"></a></p>\n\n<h2>マネージド サービス ID (MSI) を使用して仮想マシンを作成する</h2>\n\n<p><em>define() create() &hellip;</em> メソッド チェーンを使用して、MSI が有効になっている仮想マシンを作成できます。</p>\n\n<pre class=\"prettyprint\">\nIVirtualMachine virtualMachine = azure.VirtualMachines.Define(&quot;myLinuxVM&quot;)\n    .WithRegion(Region.USEast)\n    .WithNewResourceGroup(rgName)\n    .WithNewPrimaryNetwork(&quot;10.0.0.0/28&quot;)\n    .WithPrimaryPrivateIPAddressDynamic()\n    .WithNewPrimaryPublicIPAddress(pipName)\n    .WithPopularLinuxImage(KnownLinuxVirtualMachineImage.UbuntuServer16_04_Lts)\n    .WithRootUsername(&quot;tirekicker&quot;)\n    .WithRootPassword(password)\n    .WithSize(VirtualMachineSizeTypes.StandardDS2V2)\n    .WithOSDiskCaching(CachingTypes.ReadWrite)\n    .WithManagedServiceIdentity()\n    .WithRoleBasedAccessToCurrentResourceGroup(BuiltInRole.Contributor)\n    .Create();\n</pre>\n\n<p>MSI を<a href=\"https://github.com/Azure-Samples/aad-dotnet-manage-resources-from-vm-with-msi\">使用して仮想マシンから MSI 対応の Azure</a> リソースを管理し、<a href=\"https://github.com/Azure-Samples/compute-dotnet-manage-resources-from-vm-with-msi-in-aad-group\"></a>MSI サービス Azure Active Directory追加できます。</p>\n\n<h2>新しいユーザーを追加Azure Active Directory</h2>\n\n<p>define<em>() create() &hellip;</em> メソッド <a href=\"https://docs.microsoft.com/en-us/azure/active-directory/add-users-azure-active-directory\">チェーンをAzure Active Directory</a>を使用して、新しいユーザーを追加できます。</p>\n\n<pre class=\"prettyprint\">\nIActiveDirectoryUser user = authenticated.ActiveDirectoryUsers\n    .Define(&quot;tirekicker&quot;)\n    .WithEmailAlias(&quot;tirekicker&quot;)\n    .WithPassword(&quot;StrongPass!12&quot;)\n    .Create();\n</pre>\n\n<p>同様に、Active Directory <a href=\"https://github.com/Azure-Samples/aad-dotnet-manage-users-and-groups\">でユーザーとグループを作成および</a> 更新できます。</p>\n\n<h2>アカウントStorage Service Encryption を有効Storageする</h2>\n\n<p><em>define() create() &hellip; </em>メソッド チェーンを使用してストレージ アカウントを作成するときに、ストレージ アカウント レベルでストレージ サービスの暗号化を有効にできます。<a href=\"https://docs.microsoft.com/en-us/azure/storage/common/storage-service-encryption#encryption-scenarios\"></a></p>\n\n<pre class=\"prettyprint\">\nIStorageAccount storageAccount = azure.StorageAccounts\n    .Define(storageAccountName)\n    .WithRegion(Region.USEast)\n    .WithNewResourceGroup(rgName)\n    .WithEncryption()\n    .Create();\n</pre>\n\n<h2>MS Deploy を使用して Web アプリと関数をデプロイする</h2>\n\n<p>MS Deploy を <a href=\"https://docs.microsoft.com/en-us/azure/app-service-web/web-sites-deploy\">使用して、</a> deploy() メソッドを使用して Web アプリと <em>関数をデプロイ</em> できます。</p>\n\n<pre class=\"prettyprint\">\n// Create a Web app\nIWebApp webApp = azure.WebApps.Define(webAppName)\n    .WithExistingWindowsPlan(plan)\n    .WithExistingResourceGroup(rgName)\n    .With.NETVersion(.NETVersion.V8Newest)\n    .WithWebContainer(WebContainer.Tomcat8_0Newest)\n    .Create();\n</pre>\n\n<pre class=\"prettyprint\">\n// Deploy a Web app using MS Deploy\nwebApp.Deploy()\n    .WithPackageUri(&quot;link-to-bin-artifacts-in-storage-or-somewhere-else&quot;)\n    .WithExistingDeploymentsDeleted(true)\n    .Execute(); \n</pre>\n\n<p>そして&hellip;</p>\n\n<pre class=\"prettyprint\">\n// Create a function app \nIFunctionApp functionApp = azure.AppServices.FunctionApps\n    .Define(functionAppName)\n    .WithExistingAppServicePlan(plan)\n    .WithExistingResourceGroup(rgName)\n    .WithExistingStorageAccount(app3.StorageAccount)\n    .Create();\n</pre>\n\n<pre class=\"prettyprint\">\n// Deploy a function using MS Deploy\nfunctionApp.Deploy()\n    .WithPackageUri(&quot;link-to-bin-artifacts-in-storage-or-somewhere-else&quot;)\n    .WithExistingDeploymentsDeleted(true)\n    .Execute();\n</pre>\n\n<h2>新しいNetwork Watcher作成してパケット キャプチャを開始する</h2>\n\n<p><em>define() create() &hellip;</em> メソッド チェーンを使用してパケット キャプチャ<a href=\"https://docs.microsoft.com/en-us/azure/network-watcher/network-watcher-packet-capture-manage-portal\"></a>を作成および開始し、パケット キャプチャをダウンロードし、オープン ソース ツールを使用してネットワーク トラフィック パターンを視覚化することで、仮想マシン間のネットワーク トラフィック パターンを視覚化<a href=\"https://docs.microsoft.com/en-us/azure/network-watcher/network-watcher-using-open-source-tools\">できます。</a></p>\n\n<pre class=\"prettyprint\">\n// Create a Network Watcher\nINetworkWatcher networkWatcher = azure.NetworkWatchers.Define(nwName)\n    .WithRegion(Region.USEast)\n    .WithNewResourceGroup(rgName)\n    .Create();\n</pre>\n\n<pre class=\"prettyprint\">\n// Start a Packet Capture\nIPacketCapture packetCapture = networkWatcher.PacketCaptures\n    .Define(packetCaptureName)\n    .WithTarget(virtualMachine.Id)\n    .WithStorageAccountId(storageAccount.Id)\n    .WithTimeLimitInSeconds(1500)\n    .DefinePacketCaptureFilter()\n        .WithProtocol(PcProtocol.TCP)\n        .Attach()\n    .Create();\n</pre>\n\n<p>同様に、プログラムで <a href=\"https://github.com/Azure-Samples/network-dotnet-use-new-watcher\">次の処理を実行できます</a>。</p>\n\n<ul>\n <li>仮想マシンへのトラフィックと仮想マシン間のトラフィックが許可される場合は、確認します。</li>\n <li>仮想マシンの次ホップの種類と IP アドレスを取得します。</li>\n <li>リソース グループのネットワーク トポロジを取得します。</li>\n <li>仮想マシンに適用される有効なネットワーク セキュリティ規則を調べて、仮想マシンのセキュリティを分析します。</li>\n <li>ネットワーク セキュリティ グループのフロー ログを構成します。</li>\n</ul>\n\n<h2>マネージド クラウド検索サービスを作成する</h2>\n\n<p><em>define() create() メソッド チェーンを使用して、レプリカとパーティションを含むマネージド クラウド&hellip;</em>検索<a href=\"https://docs.microsoft.com/en-us/azure/search/\">サービス (Azure</a> Search) を作成できます。</p>\n\n<pre class=\"prettyprint\">\nISearchService searchService = azure.SearchServices.Define(searchServiceName)\n    .WithRegion(Region.USEast)\n    .WithNewResourceGroup(rgName)\n    .WithStandardSku()\n    .WithPartitionCount(1)\n    .WithReplicaCount(1)\n    .Create();\n</pre>\n\n<p>同様に、プログラムで <a href=\"https://github.com/Azure-Samples/search-dotnet-manage-search-service\">次の処理を実行できます</a>。&nbsp;</p>\n\n<ul>\n <li>クエリ キーを管理します。</li>\n <li>レプリカとパーティションを使用して検索サービスを更新します。</li>\n <li>プライマリとセカンダリの管理者キーを再生成します。</li>\n</ul>\n\n<h2>[試用版]</h2>\n\n<p>他のサンプルは、お使いの <a href=\"https://github.com/azure/azure-sdk-for-net/tree/Fluent#sample-code\">GitHubできます</a>。 試して、ご意見をお寄せください (以下 <a href=\"mailto:mailto:az-libs-for-net@microsoft.com\">の電子 </a>メールまたはコメントを介して)。<br>\n&nbsp;<br>\nAzure 上の .NET に関する多くの追加情報については、 を参照してください <a href=\"https://docs.microsoft.com/en-us/dotnet/azure/\">https://docs.microsoft.com/en-us/dotnet/azure/</a>。</p>"
