### YamlMime:Yaml
ms.openlocfilehash: aef4766f8f244bb3af7cd0f7d3050827e382c039
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139896714"
Slug: load-confidently-with-sql-data-warehouse-polybase-rejected-row-location
Title: PolyBase 拒否行のSQL Data Warehouseを使用して自信を持って読み込む
Summary: データのすべての行は、検出を待機している分析情報です。 これは、データ ウェアハウスに読み込まれるすべての行を取得できる重要な理由です。 データがクリーンな場合は、PolyBase を使用して Azure SQL Data Warehouseを簡単に読み込む必要があります。
Content: >-
  <p>データのすべての行は、検出を待機している分析情報です。 これは、データ ウェアハウスに読み込まれるすべての行を取得できる重要な理由です。 データがクリーンな場合は、PolyBase を使用して Azure SQL Data Warehouseを簡単に読み込む必要があります。 これは、弾力性があり、グローバルに使用可能であり、非常に並列処理 (MPP) を活用します。 実際には、クリーン データは、常に使用できるとは限りしない、快適なデータです。 このような場合は、読み込みに失敗した行と理由を知る必要があります。</p>


  <p>Azure SQL Data Warehouse、外部テーブルの作成定義が拡張され、新しいパラメーター Rejected_Row_Locationされています。 この値は、エラー ファイルと拒否された行が書き込まれる外部データ ソース内の場所を表します。</p>


  <pre>

  CREATE EXTERNAL TABLE [dbo].[Reject_Example]

  (

  [Col_one] TINYINT NULL,

  [Col_two] VARCHAR(100) NULL,

  [Col_three] NUMERIC(2,2) NULL

  )

  WITH

  (

  DATA_SOURCE = EDS_Reject_Row

  ,LOCATION = &#39;/Read_Directory&#39;

  ,FILE_FORMAT = CSV

  ,REJECT_TYPE = VALUE

  ,REJECT_VALUE = 100

  ,REJECTED_ROW_LOCATION=&lsquo;/Reject_Directory&#39;

  )</pre>


  <h2>データが読み込まれるとどうなるか</h2>


  <p>上の&rsquo;表でユーザーが選択としてテーブルの作成 (CTAS) を実行すると、PolyBase によって、外部データ ソースにディレクトリが存在しない場合は Rejected_Row_Location にディレクトリが作成されます。 子ディレクトリは、拒否された行という名前で &ldquo;_作成されます&rdquo;。この &ldquo;_&rdquo; 文字は、location パラメーターで明示的に指定されていない限り、他のデータ処理のためにディレクトリがエスケープされます。 このディレクトリ内には、読み込み送信時刻に基づいて作成されたフォルダーが、次の形式YearMonthDay-HourMinuteSecondがあります (例: 20180330-173205) のロード サブミッション時間に基づいて作成されたフォルダーがあります。 このフォルダーで、2 種類のファイル、理由ファイルとデータ ファイルが書き込まれます。</p>


  <p>理由ファイルとデータ ファイルのいずれにも、CTAS ステートメントと関連付けられている queryID が含まれます。 データも理由も別個のファイルに含まれるため、該当するファイルにはそれに一致する接尾辞が付きます。</p>


  <h2>次の手順</h2>


  <p>この新しい機能を DW Customers のすべてのユーザーにSQLしています。 構文については、外部テーブルの作成 <a href="https://docs.microsoft.com/en-us/sql/t-sql/statements/create-external-table-transact-sql" target="_blank">(transact-SQL) のドキュメントを参照してください</a>。 新しい拒否オプションの構文<a href="https://docs.microsoft.com/en-us/sql/ssms/download-sql-server-management-studio-ssms?view=sql-server-2017" target="_blank">SQL Server Management Studio (SSMS)&nbsp;</a> の最新バージョンをダウンロードします。</p>
