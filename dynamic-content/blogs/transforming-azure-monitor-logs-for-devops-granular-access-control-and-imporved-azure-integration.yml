### YamlMime:Yaml
ms.openlocfilehash: 405ec227418aac798a4bf0e57580e2b826c87533
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139896399"
Slug: transforming-azure-monitor-logs-for-devops-granular-access-control-and-imporved-azure-integration
Title: 詳細なAzure Monitorアクセス制御DevOps強化された Azure 統合のログの変換
Summary: ログは、最新のデジタル世界の多くのシナリオで重要です。 これらは、監視、監視、トラブルシューティング、使用状況とサービス レベルの分析、監査、セキュリティなど、多くのメトリックと組み合って使用されます。 アプリケーションまたは IT 環境を構築する計画には、ログの計画を含める必要があります。
Content: >-
  <p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px;">ログは、最新のデジタル世界の多くのシナリオで重要です。 これらは、監視、監視、トラブルシューティング、使用状況とサービス レベルの分析、監査、セキュリティなど、多くのメトリックと組み合って使用されます。 アプリケーションまたは IT 環境を構築する計画には、ログの計画を含める必要があります。</p>


  <h2>ログのアーキテクチャ</h2>


  <p style="margin: 0px 0px 10.66px;">ログには主に次の 2 つのパラダイムがあります。</p>


  <ul>
   <li>
   <div style="margin: 0px 0px 10.66px;"><b>一元</b>化: すべてのログは中央リポジトリに保持されます。 このシナリオでは、リソース間で検索してログを相互に関連付けるのは簡単ですが、これらのリポジトリは大きくなって、すべての種類のソースからのログを含むので、アクセス制御を維持するのは&#39;難しです。 このため、一元化されたログ記録を完全に回避する組織や、一元化されたログ記録を使用する他の組織では、アクセスが非常に少数の管理者に制限され、ほとんどのユーザーがログから価値を得るのを妨げる組織があります。</div>
   </li>
   <li>
   <div style="margin: 0px 0px 10.66px;"><b>サイロ化</b>: ログは、リソース内に格納するか、中央に格納されますが、リソースごとに分離されます。 このような場合、リポジトリはセキュリティで保護され、アクセス制御はリソース アクセスと一貫性がありますが、ログを相互に関連付けるのは困難または不可能&#39;困難または不可能です。 多くのリソースの広範なビューを必要とするユーザーは、分析情報を生成できません。 最新のアプリケーションでは、問題と分析情報がリソース全体にまたがり、サイロ化されたパラダイムの価値が非常に制限されています。</div>
   </li>
  </ul>


  <ul>

  </ul>


  <p style="margin: 0px 0px 10.66px;">セキュリティとログの相関関係の競合するニーズに対応するために、多くの組織は両方のパラダイムを並列で実装しています。その結果、ログカバレッジのギャップが生じる複雑でコストが高く、保守が難しい環境が生まれます。 これにより、組織内のログ データの使用量が少なくなります。その結果、データに基づいていない意思決定が行います。</p>


  <h2 style="margin: 16px 0px 0px;">ログの新しいアクセスAzure Monitorオプション</h2>


  <p style="margin: 16px 0px 0px;"><a href="https://azure.microsoft.com/en-us/blog/what-s-new-in-azure-monitor/" target="_blank">最近、お客様が両方</a> のパラダイムの利点を活用できる新しい Azure Monitor ログ機能のセットを発表しました。 お客様は、ログを一元化しながら、Azure とそのロール ベースのアクセス制御 (RBAC) メカニズムにシームレスに統合できます。 このリソース中心のログ記録と呼ばれる。 既存のエクスペリエンスと API を維持しながら、Azure Monitorログ エクスペリエンスに自動的に追加されます。 新しいログ モデルの配信は体験ですが、この新しいエクスペリエンスの使用を今すぐ開始できます。 今後数か月間、すべてのコンポーネントのAzure Monitor&#39;を強化し、完全に調整する予定です。</p>


  <p style="margin: 16px 0px 0px;">リソース中心のログの背後にある基本的な考え方は、Azure リソースによって出力されたログ レコードは、このリソースに自動的に関連付けられるという考え方です。 ログは、リソースに基づくスコープと RBAC を尊重する中央ワークスペース コンテナーに送信されます。 ユーザーには、データ <a href="https://docs.microsoft.com/en-us/azure/azure-monitor/platform/manage-access#access-modes" target="_blank">にアクセスするための 2 つのオプションがあります</a>。</p>


  <ol>
   <li>
   <div style="margin: 16px 0px 0px;"><b style="text-indent: -18pt; font-family: inherit; font-style: inherit;">ワークスペース中心:</b> 特定のワークスペース内のすべてのデータに対してクエリを実行Azure Monitor&ndash; Logs コンテナー。 ワークスペースのアクセス許可が適用されます。 このモードは、リソースのアクセス許可に関係なくログにアクセスする必要がある一元化されたチームによって使用されます。 また、リソース中心のリソース&#39;Azure リソースをサポートしないコンポーネントでも使用できます。しかし、その新しいオプションは間もなく利用可能になります。</div>
   </li>
   <li>
   <div style="margin: 16px 0px 0px;">&nbsp;<b style="text-indent: -18pt; font-family: inherit; font-style: inherit;">リソース中心:</b> リソースに関連するログに対してクエリを実行します。 リソース アクセス許可が適用されます。 ログは、そのリソースのデータを含むすべてのワークスペースから提供されます。指定する必要はありません。 ワークスペースのアクセス制御で許可されている場合は、ユーザーにワークスペースへのアクセスを許可する必要はありません。 このモードは、特定のリソース、特定のリソース グループ内のすべてのリソース、または特定のサブスクリプション内のすべてのリソースに対して機能します。 ほとんどのアプリケーション チームとDevOps、このモードを使用してログを使用します。</div>
   </li>
  </ol>


  <ol>

  </ol>


  <p style="margin: 0px 0px 10.66px;">Azure Monitorは、ユーザーが選択したスコープに応じて、適切なモードを自動的に決定します。 ユーザーがワークスペースを選択すると、クエリはワークスペース中心モードで送信されます。 ユーザーがリソース、リソース グループ、またはサブスクリプションを選択した場合は、リソース中心が使用されます。 スコープは常に Log Analytics 画面の左上のセクションに表示されます。</p>


  <p style="margin: 0px 0px 10.66px 40px;"><img alt="Logs scope selector" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/LogsRBAC1.png" style="border: 1px solid gray; border-image: none; width: 100%; height: 100%;"></p>


  <p style="margin: 0px 0px 10.66px;">リソース グループ画面を使用して、特定のリソース グループ内のすべてのリソース ログに対してクエリを実行することもできます。</p>


  <p style="margin: 0px 0px 10.66px 40px;"><img alt="" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/LogsRBAC2.png" style="border: 1px solid gray; border-image: none; width: 75%; height: 75%; margin-right: auto; margin-left: auto; float: none; display: block;"></p>


  <p style="margin: 0px 0px 10.66px;">まもなく、Azure Monitorサブスクリプション全体のクエリのスコープを設定できます。</p>


  <p style="margin: 0px 0px 10.66px;">ログをより一般的で使いやすくするために、ログは多くの Azure リソース エクスペリエンスに統合されました。 リソース メニューからログ検索を開いた場合、検索のスコープは自動的にそのリソースに設定され、リソース中心のクエリが使用されます。 つまり、ユーザーがリソースにアクセスできる場合、ユーザー&#39;ログにアクセスできます。 ワークスペースの所有者 <a href="https://docs.microsoft.com/en-us/azure/azure-monitor/platform/manage-access#access-modes" target="_blank">は、ワークスペースのアクセス制御モードを使用</a> して、このようなアクセスをブロックまたは有効にできます。</p>


  <p style="margin: 0px 0px 10.66px;">もう 1 つの&#39;追加する機能は、ログを格納するテーブル <a href="https://docs.microsoft.com/en-us/azure/azure-monitor/platform/manage-access#table-level-rbac" target="_blank">ごとにアクセス許可</a> を設定する機能です。 既定では、ユーザーにワークスペースまたはリソースへのアクセスが許可されている場合は、すべてのログの種類を読み取ります。 新しいテーブル RBAC を使用すると、管理者は Azure カスタム ロールを使用してユーザーの制限付きアクセスを定義できます。そのため、&#39;は一部のテーブルにのみアクセスできます。または、管理者はユーザーが特定のテーブルにアクセスできないのをブロックできます。 たとえば、ネットワーク チームがワークスペースまたはサブスクリプション内のネットワーク関連テーブルにのみアクセスできる場合は、これを使用できます。</p>


  <p style="margin: 0px 0px 10.66px;">これらの変更の結果、組織はワークスペースが少なく、アクセス制御の安全性が高い、よりシンプルなモデルを持つ予定です。 ワークスペースは管理可能なコンテナーの役割を担い、管理者は環境をより良く管理できます。 ユーザーは、自然な Azure コンテキストでログを表示する権限を与え、毎日の作業でログの機能を活用できます。</p>


  <p style="margin: 0px 0px 10.66px;">ログアクセス制御Azure Monitor強化され、使いやすさとセキュリティを損なわずに、両方の世界を一度に利用できます。 中央のチームは、すべてのログにフル アクセスできます。一方、DevOpsチームはリソースのログにのみアクセスできます。 これは、数万人の顧客によって使用される強力なログ分析、統合、スケーラビリティ機能の上に追加されます。</p>


  <h2 style="margin: 16px 0px 0px;">次の手順</h2>


  <p>現在使用するには、次の必要があります。</p>


  <ol>
   <li><a href="https://docs.microsoft.com/en-us/azure/azure-monitor/platform/manage-access#determine-the-number-of-workspaces-you-need" target="_blank">すべてのデータを格納するために使用するワークスペース</a> を決定します。 課金、規制、データの所有権を考慮します。</li>
   <li style="margin: 0px 0px 10.66px;"><a href="https://docs.microsoft.com/en-us/azure/azure-monitor/platform/manage-access#access-control-mode" target="_blank">ワークスペースのアクセス制御モードを [</a> リソースまたは &ldquo;ワークスペースのアクセス許可を使用&rdquo; してリソース中心のアクセスを有効にする] に変更します。 2019 年 3 月以降に作成されたワークスペースは、既定でこのモードに構成されます。</li>
   <li style="margin: 0px 0px 10.66px;"><a href="https://docs.microsoft.com/en-us/azure/azure-monitor/platform/manage-access#manage-accounts-and-users" target="_blank">アプリケーション チームとアプリケーション チームから</a>ワークスペースのアクセス許可を削除DevOps。</li>
   <li style="margin: 0px 0px 10.66px;">ユーザーがログ <a href="https://docs.microsoft.com/en-us/azure/azure-monitor/learn/tutorial-viewdata" target="_blank">のマスターになれ</a>。</li>
  </ol>
