### YamlMime:Yaml
ms.openlocfilehash: ba3190924703e159fa7da5246057c6be255073a1
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139895701"
Slug: windows-azures-flat-network-storage-and-2012-scalability-targets
Title: Windows Azure のフラット ネットワーク Storageおよび 2012 年のスケーラビリティ ターゲット
Summary: 今年の初めに、すべてのデータセンターに Windows Azure 用のフラット ネットワークをデプロイし、Windows Azure Storage 用のフラット ネットワーク Storage (FNS) を作成しました。 のためにフラット ネットワーク設計を使用しました。
Content: '<p>今年の初めに、すべてのデータセンターに Windows Azure 用のフラット ネットワークをデプロイし、Windows Azure Storage 用のフラット ネットワーク Storage (FNS) を作成しました。 ストレージ クライアントに非常に高帯域幅のネットワーク接続を提供するために、フラット ネットワーク設計を使用しました。 この新しいネットワーク設計と結果として得られる帯域幅の向上により、Windows <a href="https://www.windowsazure.com/en-us/home/scenarios/virtual-machines/" target="_blank">Azure Virtual Machines</a> をサポートできます。この場合<a href="https://blogs.msdn.com/b/windowsazurestorage/archive/2012/06/28/exploring-windows-azure-drives-disks-and-images.aspx" target="_blank">、VM 永続</a>ディスクは永続的なネットワーク接続 BLOB として Windows Azure Storage に格納されます。 さらに、新しいネットワーク設計により、コンピューティングとストレージの間でMapReduce帯域幅を必要とする可能性がある、MapReduce HPC などのシナリオが可能になります。</p>  <p>Windows Azure の開始から、お客様の VM ベースの計算をストレージから分離し、各 VM を個別にスケーリングし、マルチテナントを提供しやすくし、分離を容易にすることを決定しました。 この作業を対処する必要があるシナリオに対応するには、ネットワークのスケールとスループットの量子飛び込みが必要でした。 その結果、FNS が発生し、Windows Azure ネットワーク チーム (Albert Greenberg の下) と Windows Azure Storage、Fabric、OS の各チームがハードウェアとソフトウェアのネットワークの改善を行い、デプロイしました。</p>  <p>新しいストレージ ハードウェアと高帯域幅ネットワークに対する変更は、次に示す第 1 世代 (Gen 1) ハードウェアと比較して、第 2 世代ストレージ (Gen 2) の大幅な改善を構成します。</p>  <table border="1" cellspacing="0" cellpadding="0">  <tbody>  <tr>  <td valign="top" width="66">  <p>Storage SKU</p>  </td>  <td valign="top" width="120">  <p>Storage ノード ネットワーク速度</p>  </td>  <td valign="top" width="162">  <p>コンピューティングとコンピューティングの間のネットワークStorage</p>  </td>  <td valign="top" width="126">  <p>Load Balancer</p>  </td>  <td valign="top" width="145">  <p>Storageに使用されるデバイスの管理</p>  </td>  </tr>  <tr>  <td valign="top" width="66">  <p>Gen 1</p>  </td>  <td valign="top" width="120">  <p>1 Gbps</p>  </td>  <td valign="top" width="162">  <p>階層ネットワーク</p>  </td>  <td valign="top" width="126">  <p>ハードウェアLoad Balancer</p>  </td>  <td valign="top" width="145">  <p>ハード ドライブ</p>  </td>  </tr>  <tr>  <td valign="top" width="66">  <p>Gen 2</p>  </td>  <td valign="top" width="120">  <p>10 Gbps</p>  </td>  <td valign="top" width="162">  <p>フラット ネットワーク</p>  </td>  <td valign="top" width="126">  <p>ソフトウェア ロード バランサー</p>  </td>  <td valign="top" width="145">  <p>SSDs</p>  </td>  </tr>  </tbody>  </table>  <p>&nbsp;</p>  <p>Gen 2 SKU のデプロイとソフトウェアの機能強化により、フラット ネットワーク トポロジを使用してコンピューティングとストレージの間に大きな帯域幅 <a href="https://research.microsoft.com/pubs/80693/vl2-sigcomm09-final.pdf" target="_blank">が</a> 提供されます。 Azure 用のフラット ネットワークの特定Windows、&ldquo;Quantum 10 (Q10&rdquo;) ネットワーク アーキテクチャと呼ばれます。 Q10 は、完全に非ブロッキングの 10 Gbps ベースの完全メッシュ ネットワークを提供し、Azure データセンターごとに 50 Tbps を超える帯域幅を超える集約バックプレーンWindows提供します。 信頼性とスループットのもう 1 つの大きな改善点は、ハードウェア ロード バランサーからソフトウェア ロード バランサーへの移行です。 次に、ここで説明するストレージ のアーキテクチャと設計は、新しい Q10 ネットワークを完全に活用して、新しいストレージにフラット ネットワーク ストレージを提供するように調整Windows Azure Storage。</p>  <p>これらの機能強化により、Gen 2 ハードウェア SKU ですべての新しいストレージ アカウントが作成される Windows Azure Storage のスケーラビリティ ターゲットの増加をお知らせします。<strong><em> </em></strong>これらの新しいスケーラビリティ ターゲットは、<strong><span style="text-decoration: underline;">2012 年 6 月 7<sup></sup></span></strong> 日より後に作成されたストレージ アカウントに適用されます。 Storage前に作成されたアカウントには、ここに記載されている以前のスケーラビリティ ターゲット<a href="https://blogs.msdn.com/b/windowsazurestorage/archive/2010/05/10/windows-azure-storage-abstractions-and-their-scalability-targets.aspx" target="_blank">があります</a>。 残念ながら、ストレージ アカウントを移行する機能は提供されません。そのため、2012 年 6 <sup>月 7 日</sup>より後に作成されたストレージ アカウントにのみ、これらの新しいスケーラビリティ ターゲットがあります。</p>  <p>ストレージ アカウントの作成日を確認するには、次に示すように、新しいポータルに移動し、ストレージ アカウントをクリックして、右側の [概要] セクションで作成日を確認します。</p>  <p><a href="" target="_blank"><img style="display: inline; background-image: none;" title="accountcreationdate" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/2211.accountcreationdate_5F00_thumb_5F00_4696B3CC.jpg" alt="accountcreationdate" width="728" height="625" border="0"></a></p>  <h4>Storage アカウントのスケーラビリティ ターゲット</h4>  <p>2012 年の終わりまでに、フラット ネットワーク設計のソフトウェアの機能強化の展開が完了します。 これにより、6 月 7 日<strong></strong>より後に作成された 1 <strong>つの</strong>ストレージ アカウントに対して、次のスケーラビリティ ターゲットが提供<sup>されます</sup> 2012.</p>  <ul>  <li><strong>容量</strong> &ndash; 最大 200 TB</li>  <li><strong>トランザクション</strong> &ndash; 1 秒あたり最大 20,000 エンティティ/メッセージ/BLOB</li>  <li><strong>Geo 冗長ストレージ </strong><strong>アカウント</strong><strong> の帯域幅</strong>  <ul>  <li>イングレス - 1 秒あたり最大 5 ギガビット</li>  <li>Egress - 最大 10 ギガビット/秒</li>  </ul>  </li>  <li><strong>ローカル冗長ストレージ </strong><strong>アカウント</strong><strong> の帯域幅</strong>  <ul>  <li>イングレス - 1 秒あたり最大 10 ギガビット</li>  <li>Egress - 最大 15 ギガビット/秒</li>  </ul>  </li>  </ul>  <p>Storageアカウントは geo レプリケーションを既定でオンにし、Geo 冗長サービスと呼ばれるStorage。 お客様は、geo レプリケーションをオフにし、ローカル冗長 Storage と呼ばれるものを使用できます。その結果、geo 冗長 Storage に対して割引価格が適用され、前述のように上位のイングレスおよびエグレス ターゲット (2012 年の終わりまでに) が得られます。 geo 冗長ネットワークとローカル冗長Storageの詳細についてはStorageを参照してください。</p>  <p>ストレージ アカウントによって実現される実際のトランザクションと帯域幅のターゲットは、オブジェクトのサイズ、アクセス パターン、アプリケーションが示すワークロードの種類によって大きく異なります。 これらのターゲットを超えて進むには、複数のストレージ アカウントを使用し、BLOB コンテナー、テーブル、キュー、オブジェクトをそれらのストレージ アカウント間でパーティション分割するサービスを構築する必要があります。 既定では、Azure サブスクリプションの 1 Windowsは&nbsp; 20 のストレージ アカウントを取得します。 ただし、より多くの <a href="https://support.microsoft.com/oas/default.aspx?prid=13185&amp;st=1" target="_blank">データ</a> (ペタバイトなど) を格納する必要がある場合は、カスタマー サポートに問い合わせ、より多くのストレージ アカウントを取得できます。</p>  <h4>パーティションスケーラビリティ ターゲット</h4>  <p>ストレージ アカウント内では、ここで説明するように、すべてのオブジェクトがパーティションにグループ化 <a href="https://blogs.msdn.com/b/windowsazurestorage/archive/2010/05/10/windows-azure-storage-abstractions-and-their-scalability-targets.aspx" target="_blank">されます</a>。 したがって、ストレージ抽象化の単一パーティション<strong></strong>のパフォーマンス目標を理解することが重要です (以下のキューとテーブルのスループットは、オブジェクト サイズ 1 KB を使用して達成されました)。</p>  <ul>  <li><strong>単一キュー</strong>&ndash; キュー内のすべてのメッセージには、1 つのキュー パーティションを介してアクセスします。 1 つのキューは、次の処理を可能にしています。  <ul>  <li>毎秒最大 2,000 メッセージ</li>  </ul>  </li>  <li><strong>単一テーブル パーティション</strong>&ndash; テーブル パーティションは、同じパーティション キー値を持つテーブル内のすべてのエンティティであり、通常、テーブルには多数のパーティションがあります。 1 つのテーブル パーティションのスループットターゲットは次です。  <ul>  <li>毎秒最大 2,000 エンティティ</li>  <li>これは 1 つのパーティション用であり、1 つのテーブルでは使用されない点に注意してください。 したがって、パーティション分割が良好なテーブルは、前述のアカウント全体のターゲットである 20,000 エンティティ/秒まで処理できます。</li>  </ul>  </li>  <li><strong>単一 BLOB</strong>&ndash; BLOB のパーティション キー &ldquo;はコンテナー名 +&rdquo; BLOB 名であるため、BLOB をパーティションごとに 1 つの BLOB にパーティション分割して、サーバー全体に BLOB アクセスを分散することができます。 1 つの BLOB のターゲット スループットは次の場合です。  <ul>  <li>最大 60 MB/秒</li>  </ul>  </li>  </ul>  <p>上記のスループットは、高いエンド ターゲットです。 アプリケーションで実現できる内容は、アクセスされるオブジェクトのサイズ、操作の種類 (ワークロード)、およびアクセス パターンによって大きく異なります。 すべてのサービスで、ワークロードのパーティション レベルでパフォーマンスをテストしてください。</p>  <p>アプリケーションがワークロード&ldquo;で処理できるパーティションの上限に達すると、503 Server Busy または 500 Operation Timeout&rdquo; &ldquo;&rdquo; 応答が返されます。 この場合、アプリケーションは再試行に指数バックオフを使用する必要があります。 指数関数的バックオフによって、そのパーティションへの負荷が減少し、そのパーティションへのトラフィック量の増加が緩和されます。</p>  <p>要約すると、フラット ネットワーク ストレージを提供するための最初のステップをお知らせします。 コンピューティングとストレージの間の帯域幅の向上と、ストレージ アカウントとパーティションのスケーラビリティ ターゲットの時間の増加に引き続き投資する予定です。</p>  <p>Brad Calder と Aaron Ogus<br>Windows Azure ストレージ</p>'
