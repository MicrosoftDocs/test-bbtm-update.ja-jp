### YamlMime:Yaml
ms.openlocfilehash: 01f2674f16a9927b4867daff756a25496eda05ea
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139909775"
Slug: introducing-change-feed-support-in-azure-documentdb
Title: Azure DocumentDB での Change Feed サポートの概要
Summary: Azure DocumentDB で Change Feed サポートを利用できることをお知らせいたします。 ChangeFeed サポートを使用すると、DocumentDB では、DocumentDB コレクション内のドキュメントのリストが並べ替えられます。
Content: >-
  <p><strong>2017年5月10日のうち、</strong></p>


  <p><strong>Azure Cosmos DB は、Microsoft &rsquo; がグローバルに分散したマルチモデルデータベースです。Azure Cosmos DB は、グローバルな分散と水平方向のスケールを中心として一から構築されました。任意の数の Azure リージョンでのターンキーグローバル分散を提供します。ユーザーがどこにいても、透過的にデータのスケーリングとレプリケーションを行うことができます。スループットとストレージを世界規模で弾力的にスケーリングし、必要なスループットとストレージに対してのみ料金を支払うことができます。Azure Cosmos DB では、世界中のどこでも99パーセンタイルで1桁のミリ秒の待機時間を保証し、複数の明確に定義された整合性モデルを使用してパフォーマンスを微調整し、業界トップレベルのサービスレベルアグリーメント (sla) によってサポートされるマルチホーム機能 &mdash; によって高可用性を保証します。&nbsp;</strong></p>


  <p><strong>Azure Cosmos DB は完全にスキーマに依存しません。スキーマとインデックスの管理に対処する必要がなく、すべてのデータのインデックスが自動的に作成されます。また、マルチモデルで、ドキュメント、キー値、グラフ、列ファミリの各データモデルも、ネイティブにサポートされて &rsquo; います。Azure Cosmos DB では、DocumentDB SQL (ドキュメント)、MongoDB (ドキュメント)、Azure Table Storage (キー値)、およびグリーン mlin (グラフ) がすべてネイティブにサポートされているため、お好きな api を使用してデータにアクセスできます。</strong></p>


  <hr>

  <p>&rsquo;Azure DocumentDB で<a href="https://docs.microsoft.com/azure/documentdb/documentdb-change-feed" target="_blank">Change Feed</a>サポートを利用できることをお知らせいたします。 Change Feed サポートにより、DocumentDB コレクション内のドキュメントの一覧が更新日時順に並べ替えられて表示されます。 このフィードを利用すれば、コレクション内のデータに対する変更をリッスンし、以下のようなアクションを実行できます。</p>


  <ul>
   <li>ドキュメントが挿入または変更された場合に API の呼び出しをトリガーする</li>
   <li>更新内容に対してリアルタイムの (ストリーム) 処理を実行する</li>
   <li>キャッシュ、検索エンジン、データ ウェアハウスとデータを同期する</li>
  </ul>


  <p>DocumentDB&#39;s Change Feed は、すべてのアカウントで既定で有効になっており、アカウントの追加コストは発生しません。 なお、DocumentDB の他の操作と同様に、書き込みを実行するリージョンや Change Feed からの読み取りを実行するリージョンでは、プロビジョニングしたスループットを利用できます。</p>


  <p>このブログでは、新しい Change Feed サポートについて説明し、Azure DocumentDB を使用して応答性、拡張性、信頼性に優れたアプリケーションを構築する方法について説明します。</p>


  <h2><b>Azure DocumentDB の Change Feed サポート</b></h2>


  <p><a href="https://docs.microsoft.com/en-us/azure/documentdb/documentdb-introduction">Azure DocumentDB</a> は、大量のトランザクション データや運用データの保存に利用される高速かつ柔軟な NoSQL データベース サービスで、読み取り/書き込み処理を 10 ミリ秒未満の予測可能な待機時間で実行します。 このため、IoT、ゲーム、小売、操作ログといったアプリケーションに最適です。 多くの場合、これらのアプリケーションは、DocumentDB データへの変更を追跡し、具体化されたビューの更新、リアルタイム分析の実行、またはこれらの変更に基づいた通知のトリガーなどのさまざまなアクションを実行する必要があります。 <b>Change Feed のサポート</b> により、これらのパターンに適した効率的でスケーラブルなソリューションを構築できます。</p>


  <p>多くの最新のアプリケーションアーキテクチャ (特に IoT とリテール) では、リアルタイムでストリーミングデータを処理して分析計算を作成します。 これらのアプリケーションアーキテクチャ ( &ldquo; ラムダパイプライン &rdquo; ) は、従来、書き込みに最適化されたストレージソリューションを使用して迅速なインジェストを実現し、リアルタイムクエリ用に個別の読み取り最適化データベースを使用していました。 Change Feed をサポートすることで、DocumentDB を <u>インジェストとクエリの両方</u>で単一のシステムとして使用できるため、よりシンプルでコスト効果の高いラムダパイプラインを構築できます。 詳細については、DocumentDB の <a href="https://azure.microsoft.com/updates/documentdb-total-cost-of-non-ownership-paper-available/" target="_blank">TCO</a>に関する記事をご覧ください。</p>


  <p>&nbsp;</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/e12f97ae-a8b6-4798-8152-8b1ce8b68333.png"><img alt="clip_image002" border="0" height="341" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/012de8c9-862b-4c08-b990-16b3d65c10eb.png" style="border-width: 0px; padding-top: 0px; padding-right: 0px; padding-left: 0px; display: inline; background-image: none;" title="clip_image002" width="712"></a></p>


  <p><b>ストリーム処理: </b> ストリームベースの処理では、データセット全体に対してクエリを実行する代わりに、 &ldquo; &rdquo; 変更内容を特定することができます。 たとえば、DocumentDB 上に構築されたゲームでは、Change Feed を使用して、完了したゲームのスコアに基づいてリアルタイムのスコアボードを実装できます。 DocumentDB を使用すると、デバイス、センサー、インフラストラクチャ、アプリケーションからイベントデータを受信して格納し、Change Feed サポートを使用して Azure Stream Analytics、Apache Storm、または Apache Spark を使用してリアルタイムでこれらのイベントを処理できます。</p>


  <p><b>トリガー/イベントコンピューティング: </b>ドキュメントが挿入または変更されたときに API を呼び出すなど、追加のアクションを実行できるようになりました。 たとえば、web アプリとモバイルアプリでは、顧客&#39;s プロファイル、基本設定、または場所の変更などのイベントを追跡して、Azure Functions または App Services を使用してデバイスにプッシュ通知を送信するなどの特定のアクションをトリガーできます。</p>


  <p><b>データ同期: </b>DocumentDB に格納されているデータをキャッシュ、検索インデックス、または data lake と同期させておく必要がある場合、Change Feed はデータパイプラインを構築するための堅牢な API を提供します。 Change feed を使用すると、データベースで発生した更新をレプリケートし、ワーカーが失敗したときに同期を回復して再開し、複数のワーカーに処理を分散してスケーラビリティを確保できます。</p>


  <p>&nbsp;</p>


  <h2><b>Change Feed API の操作</b></h2>


  <p>Change Feed は REST API 2016-07-11 および SDK バージョン <a href="https://www.nuget.org/packages/Microsoft.Azure.DocumentDB/1.11.0">1.11.0</a> 以降で使用できます。 コードの使用を開始する方法については、「 <a href="https://docs.microsoft.com/azure/documentdb/documentdb-change-feed#working-with-the-rest-api-and-sdk">Change FEED API</a> 」を参照してください。</p>


  <p>&nbsp;</p>


  <p>&nbsp;<a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/1db2ce5b-b106-48eb-aa4d-da6079b87d9d.png"><img alt="clip_image004" border="0" height="403" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/b0ef1a04-7289-4af0-a79e-5cef7568906f.png" style="border-width: 0px; padding-top: 0px; padding-right: 0px; padding-left: 0px; display: inline; background-image: none;" title="clip_image004" width="582"></a></p>


  <p>Change feed には、次のプロパティがあります。</p>


  <ul>
   <li>変更内容は DocumentDB 内で保持され、非同期で処理できます。</li>
   <li>コレクション内のドキュメントへの変更は、Change Feed ですぐに利用できます。</li>
   <li>各ドキュメントに対する変更は Change Feed に 1 回だけ反映されます。 変更ログには、特定のドキュメントの最新の変更のみが含まれます。 途中の変更は利用できない場合があります。</li>
   <li>Change Feed はパーティション キー値ごとに変更日時順に並べ替えられます。 パーティション キー値が異なる場合、順序は保証されません。</li>
   <li>変更の同期は任意の時点から行うことが可能です。つまり、変更内容を利用できるデータ保持期間は固定されていません。</li>
   <li>変更内容は、パーティション キーの範囲として利用できます。 この機能により、大規模コレクションの変更を複数のコンシューマーやサーバーで並行処理できるようになります。</li>
   <li>アプリケーションは、同じコレクションに対して複数の Change Feed を同時に要求できます。</li>
  </ul>


  <h2><b>次の手順</b></h2>


  <p>このブログ記事では、Azure DocumentDB での新しい Change Feed サポートについて説明しました。</p>


  <ul>
   <li><a href="https://docs.microsoft.com/azure/documentdb/documentdb-change-feed">Azure DocumentDB の Change Feed サポート</a>についての詳細情報</li>
   <li>Change Feed サポートを使用して <a href="https://www.nuget.org/packages/Microsoft.Azure.DocumentDB/1.11.0">.NET SDK 1.11.0</a> にアップグレードする</li>
   <li><a href="https://portal.azure.com/#create/Microsoft.DocumentDB">Azure Portal から新しい documentdb アカウント</a>を作成するか、 <a href="https://aka.ms/documentdb-emulator-docs">documentdb Emulator</a>をダウンロードします</li>
   <li>最新の DocumentDB のニュースと機能については、Twitter <a href="https://twitter.com/DocumentDB">@DocumentDB</a> をフォローして最新情報を入手するか、<a href="https://stackoverflow.com/questions/tagged/azure-documentdb">に関する開発者フォーラム</a>にお問い合わせください Stack Overflow</li>
  </ul>
