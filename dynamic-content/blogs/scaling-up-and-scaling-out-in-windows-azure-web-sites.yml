### YamlMime:Yaml
ms.openlocfilehash: b86d12f0609d10ad3878a44d9ed81adc7012fff2
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139892697"
Slug: scaling-up-and-scaling-out-in-windows-azure-web-sites
Title: Windows Azure websites でのスケールアップとスケールアウト
Summary: 新しい web プロジェクトを開始するとき、または一般に web サイトとアプリケーションの開発を開始するときには、小規模から始めることをお勧めします。しかし、おそらくそのようなことはできません。 ...
Content: >-
  新しい web プロジェクトを開始するとき、または一般に web サイトとアプリケーションの開発を開始するときには、小規模から始めることをお勧めします。しかし、おそらくそのようなことはできません。 概念実証フェーズを開始したときに新しい web ファームにリソースを投入したくない場合もありますが、問題が発生した場合は、机の下にあるサーバーで主要なマーケティングキャンペーンを開始することもできません。Azure websites Windows のクラウドでの開発とデプロイは変わりません。


  このブログ投稿では、予算内の時間とコストを抑えながら、開発、テスト、および運用を行う方法について説明します。

  <h3>Windows Azure websites の Standard、Free、および Shared モード</h3>

  Web サイトをデプロイする際の最も重要な考慮事項の1つは、サイトに適した価格レベルを選択することです。開発とテストサイクルを終了すると、これが企業の web プレゼンスサイト、または重要な新しいデジタルマーケティングキャンペーンになります。 または基幹業務アプリ。そのため、お客様のビジネスニーズに応じて、サイトが使用可能であり、応答性が高いことを確認する必要があります。


  選択は、次のようなさまざまな要因によって異なります。

  <ul>
   <li><strong>ホストを計画している個々のサイトの数を確認できます。</strong>  たとえば、デジタルマーケティングキャンペーンには、使用している各サービスのソーシャルメディアページと、ターゲットセグメントごとに異なるランディングページが含まれている場合があります。</li>
   <li><strong>サイトはどのように人気のあると予想されますか。</strong> <strong>    トラフィックレベルを変更するタイミング   </strong>見積もりは、基幹業務アプリケーションの従業員の数、またはキャンペーンサイトの Twitter フォロワーと Facebook のいいね! の数に基づいている場合があります。また、seasonaility、ソーシャルメディアアクティビティ、広告などの需要生成アクティビティが原因で、トラフィックが異なることが予想される場合もあります。</li>
   <li>サイトが使用するリソース (CPU、メモリ、帯域幅) はどれくらいですか?</li>
  </ul>

  Azure websites Windows に関して最も良い点の1つは、web アプリと web サイトを運用環境に立ち上げた時点で、この質問に答えることができないことです。管理ポータルに用意されているスケールオプションを使用すると、ユーザーの要求やビジネス目標に応じて、サイトをすばやく拡張できます。

  <h3>Windows Azure websites のサイトモード</h3>

  Azure websites (waws) には、Standard、Free、および Shared の3つのモードが用意されています。 Windows。


  これらの各モード (Standard、Shared、および Free) には、サイトで使用できるリソースの数を制御するさまざまなクォータのセットが用意されており、さまざまなスケーリング機能を提供します。これらのクォータは、次の表にまとめられています。


  <img alt="" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/0028.Screen-Shot-2013_2D00_07_2D00_11-at-9.47.24-AM.png" border="0" />


  <img alt="" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/1581.scale-1.png" border="0" />

  <h4>標準モード &amp; サービスレベルアグリーメント (SLA)</h4>

  Standard モードは専用のインスタンスで実行されるため、Azure websites Windows の他の購入方法とは異なります。 また、CPU の使用率に制限はなく、3つのモードの格納されるストレージの最大容量も含まれます。詳細については、上の表を参照してください。


  Standard には、強調表示する重要な機能もいくつかあります。

  <ul>
   <li>データ送信帯域幅の制限なし–サイトで提供される最初の 5 GB のデータが含まれ、"従量課金制" の料金に応じて追加の帯域幅が課金されます。</li>
   <li>カスタム DNS 名– Free モードではカスタム DNS を使用できません。Standard では、CNAME レコードと A レコードが許可されます。</li>
  </ul>

  標準モードでは、1つのインスタンスのみがあるサイトでも、エンタープライズグレードの <a href="https://azure.microsoft.com/en-us/support/legal/sla/" target="_blank">SLA (サービスレベルアグリーメント)</a> が99.9% の月単位で実行されます。Windows Azure websites では、この SLA を1つのインスタンスサイトで提供することができます。これは、サイトのプロビジョニング機能を備えた設計によるものです。 プロビジョニングは、サイトの変更を必要とせずにバックグラウンドで行われ、サイトの訪問者に対して透過的に行われます。 これにより、スケール式の一部として可用性の問題が解消されます。

  <h4>共有モードとフリーモード</h4>

  単純に put、Shared、および Free モードでは、Standard のスケーリングの柔軟性は提供されず、いくつかの重要な制限があります。


  Free モードは、共有コンピューティングリソースに対して、Free モードまたは Shared モードの他のサイトとの間で実行され、そのサイト (およびサブスクリプションの他の無料サイト) がクォータ間隔ごとに使用できる CPU 時間の上限を持ちます。この制限に達すると、サイトとサブスクリプションのその他の無料サイトでは、次のクォータ間隔までコンテンツ/データの提供が停止します。また、Free モードには、サイトがクライアントに提供できるデータの量に対する上限もあります。 "データ送信" とも呼ばれます。


  共有モードでは、名前の状態と同様に、共有コンピューティングリソースも使用されます。また、上の表で説明したように、CPU 制限もあります (無料ではありません)。 共有モードでは、"従量課金制" 料金で 5 GB のデータを送信することもできます。


  そのため、上記の制限のため、Free も Shared も、運用環境に最適な選択肢とは言えません。 発行構成の設定方法、Visual Studio への接続方法、TFS や Git などのデプロイツールを使用したデプロイ方法の学習など、Azure websites Windows の試しや学習などの限られたシナリオでは無料です。共有には、制限された制御負荷下でのサイトの開発とテストに最適な追加の機能があります。より本格的な運用環境では、Standard の方がより多くの機能を提供しています。

  <h4>スケール操作、コード、およびユーザーセッション/エクスペリエンス</h4>

  スケール操作は、既存のユーザーセッションには影響しません。操作がサイトをスケールアップしたり、サイトをスケールアウトしたりするときに、ユーザーエクスペリエンスが向上するだけではありません。


  さらに、各スケール操作は短時間で (通常は数秒以内)、サイトのコードを変更したり、サイトを再デプロイしたりする必要はありません。


  次に、"スケールアップ" と "スケールアウト" の意味について説明します。

  <h3>Azure websites のスケーリング Dynamics の Windows</h3>

  Azure websites Windows は、管理ポータルを使用して web サイトを拡張する複数の方法を提供します。 これらの操作は、サービスのドキュメントで詳しく説明されているように Microsoft Visual Studio 2012 を使用してサイトを管理している場合にも使用できます。

  <h4>スケールアップ</h4>

  スケールアップ操作は、クラウド以外の web サイトをより大きな物理サーバーに移行するのと同等の Azure Websites クラウドです。そのため、スケールアップ操作は、サイトがクォータに達したときに、既存のモードやオプションが outgrowing されていることを通知する場合に役立ちます。さらに、複数インスタンスのデータの整合性の影響について心配することなく、ほぼすべてのサイトでスケールアップを行うことができます。


  Windows Azure websites でのスケールアップ操作の2つの例を次に示します。

  <ul>
   <li><strong>サイトモードの変更</strong>: 標準モードを選択した場合、web サイトには CPU 使用率に関するクォータが設定されず、データの送信は、含まれている 5 GB/月のデータ送信のコストによってのみ制限されます。</li>
   <li><strong>標準モード</strong>   のインスタンスサイズ: 標準モードでは、Windows Azure websites では、さまざまなインスタンスサイズ (小、中、大) を選択できます。 これは、コアの数とメモリの量を増やすことで、より大規模な物理サーバーに移行することに似ています。
  <ul>
   <li><strong>小</strong>: 1 コア、1.75 GB メモリ</li>
   <li><strong>中程度:</strong> 2 コア、3.5 GB メモリ</li>
   <li><strong>Large:</strong> 4 コア、7 GB メモリ \</li>
  </ul>

  </li>

  </ul>

  <div><img alt="" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/7802.scale-2.png" border="0" /></div>

  <div>

  <h4>Scale Out</h4>

  スケールアウト操作とは、web サイトの複数のコピーを作成し、それらの間に要求を分散するためのロードバランサーを追加することに相当します。 Azure websites Windows で web サイトをスケールアウトする場合は、既にプラットフォームによって提供されているため、負荷分散を個別に構成する必要はありません。


  <img alt="" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/3404.scale-3.png" border="0" />


  Azure websites Windows でサイトをスケールアウトするには、[インスタンス数] スライダーを使用して、共有モードの場合は 1 ~ 6、予約モードの場合は1と10のインスタンス数を変更します。 これにより、web サイトの複数の実行中のコピーが生成され、すべてのインスタンスで受信要求を分散するために必要な負荷分散構成が処理されます。


  スケールアウト操作の利点を活用するには、サイトが複数インスタンスの安全である必要があります。 複数インスタンスの安全なサイトの作成は、この投稿の範囲を超えていますが、次のような .NET 言語の MSDN リソースを参照してください。 <a href="https://msdn.microsoft.com/en-us/library/3e8s7xdd.aspx" target="_blank">https://msdn.microsoft.com/en-us/library/3e8s7xdd.aspx</a>


  スケールアップおよびスケールアウト操作を web サイトと組み合わせて、ハイブリッドスケーリングを実現できます。 複数インスタンスサイトに関する同じ競合がこのシナリオに適用されます。

  <h4>Windows Azure PowerShell での自動スケールとスケーリング</h4>

  このブログ投稿では、Windows Azure websites でのスケールアップとスケールアウトに関連する概念について説明しました。これらのタスクは、管理ポータルを通じて手動で行うことに重点を置いています。また、同様の手動設定も Visual Studio で利用できます。


  また、Azure websites Windows に自動スケールを追加し、要求に応じて web サイトのスケールアップ/スケールアウトの設定を自動で変更できるようにしました。


  また、Windows Azure PowerShell によって、一部のスケーリング操作だけでなく、サイトとサブスクリプションの多目的な制御が可能になります。   <strong></strong>

  <h4>最終的な考え</h4>

  Azure websites では、web サイトまたは web アプリの開発、デプロイ、テストを低レベルで、またはコスト<em>なし</em>で行うことができます。また、そのサイトの運用準備が完了した構成までシームレスにスケーリングし、さらにコスト効率の高い方法でスケールすることができます。 Windows


  ここでは、web サイトでのスケールアップとスケールアウトについて、このブログ投稿を中心に取り上げましたが、サイトは、データベース、データフィード、ストレージ、<sup>サードパーティの</sup> web API などの他のコンポーネントを使用する複雑なアプリケーションの一部にすぎない可能性があることに注意してください。 このコンポーネントの1つには独自のスケール操作があり、スケーリングオプションを評価するときに考慮する必要があります。


  もちろん、web サイトの拡張はコストに影響します。また、 <a href="https://azure.microsoft.com/en-us/pricing/calculator/" target="_blank">Azure 料金計算ツール</a>を使用すると、コストを見積もることができます。また、特定のスケール操作に与える影響についても簡単に説明します。


  </div>
