### YamlMime:Yaml
ms.openlocfilehash: 55d43bf6277dbbabfc1c5427303d934bb509454b
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139890434"
Slug: extensible-triggers-and-binders-with-azure-webjobs-sdk-1-1-0-alpha1
Title: Azure WebJobs SDK 1.1.0-alpha1 を使用した拡張可能なトリガーとバインダー
Summary: この新しいリリースでは、SDK の新しい機能拡張モデルが開きます。これにより、ファイル イベントやスケジュールなどのトリガー関数などのカスタム トリガーとバインダーを記述できます。
Content: "<p>このリリースでは、&nbsp;&nbsp;SDK の新しい機能拡張モデルが開きます。これにより、ファイル イベントやスケジュールなどのトリガー関数などのカスタム トリガーとバインダーを記述できます。 これで、Azure キュー、BLOB、Service Bus、ファイル、タイマーなどでトリガーできる関数を含む 1 つの Web ジョブを使用できるので、Web ジョブの開発と管理が簡単になります。 SDK もオープン ソースであり、ソース コードを使用できます <a href=\"https://github.com/Azure/azure-webjobs-sdk\">https://github.com/Azure/azure-webjobs-sdk</a></p>\n\n<h2>このリリースをダウンロードします。</h2>\n\n<p>NuGet ギャラリーから WebJobs SDK をダウンロードし、次のように NuGet パッケージ マネージャー コンソールを使用して、NuGet ギャラリーからこれらのパッケージをインストールできます。</p>\n\n<ul>\n    <li>Install-Package <a href=\"https://www.nuget.org/packages/Microsoft.Azure.WebJobs/1.1.0-alpha1\">Microsoft.Azure.WebJobs</a> -pre</li>\n</ul>\n\n<p>次のパッケージを使用するMicrosoft Azure Service Bus、次のパッケージをインストールします。</p>\n\n<ul>\n    <li>Install-Package <a href=\"https://www.nuget.org/packages/Microsoft.Azure.WebJobs.ServiceBus/1.1.0-alpha1\">Microsoft.Azure.WebJobs.ServiceBus</a> -pre</li>\n</ul>\n\n<p>新しい拡張モデル上にいくつかの新しいトリガーとバインダーが構築された新しいパッケージがあります。</p>\n\n<ul>\n    <li>Install-Package <a href=\"https://www.nuget.org/packages/Microsoft.Azure.WebJobs.Extensions/1.0.0-alpha1\">Microsoft.Azure.WebJobs.Extensions</a> -pre</li>\n</ul>\n\n<h2>トリガーとバインダーの拡張可能なモデル</h2>\n\n<p>SDK の最初のリリースでは、Azure Queues、BLOB、および Service Bus からのイベントに基づいて関数をトリガーする方法に重点が置かService Bus。 SDK のリリース以降、開発者が、ファイル イベント、スケジュール ベースのトリガー、SQL サーバーからのイベントに基づいて関数をトリガーするなどのトリガーを追加する必要があるという多くのフィードバックを受け取っています。 新しい機能拡張モデルを使用すると、拡張機能の作成者は新しいトリガーやバインダーを記述できます。これらの拡張機能は、アプリケーション内の他のユーザーが使用できます。 WebJobs の開発が簡単になります。Azure キュー、BLOB、Service Bus、Files、Timers などでトリガーできる関数を含む 1 つの Web ジョブを使用できます。 また、1 つの Web ジョブを管理するために、デプロイ、管理、およびデバッグも向上します。 Web ジョブまたはホストを複数のホストにスケーリングできます。トリガーを使用すると、関数のインスタンスが 1 つしか呼び出されません。 この概要チュートリアルで説明されている、ダッシュボードの監視、ルート パターン マッチング、シリアル化など、Core SDK 機能のすべての利点を得 <a href=\"https://azure.microsoft.com/en-us/documentation/articles/websites-dotnet-webjobs-sdk/\">ることができます</a>。</p>\n\n<h2>カスタム トリガー/バインダーを作成する</h2>\n\n<p>新しい拡張モデルを示す拡張機能を含む新しいオープン ソース レポ (<a href=\"https://github.com/Azure/azure-webjobs-sdk-extensions\">https://github.com/Azure/azure-webjobs-sdk-extensions</a> ) を作成しました。 機能拡張 <a href=\"https://github.com/Azure/azure-webjobs-sdk-extensions/wiki/Binding-Extensions-Overview\">モデル</a> のアーキテクチャに関する詳細なガイドに従ってください。 独自のトリガーまたはバインダーの作成を開始するために使用できるサンプルがあります。 新&rsquo;しい機能拡張モデルに関するフィードバックをお探しなので、拡張機能を記述する場合はフィードバックをお寄せください。</p>\n\n<h2>ファイルとタイマーのトリガーとバインダー</h2>\n\n<p>拡張機能のレポポには、新しい機能拡張モデルを示すファイルトリガーとタイマー トリガーの例があります。 これらは現在プレビュー中です。 次のコードは、ファイル イベントまたはスケジュールに基づいて関数をトリガーする方法を示しています。 <a href=\"https://www.nuget.org/packages/Microsoft.Azure.WebJobs.Extensions/1.0.0-alpha1\">Microsoft.Azure.WebJobs.Extensions パッケージをインストールNuGet</a>があります。</p>\n\n<pre class=\"prettyprint\">\n    \npublic class Program\n    {\n        static void Main(string[] args)\n        {\n            JobHostConfiguration config = new JobHostConfiguration();\n            FilesConfiguration filesConfig = new FilesConfiguration();\n            // When running locally, set this to a valid directory. \n            // Remove this when running in Azure.\n            // filesConfig.RootPath = @&quot;c:\\temp\\files&quot;;\n\n            // Add Triggers and Binders for Files and Timer Trigger.\n            config.UseFiles(filesConfig);\n            config.UseTimers();\n            JobHost host = new JobHost(config);\n            host.RunAndBlock();\n        }\n\n        // Function triggered by a timespan schedule every 15 sec.\n        public static void TimerJob([TimerTrigger(&quot;00:00:15&quot;)] TimerInfo timerInfo, \n                                    TextWriter log)\n        {\n            log.WriteLine(&quot;Scheduled job fired!&quot;);\n        }\n\n        // When new files arrive in the &quot;import&quot; directory, \n        // they are uploaded to a blob container.\n        public static void ImportFile(\n            [FileTrigger(@&quot;import\\{name}&quot;,&quot;*.txt&quot;)] TextReader input,\n            [Blob(@&quot;processed/{name}&quot;)] TextWriter output,\n            string name, TextWriter log)\n        {\n            output.Write(input.ReadToEnd());\n            log.WriteLine(string.Format(&quot;Processed input file &#39;{0}&#39;!&quot;, name));\n        }\n    }</pre>\n\n<p>&nbsp;</p>\n\n<h2>トリガー/バインダー拡張機能を監視するダッシュボード。</h2>\n\n<p>拡張機能は&nbsp;、関数の実行 &amp; の詳細、リプレイの呼び出し、関数の因果関係、中止、BLOB の検索など、すべてのダッシュボード機能を無料で取得します。 次のスクリーン ショットは、ファイル トリガーの関数の実行の詳細を示しています。 <a href=\"https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2015/07/15/invocationdetails.png\"><img alt=\"invocationdetails\" border=\"0\" height=\"312\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/invocationdetails_thumb.png\" style=\"display: inline; border: 0px;\" title=\"invocationdetails\" width=\"457\"></a></p>\n\n<h2>このリリースのその他の変更点</h2>\n\n<p>機能拡張モデルを開いて作成者がカスタム トリガーとバインダーを記述できるのとは別に、お客様から報告された主な問題を修正しました。 このプレビューで修正された問題の一部を次に示します。 完全な一覧については、このクエリを参照 <a href=\"https://github.com/Azure/azure-webjobs-sdk/issues?q=is%3Aissue+milestone%3A1.1.0-alpha1+is%3Aclosed\">してください</a>。</p>\n\n<ul>\n    <li><a href=\"https://github.com/Azure/azure-webjobs-sdk/issues/505\">CloudQueue/CloudQueueClient のユーザー構成を許可する</a></li>\n    <li><a href=\"https://github.com/Azure/azure-webjobs-sdk/issues/501\">ServiceBus トピックに必要なアクセス許可を指定する</a></li>\n    <li><a href=\"https://github.com/Azure/azure-webjobs-sdk/issues/510\">構成可能な再試行ポリシーのサポート</a></li>\n</ul>\n\n<h2>ServiceBus 登録の変更</h2>\n\n<p>機能拡張モデルを開く一環として、ServiceBus トリガーとバインダーをこの新しい拡張システムに基づくものに移動しました。 ServiceBus を使用し、このバージョンの SDK に更新する場合は、ServiceBus トリガーとバインダーを次のように登録する必要があります。 Service Bus接続文字列のオーバーライドが ServiceBusConfiguration によって提供されます。 次のサンプルを参照 <a href=\"https://github.com/Azure/azure-webjobs-sdk-samples/blob/master/BasicSamples/ServiceBus/Program.cs\">してください</a>。</p>\n\n<pre class=\"prettyprint\">\npublic class Program\n{\n   public static void Main()\n   {\n      JobHostConfiguration config = new JobHostConfiguration();\n      config.UseServiceBus();\n      JobHost host = new JobHost(config);\n      host.RunAndBlock();\n   }\n}\n</pre>\n\n<h2>オープン ソース</h2>\n\n<p>SDK、機能拡張システム、および関連リポジトリのソース コードは、次の場所で使用できます。</p>\n\n<ul>\n    <li><a href=\"https://github.com/Azure/azure-webjobs-sdk/\">https://github.com/Azure/azure-webjobs-sdk/</a></li>\n    <li><a href=\"https://github.com/Azure/azure-webjobs-sdk-extensions\">https://github.com/Azure/azure-webjobs-sdk-extensions</a></li>\n    <li><a href=\"https://github.com/Azure/azure-webjobs-sdk-samples/\">https://github.com/Azure/azure-webjobs-sdk-samples/</a></li>\n</ul>\n\n<p>フィードバックについてはオープンな問題を実行し、&rsquo;修正したい問題については PR を送信してください。 追加するさまざまな種類のトリガーとバインダーをお待ちしています。</p>\n\n<h2>サンプル</h2>\n\n<p>WebJobs SDK のサンプルについては <a href=\"https://github.com/Azure/azure-webjobs-sdk-samples\">https://github.com/Azure/azure-webjobs-sdk-samples</a> 、WebJobs SDK の機能拡張のサンプルに関するページを参照してください。 <a href=\"https://github.com/Azure/azure-webjobs-sdk-extensions\">https://github.com/Azure/azure-webjobs-sdk-extensions</a></p>\n\n<ul>\n    <li>BLOB、テーブル、キュー、およびテーブルのトリガーとバインドを使用する方法に関するサンプルService Bus。</li>\n    <li><b>PhluffyShuffy</b> は、顧客が BLOB ストレージから画像を処理する関数をトリガーする画像をアップロードできる画像処理 Web サイトです。</li>\n    <li><b>PhluffyLogs</b> は、WebJob がアプリによって生成されたログ ファイルを解析し、ログ ファイルをアーカイブする例です。</li>\n</ul>\n\n<h2>このリリースの更新プログラム</h2>\n\n<ul>\n    <li>新しいキュー構成の取り込みと<a href=\"https://github.com/Azure/azure-webjobs-sdk-samples/blob/master/BasicSamples/QueueOperations/Program.cs#L27\"></a>新しい QueueProcessor 機能を示す <a href=\"https://github.com/Azure/azure-webjobs-sdk-samples/blob/master/BasicSamples/QueueOperations/Program.cs#L31\">QueueOperations サンプルを更新しました</a></li>\n    <li>AccessRights <a href=\"https://github.com/Azure/azure-webjobs-sdk-samples/blob/master/BasicSamples/ServiceBus/Functions.cs#L71\">を&ldquo;使用して追加した新しい SB 属性 ctor オーバーロードを示す LimitedAccess&rdquo;</a> サンプル関数を追加しました</li>\n    <li>ServiceBus サンプルを構成に更新 <a href=\"https://github.com/Azure/azure-webjobs-sdk-samples/blob/master/BasicSamples/ServiceBus/Program.cs#L27\">しました。UseServiceBus()</a></li>\n</ul>\n\n<h2>ドキュメント</h2>\n\n<ul>\n    <li><a href=\"https://github.com/Azure/azure-webjobs-sdk-extensions/wiki/Binding-Extensions-Overview\">新しいトリガーとバインダーを作成するガイドライン</a></li>\n    <li><a href=\"https://channel9.msdn.com/Shows/Web+Camps+TV/Making-Your-Jobs-Easier-With-Windows-Azure-WebJobs-SDK\">Channel 9 のビデオ「ジョブを SDK を使用してジョブを簡単Windows Azure WebJobsする</a></li>\n    <li><a href=\"https://www.hanselman.com/blog/IntroducingWindowsAzureWebJobs.aspx\">Scott Hanselman による WebJobs と SDK の概要</a></li>\n    <li>WebJobs を使用して構築され、<a href=\"https://twitter.com/bradygaster\">Brady Gaster によって ASP.NET Web サイト モニター</a></li>\n    <li><a href=\"https://www.asp.net/aspnet/overview/developing-apps-with-windows-azure/azure-webjobs-recommended-resources\">&ndash; Azure WebJobs推奨リソース</a></li>\n    <li><a href=\"https://channel9.msdn.com/Tags/azurefridaywebjobs\">Azure Friday の WebJobs ビデオ シリーズ</a></li>\n    <li>Magnus Martensson によるビデオ シリーズ</li>\n    <li><a href=\"https://www.asp.net/aspnet/overview/developing-apps-with-windows-azure/getting-started-with-windows-azure-webjobs\">チュートリアル: WebJobs SDK のMicrosoft Azureする</a></li>\n</ul>\n\n<h2>フィードバックを送信し、ヘルプを得る</h2>\n\n<p>質問がある場合は、<a href=\"https://azure.microsoft.com/en-us/support/forums/\">Azure</a> フォーラム、ASP.NET フォーラム、または StackOverflow.com で<a href=\"https://stackoverflow.com/\">質問 StackOverflow.com</a>。<a href=\"https://forums.asp.net/1247.aspx\"></a> <a href=\"https://twitter.com/search?q=AzureWebJobs\">Twitter# 用の AzureWebJobs</a> SDK と StackOverflow Azure-WebJobsSDKタグを使用します。</p>\n\n<h2>まとめ</h2>\n\n<p>SDK のこのプレビューでは、トリガーとバインダーの全く新しい世界が開きます。これにより、拡張機能の作成者は、選択した任意のイベントの種類に対してトリガーを作成できます。 たとえば、ファイル イベント、タイマー/Cron スケジュール イベント、SQLイベント、Redis pub/sub イベントなどです。トリガーは、選択したイベント ソース&ndash;を監視するトリガーを作成できる Azure イベントにのみバインドされなくなりました。 トリガーに基づくアプリの開発と管理がはるかに簡単になります。 コミュニティによって新しいトリガーとバインダーが作成され、機能拡張モデルに関するフィードバックを受け取るのを楽しみにしています。</p>"
