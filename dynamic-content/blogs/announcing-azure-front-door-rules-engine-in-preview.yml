### YamlMime:Yaml
ms.openlocfilehash: 84cab05bb129769f24ee7fb488020cc33d10f471
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139894661"
Slug: announcing-azure-front-door-rules-engine-in-preview
Title: プレビューでのAzure Front Doorルール エンジンの発表
Summary: 現在から、Azure Front Door (AFD) のお客様は、新しいルールを利用して、顧客のニーズに最も合わせて AFD 動作をさらにカスタマイズできます。
Content: >-
  <p>現在から、 <a href="https://azure.microsoft.com/en-us/services/frontdoor/">Azure Front Door (</a> AFD) のお客様は、新しいルールを利用して、顧客のニーズに最も合わせて AFD 動作をさらにカスタマイズできます。 これらのルールにより、Azure Front Door でのアプリケーション配信の先頭に顧客の特定のルーティング ニーズが生じ、提供されるコンテンツを定義して適用する方法を制御できます。</p>


  <p>Azure Front Door、Azure のお客様は、Azures&rsquo; のクラス最高のネットワークを使用して、コンテンツを迅速かつ安全に配信できます。 &rsquo;&rsquo;お客様から、Web アプリケーション サービスの動作をカスタマイズする機能がいかに重要かについてお聞きしました。Azure Front Door の新しい機能であるルール エンジンが現在プレビューで発表されました。 ルール エンジンは、現在および新規のすべての顧客Azure Front Door向けですが、エッジでのセキュリティとコンテンツの配信を効率化する必要があるお客様にとって特に重要です。</p>


  <h2>新しいシナリオのAzure Front Door</h2>


  <p>ルール エンジンを使用すると、エッジで HTTP 要求を処理する方法を指定できます。</p>


  <p>ルール&rsquo; エンジンの可受性により、従来のアプリケーションの移行に対処する理想的なソリューションになります。このソリューションでは、ユーザーが古いアプリケーションにアクセスしたり、新しいアプリでコンテンツを見つける方法を知らない場合に心配したりしたくはありません。 同様に、geo 一致機能とデバイス識別機能を使用すると、ユーザーは常に、その場所とアクセスしているデバイスに最適なコンテンツを表示できます。 また、ルール エンジンを使用してセキュリティ ヘッダーと Cookie&rsquo; を実装すると、ユーザーがサイトとやり取りする方法に関係なく、セキュリティで保護された接続を通じてセキュリティで保護された接続を行う必要が生じ、ブラウザーベースの脆弱性がサイトに影響を与えるのを防ぐ可能性もあります。</p>


  <p>一致条件とアクションの組み合わせが異なれば、どのユーザーがどのコンテンツを取得し、ルール エンジンで実現できる可能性のあるシナリオを無限に実現できるのかをきめ細かく制御できます。 AFD でこれらの新しいシナリオを強化する技術的な機能には、次のようなものがあります。</p>


  <ul>
      <li>HTTPS を適用し、すべてのエンド ユーザーがセキュリティで保護された接続を使用してコンテンツと対話するようにします。</li>
      <li>HTTP Strict-Transport-Security (HSTS)、X-XSS-Protection、Content-Security-Policy、X-Frame-Options、CORS シナリオの Access-Control-Allow-Origin ヘッダーなど、ブラウザーベースの脆弱性を防ぐためのセキュリティ ヘッダーを実装します。 セキュリティベースの属性は、Cookie でも定義できます。</li>
      <li>要求ヘッダー、Cookie、またはクエリ文字列からなるコンテンツのパターンに基づき、モバイル版またはデスクトップ版のアプリケーションに要求を送信します。</li>
      <li>リダイレクト機能を使用して、301/302/307/308 リダイレクトをクライアントに返し、新しいホスト名、パス、またはプロトコルにリダイレクトします。</li>
      <li>受信要求に基づき、ルートのキャッシュ構成を動的に変更します。</li>
      <li>要求 URL パスを書き換え、構成されているバックエンド プールの適切なバックエンドに要求を転送します。</li>
  </ul>


  <p>ルール エンジンは、シナリオ全体を処理するように設計されています。 詳細については、一致条件と <a href="https://docs.microsoft.com/en-us/azure/frontdoor/front-door-rules-engine-actions">AFD</a> ルール エンジンアクションの完全な一覧をドキュメントで確認できます。<a href="https://docs.microsoft.com/en-us/azure/frontdoor/front-door-rules-engine-match-conditions"></a></p>


  <h2>ルール エンジンのしくみ</h2>


  <p>ルール エンジンは、エッジで要求を処理します。 ルール エンジンを構成すると、要求が Front Door エンドポイントにヒットすると、最初に Web Application Firewall (WAF) が実行され、その後にフロントエンドまたはドメインに関連付けられたルール エンジン構成が実行されます。 ルール エンジン構成が実行されることは、親のルーティング規則が既に一致していることを意味します。 ルール エンジン構成内の各ルールのすべてのアクションが実行されるかどうかは、そのルール内のすべての一致条件が満たされる対象となります。 要求がルール エンジン構成内のどの条件にも一致しない場合は、既定のルーティング規則が実行されます。</p>


  <p>たとえば、次の構成のルール エンジンは、一致条件が満たされた場合にキャッシュ制御の max-age (最大有効期間) を変更する応答ヘッダーを追加するように構成されています。<br>

  &nbsp;&nbsp; <img alt="•    Can you please confirm Megan Beatty’s full title so we can create an author profile for her on the blog?" border="0" height="630" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/c80925a6-c768-4ec7-8750-50ce4fdbe044.png" style="border: 0px currentcolor; border-image: none; display: inline; background-image: none;" title="" width="1024"></p>


  <p>別の例として、このルール エンジンは、一致条件であるデバイスの種類が true の場合にサイトのモバイル バージョンにユーザーを送るように構成されています。<br>

  &nbsp;</p>


  <p><img alt="•  Can you please provide alt text for both of the images included in the post?" border="0" height="623" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/be5c32d1-d4ee-4638-a714-d2da176a7b37.png" style="border: 0px currentcolor; border-image: none; display: inline; background-image: none;" title="" width="1024"><br>

  どちらの例でも、ルール エンジンの一致条件が満たされていない場合、ルート ルールで指定される既定の動作は実行されます。</p>


  <h2>次の手順</h2>


  <p>ルール エンジンを使用して、ルール エンジンを使用して新しい機能のロックを解除する方法をAzure Front Door。 現在利用できる機能の&rsquo;詳細については、ルール エンジンに関するドキュメント <a href="https://docs.microsoft.com/en-us/azure/frontdoor/front-door-rules-engine">Azure Front Door確認してください</a>。</p>
