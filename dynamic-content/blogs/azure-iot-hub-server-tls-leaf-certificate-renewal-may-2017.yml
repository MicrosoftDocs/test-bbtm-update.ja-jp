### YamlMime:Yaml
ms.openlocfilehash: 0432a3d713b85ad2fb4d3241df6ccbaf6e6ddb0a
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139909320"
Slug: azure-iot-hub-server-tls-leaf-certificate-renewal-may-2017
Title: Azure IoT Hub サーバー TLS リーフ証明書の更新–2017年5月
Summary: Azure IoT Hub サーバー TLS 接続証明書の定期的な更新は近日公開予定です。 サービスが影響を受けていないことを確認してください。
Content: >-
  <p><strong>次のブログには、クライアント接続に影響する可能性がある Azure IoT ハブエンドポイントに対する TLS 証明書の更新に関する重要な情報が記載されています。</strong></p>


  <p>定期的な更新サイクルの一環として、TLS 接続に使用される Azure IoT Hub リーフ証明書は、2017年中旬から更新されます。 このため、Azure IoT Hub サービスに接続している一部のクライアントに影響を与える可能性があります。 この変更によって影響を受けるのは、<a href="https://azure.microsoft.com/en-us/regions/">パブリック azure クラウド</a>で作成された Azure IoT ハブと、 <a href="https://www.azure.cn/">azure で</a>はなく<a href="https://azure.microsoft.com/en-us/overview/clouds/germany/">azure ドイツ</a>にのみ影響します。</p>


  <h2>証明書の更新の概要</h2>


  <p>次の表は、更新される証明書に関する情報を示しています。 デバイスまたはゲートウェイクライアントが TLS 接続に使用する証明書によっては、接続の損失を防ぐためにアクションが必要になる場合があります。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/b0fe79ff-e73f-4016-9b05-53719255fead.png"><img alt="Cert (002)" border="0" height="328" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/8e731eea-f576-4beb-b18b-e04beb9bcc3d.png" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; border-left: 0px; display: block; padding-right: 0px; margin-right: auto" title="証明書 (002)" width="538"></a></p>


  <h2>正しい動作</h2>


  <ul>
   <li><strong>影響を受けない:</strong>提供されているように Azure IoT デバイスまたはゲートウェイ SDK を使用して Azure IoT Hub に接続しているデバイス。 証明書または Sdk を使用する独自の接続コードを使用して、TLS 接続用の組み込みの証明書ストアであるオペレーティングシステム&#39;は <em><strong>影響を受けません</strong></em>。&nbsp;</li>
   <li><strong>影響を受ける可能性があります:</strong>Azure IoT SDK で提供された接続スタック以外の接続スタックを使用しているデバイス。 具体的には、リーフ証明書をピン留めする接続ロジックでは、更新され <em><strong>ていない場合、ロールオーバー後の TLS 接続エラーが発生</strong></em>します。 ルート証明書の更新頻度を低くすることをお勧めします。</li>
  </ul>


  <h2>検証</h2>


  <p>Azure IoT hub に接続する IoT インフラストラクチャへの影響を軽減するために、検証を行うことをお勧めします。 Azure IoT Hub でリーフ証明書を更新する前に、簡単に試すことができるようにテスト環境をセットアップしました。 このテスト環境の接続文字列は次のとおりです: HostName = playground01-int.net;SharedAccessKeyName = owner;SharedAccessKey = 0DvHNevPwsDjpMor6eT6aZefKp77Tdo7z2eaFX9kF5I =</p>


  <p>テスト環境への TLS 接続が成功すると、テスト結果が肯定的になり、インフラストラクチャがこの変更に対応していることがわかります。 この接続テスト文字列には無効なキーが含まれているため、TLS 接続が確立されると、このテスト IoT Hub に対して実行されるランタイム操作は失敗します。 これは、お客様が TLS 接続機能を検証するためだけに、ハブが存在するように設計されています。 このテスト環境は、すべてのパブリッククラウドリージョンが更新されるまで使用できます。</p>


  <p>これらの変更の実装に関する技術的な質問がある場合は、以下のオプションを使用して <a href="https://docs.microsoft.com/en-us/azure/azure-supportability/how-to-create-azure-support-request">サポート要求 </a>を開くと、エンジニアからすぐに戻ることができます。</p>


  <ul>
   <li><strong>問題の種類:</strong> 的</li>
   <li><strong>Azure サービス:</strong> モノのインターネット/IoT Sdk</li>
   <li><strong>問題の種類:</strong> セキュリティ/認証</li>
   <li><strong>用語集: </strong>ルート、中間、およびリーフの証明書- <a href="https://en.wikipedia.org/wiki/Public_key_certificate">デジタル証明書 </a>の種類は、ネットワーク経由で id、アクセス、および信頼を管理するために使用される、公開キーまたは id 証明書とも呼ばれます。</li>
  </ul>
