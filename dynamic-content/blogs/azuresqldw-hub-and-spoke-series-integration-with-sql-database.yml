### YamlMime:Yaml
ms.openlocfilehash: 941f6d22de0a31ba6868fce7a886914490dcf5fc
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139894464"
Slug: azuresqldw-hub-and-spoke-series-integration-with-sql-database
Title: '#<a name="azuresqldw-hub-and-spoke-series-integration-with-sql-database"></a>AzureSQLDW: ハブとスポークシリーズの SQL Database との統合'
Summary: Azure SQL Data Warehouse は、エンタープライズデータウェアハウス (edw) のバックボーンである Microsoft の SQL 分析プラットフォームです。 このサービスは、お客様が非常に並列処理でコンピューティングとストレージを弾力的に拡張できるように設計されています...
Content: >-
  <p><a href="https://azure.microsoft.com/services/sql-data-warehouse/">Azure SQL Data Warehouse</a>は、エンタープライズデータウェアハウス (edw) のバックボーンである Microsoft &rsquo; s SQL 分析プラットフォームです。 このサービスは、お客様が大規模な並列処理でコンピューティングとストレージを弾力的に拡張できるように設計されています。 SQL DW はビッグデータストアとシームレスに統合され、データマートとキューブのハブとして機能し、edw の最適化されたパフォーマンスを実現します。 Azure SQL DW は、 <a href="https://azure.microsoft.com/support/legal/sla/sql-data-warehouse/v1_0/">99.9% の高可用性</a>、コンプライアンス、<a href="https://docs.microsoft.com/azure/sql-data-warehouse/sql-data-warehouse-overview-manage-security">高度なセキュリティ</a>、アップストリームおよびダウンストリームサービスとの<a href="https://docs.microsoft.com/azure/sql-data-warehouse/sql-data-warehouse-overview-integrate">緊密な統合</a>を保証しているため、ニーズに合ったデータウェアハウスを構築できます。 Azure SQL DW は、企業が30を超えるリージョンでグローバルに可用性を持つデータをレプリケートできるようにする、最初の唯一のサービスです。</p>


  <p>クラウドでソリューションを構築する利点の1つは、さまざまなテクノロジを利用することによって得られる柔軟性です。 このブログ記事では、SQL Data Warehouse を使用したハブアンドスポークアーキテクチャのスポークとしての SQL Database の使用方法について概説します。</p>


  <h2>SQL DW で SQL Database を使用する利点</h2>


  <ul>
   <li>ソリューションの同時実行性を向上させる一方で、キューに置かれたクエリの数</li>
   <li>分析のための T SQL 言語のセキュリティ強化</li>
   <li>SQL Database 内の外部テーブルを介して SQL DW にネイティブでクエリを実行する機能</li>
   <li>エラスティッククエリを保持しながら、SQL Database インスタンスをグローバルに分散する機能</li>
  </ul>


  <p>データウェアハウスソリューションは、中核となるビジネス機能を表す、クリーンな統合データセットを表すために存在します。 その後、クリーンデータがレポートと Data Analytics に使用されます。 一般に、レポートデータは、過去1年間または1年 &rsquo; 分の集計形式のデータなど、特定の時間ウィンドウにスコープが設定されます。 データ分析はアドホックであり、はるかに詳細なデータを超えています。</p>


  <p>高コスト効果の高い方法で集計データのレポートをスケールアウトする場合、エラスティッククエリを使用した2つのサービス間の統合により、グローバルな規模でハブアンドスポークソリューションを管理できるようになります。 大量並列処理 (MPP) の力を発揮し、非常に大きなデータを格納する機能を備えた SQL DW への直接接続を維持しながら、暑すぎるか/集計データを高い同時 SQL Database インスタンスに格納します。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/cc10448e-d1cb-4086-a5cc-fdcb0a7cfa08.jpg"><img alt="clip_image002" border="0" height="281" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/fbfb843c-65dd-4812-877c-60556b54858a.jpg" style="border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="clip_image002" width="548"></a></p>


  <p>上の図の例では、サブジェクト領域 SQL Database インスタンスを含むデータウェアハウスソリューションを示しています。このソリューションでは、より新しいサブジェクト領域データを迅速にレポートし、洞察を得ることができます。 より多くのデータを必要とするユーザーは、エラスティッククエリを使用していつでもデータウェアハウスのデータにアクセスできます。 Power users とデータ科学者にとって、データウェアハウスは、ビジネスの 360<sup>o</sup> 分析のための真実の源となります。</p>


  <h2>SQL Database スポークをすぐに作成する</h2>


  <p>SQL Database をスポークとして作成する方法については、以下のテンプレートをデプロイすること &rsquo; を検討してください。 このテンプレートは、既存の SQL DW インスタンスに配置され、コントロールテーブルに基づいて事前に作成された SQL Data Warehouse テーブルを参照するすべての外部テーブルを使用して、定義済みの SQL Database スポークインスタンスを作成します。 このテンプレートでは、エラスティックプール、automation アカウント、および runbook にユーザー定義の PremiumRS SQL データベースをデプロイします。</p>


  <h3>手順 1 &ndash; テンプレートをデプロイする</h3>


  <p><a href="https://ms.portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FMicrosoft%2Fsql-data-warehouse-samples%2Fmaster%2Farm-templates%2FsqlDwSpokeDbTemplate%2Fazuredeploy.json"><img alt="clip_image003" border="0" height="34" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/762b6b83-7060-4916-a82b-0be5692dfed2.png" style="border-image: none; display: inline; background-image: none;" title="clip_image003" width="161"></a></p>


  <ul>
   <li>論理サーバー名&nbsp;</li>
   <li>論理サーバーの場所&nbsp;</li>
   <li>論理サーバー管理者のユーザー名</li>
   <li>論理サーバーの管理パスワード</li>
   <li>SQL DW データベース名: 既存の SQL Data Warehouse の名前</li>
   <li>Num スポーク Db: デプロイするスポークデータベースインスタンスの数</li>
   <li>展開 Guid: Runbook デプロイの GUID。 デプロイごとに一意である必要があります。 <a href="https://www.guidgenerator.com/online-guid-generator.aspx">GUID を生成</a>するには、オンラインのサービスがいくつかあります。</li>
  </ul>


  <h3>手順 2 &ndash; 展開を確認する</h3>


  <p>デプロイのタイミングは、プロビジョニングされたデータベースの数と SQL Data Warehouse 内のテーブルの数によって異なります。 デプロイ後、automation アカウント、runbook、エラスティックプール、および SQL データベースが表示されます。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/faa644b0-5178-4edd-b272-f41ed2559bc4.png"><img alt="clip_image004" border="0" height="177" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/4c9f8366-9a8c-4a48-b0b8-4273e1f16b3d.png" style="border-image: none; display: inline; background-image: none;" title="clip_image004" width="216"></a></p>


  <h3>手順 3 &ndash; 接続を確認する</h3>


  <p>すべてが配置されたら、すべての外部テーブル、ビュー、およびストアドプロシージャが作成されていることを確認します。 SQL Data Warehouse と SQL Database の両方で、<i>メタ</i>スキーマの下に複数のオブジェクトが表示されます。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/5f8d9bf8-1ada-4c73-aad6-09a06f83fc54.png"><img alt="clip_image005" border="0" height="57" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/921ede19-5d63-48f2-b32b-d931ae9126e0.png" style="border-image: none; display: inline; background-image: none;" title="clip_image005" width="378"></a></p>


  <p>各 SQL Database では、メタを見つける必要があります。remotetabledefinitionview の後に、SQL Data Warehouse 内の各テーブルの外部テーブル定義が続きます。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/11a74183-9eb7-4237-8d89-527bc8aca522.png"><img alt="clip_image006" border="0" height="119" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/7020278d-61a3-422d-8aa2-4c075d342d92.png" style="border-image: none; display: inline; background-image: none;" title="clip_image006" width="328"></a></p>


  <h3>手順 4 &ndash; エラスティッククエリ</h3>


  <p>生成されたいずれかの外部テーブルに対してクエリを実行し、SQL Database から SQL Data Warehouse インスタンスにクエリできることを検証します。</p>


  <h3>手順 5. &ndash; 詳細情報</h3>


  <p>ハブとスポークのアーキテクチャおよび <a href="https://docs.microsoft.com/en-us/azure/sql-data-warehouse/how-to-use-elastic-query-with-sql-data-warehouse">エラスティッククエリ</a>の詳細については、ドキュメントを参照してください。 このテンプレートは、SQL Database と SQL Data Warehouse でハブとスポークを高速化およびデモンストレーションするのに役立つサンプルです。 具体的には、このサンプルは、DB のエラスティッククエリアクセスを管理するための制御テーブルを示し、外部テーブル定義を生成するために使用されます。 これらの Db でデータの具体化を管理して、真の同時実行制御のハブアンドスポークソリューションを作成する方法の詳細については、引き続きチューニングしてください。 コードサンプルの詳細については、 <a href="https://github.com/Microsoft/sql-data-warehouse-samples/tree/master/arm-templates/sqlDwSpokeDbTemplate">GitHub</a>を参照してください。 実稼働システムにデプロイする前に、コードサンプルをニーズに合わせて変更することをお勧めします。</p>


  <p>POC のヘルプが必要な場合は、 <a href="https://azure.microsoft.com/en-us/services/sql-data-warehouse/information-request/">直接お問い合わせ</a>ください。 最新の Azure SQL DW ニュースと機能については、Twitter <a href="https://twitter.com/AzureSQLDW">@AzureSQLDW</a> に関する記事をフォローして最新情報を入手してください。</p>
