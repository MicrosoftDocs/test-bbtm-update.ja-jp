### YamlMime:Yaml
ms.openlocfilehash: 1871c67f52dbe585e7d5a0e7ab1c25c106d873f5
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139892871"
Slug: motion-detection
Title: '発表: モーション検出のAzure Media Analytics'
Summary: Azure Media Analyticsは、エンタープライズ規模、コンプライアンス、セキュリティ、グローバルな範囲で提供される音声およびビジョン サービスのコレクションです。 モーション検出は、ビデオ内のモーション イベントを検出するテクノロジであり、現在は無料のパブリック プレビュー中です。
Content: >-
  <p>Azure Media Analyticsは、エンタープライズ規模、コンプライアンス、セキュリティ、グローバルな範囲で提供される音声およびビジョン サービスのコレクションです。 Azure Media Analytics の一部として提供されるサービスは、コア Azure Media Services プラットフォーム コンポーネントを使用して構築されています。そのため、1 日目に大規模なメディア処理を処理する準備ができています。 この発表に含まれるその他のメディア プロセッサについては、「Insing&#39;&nbsp;」のブログ記事「<a href="https://azure.microsoft.com/en-us/blog/introducing-azure-media-analytics" target="_blank">Introducing Azure Media Analytics」を参照してください</a>。</p>


  <p>このブログでは、このテクノロジの使用と出力について詳しく説明し、Azure Media Motion Detectorの無料パブリック プレビューを楽しみにしています。 このメディア プロセッサ (MP) を静的カメラ映像と一緒に使用して、ビデオモーションの発生場所を特定できます。 セキュリティ ビデオ フィードを対象にしたこのテクノロジは、実際のモーション (部屋に入る人など) と偽陽性 (風の中のリーフ、影や光の変化など) を区別できます。 これにより、いつまでも続く関係のないイベントに煩わされることなくカメラ フィードからセキュリティ アラートを生成することができ、非常に長い監視ビデオから関心のある瞬間を抽出できます。</p>


  <h2>モーション検出</h2>


  <p>モーション検出は、ビデオと JSON の構成を入力として受け取り、タイムスタンプとイベントが発生した境界領域を含むこのメタデータを含む JSON ファイルを生成します。</p>


  <p>これらの機能には、新しい Azure portal で、以下のプリセットを使用して API を使用するか、無料の Azure Media Services Explorer ツールを使用してアクセスできます。</p>


  <h3>入力の構成</h3>


  <p>現時点では、入力構成オプションは必要ありません。以下のプリセットを使用できます。</p>


  <p align="left">JSON:</p>


  <pre class="prettyprint">


  &nbsp;</pre>


  <p>{&#39;バージョン&#39;:&#39;1.0&#39;}</p>


  <p>実際のモーションの例:</p>


  <p><iframe align="center" frameborder="no" height="350" name="azuremediaplayer" scrolling="no" src="//aka.ms/ampembed?url=https%3A%2F%2Freferencestream-samplestream.streaming.mediaservices.windows.net%2Fd54876c6-89a5-41de-b1f4-f45b6e10a94f%2FGarage.ism%2Fmanifest&amp;autoplay=false" width="625"></iframe></p>


  <pre class="prettyprint">


  &nbsp;</pre>


  <p>{<br>

  &nbsp;&quot;バージョン&quot;: 1、<br>

  &nbsp;&quot;timescale&quot;: 60000、<br>

  &nbsp;&quot;offset&quot;: 0、<br>

  &nbsp;&quot;framerate&quot;: 30、<br>

  &nbsp;&quot;width&quot;: 1920、<br>

  &nbsp;&quot;height&quot;: 1080、<br>

  &nbsp;&quot;regions&quot;: [<br>

  &nbsp;&nbsp;&nbsp; {<br>

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;: 0、<br>

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;: &quot;四角形&quot;、<br>

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;x&quot;: 0、<br>

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;y&quot;: 0、<br>

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;width&quot;: 1、<br>

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;height&quot;: 1<br>

  &nbsp;&nbsp;&nbsp; }<br>

  &nbsp; ],<br>

  &nbsp;&quot;fragments&quot;: [<br>

  &nbsp;&nbsp;&nbsp; {<br>

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;start&quot;: 0、<br>

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;duration&quot;: 68510<br>

  &nbsp;&nbsp;&nbsp; },<br>

  &nbsp;&nbsp;&nbsp; {<br>

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;start&quot;: 68510、<br>

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;duration&quot;: 969999、<br>

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;interval&quot;: 969999、<br>

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;events&quot;: [<br>

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [<br>

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;: 2、<br>

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;regionId&quot;: 0<br>

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ]<br>

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ]<br>

  &nbsp;&nbsp;&nbsp; },<br>

  &nbsp;&nbsp;&nbsp; {<br>

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;start&quot;: 1038509、<br>

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;duration&quot;: 41489<br>

  &nbsp;&nbsp;&nbsp; }<br>

  &nbsp; ]<br>

  }</p>


  <p>偽陽性 (軽い変更) の例:</p>


  <p><iframe align="center" frameborder="no" height="350" name="azuremediaplayer" scrolling="no" src="//aka.ms/ampembed?url=https%3A%2F%2Freferencestream-samplestream.streaming.mediaservices.windows.net%2Ffdc6656b-1c10-4f3f-aa7c-07ba073c1615%2FLivingRoomLight.ism%2Fmanifest&amp;tech=flash&amp;autoplay=false" width="625"></iframe></p>


  <pre class="prettyprint">


  &nbsp;</pre>


  <p>{<br>

  &nbsp;&quot;バージョン&quot;: 1、<br>

  &nbsp;&quot;timescale&quot;: 30000、<br>

  &nbsp;&quot;offset&quot;: 0、<br>

  &nbsp;&quot;framerate&quot;: 29.97、<br>

  &nbsp;&quot;width&quot;: 1920、<br>

  &nbsp;&quot;height&quot;: 1080、<br>

  &nbsp;&quot;regions&quot;: [<br>

  &nbsp;&nbsp;&nbsp; {<br>

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;: 0、<br>

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;: &quot;四角形&quot;、<br>

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;x&quot;: 0、<br>

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;y&quot;: 0、<br>

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;width&quot;: 1、<br>

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;height&quot;: 1<br>

  &nbsp;&nbsp;&nbsp; }<br>

  &nbsp; ],<br>

  &nbsp;&quot;fragments&quot;: [<br>

  &nbsp;&nbsp;&nbsp; {<br>

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;start&quot;: 0、<br>

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;duration&quot;: 320320<br>

  &nbsp;&nbsp;&nbsp; }<br>

  &nbsp; ]<br>

  }</p>


  <h3>出力形式</h3>


  <p>モーション検出ジョブは、ビデオ内のモーション アラートとそのカテゴリを記述する JSON ファイルを出力資産に返します。</p>


  <p>現在、モーション検出では汎用モーション カテゴリだけがサポートされています。これは、出力で型 <i>2 と</i> 呼ばれます。</p>


  <p>X 座標と Y 座標とサイズは、0.0 から 1.0 の間の正規化された浮動小数点数を使用して一覧表示されます。 これをビデオの高さと幅の解像度で乗算して、検出されたモーションの領域の境界ボックスを取得します。</p>


  <p>各出力はフラグメントに分割され、間隔に分割され、ビデオ内のデータが定義されます。 フラグメントの長さは等しくする必要はありません。また、モーションが検出されない場合は長い長さにまたがる可能性があります。</p>


  <h3>モーション検出の出力について</h3>


  <h4>概要</h4>


  <p>モーション検出 API は、固定の背景ビデオ (監視ビデオなど) で動く物体が見つかられたらインジケーターを提供します。 モーション検出は、照明や影の変更などの誤ったアラームを減らしてトレーニングされます。 アルゴリズムの現在の制限には、夜間視覚ビデオ、半透明のオブジェクト、小さなオブジェクトが含まれます。</p>


  <p>この API の出力は JSON 形式であり、ビデオで検出されたモーションの時間と継続時間の両方で構成されます。</p>


  <h4>JSON リファレンス</h4>


  <p>モーション検出 JSON には、顔検出と追跡 JSON と同様の概念があります。 モーション検出 JSON では、モーションが発生した時間とモーションの継続時間を記録する必要があるだけなので、いくつかの違いがあります。</p>


  <ul>
      <li><b>バージョン</b>: これは Video API のバージョンを指します。</li>
      <li><b>タイムスケール</b>: &ldquo;ビデオの 1&rdquo; 秒あたりのティック数。</li>
      <li><b>Offset</b>: これは、タイムスタンプのタイム オフセット (ティック数) &lsquo;です&rsquo;。 Video API のバージョン 1.0 では、これは常に 0 になります。 今後サポートされるシナリオでは、変更される可能性があります。</li>
      <li><b>フレームレート</b>: ビデオの 1 秒あたりのフレーム数。</li>
      <li><b>Width</b>、 <b>Height</b>: ビデオの幅と高さをピクセル単位で示します。</li>
      <li><b>リージョン</b>: [リージョン] は、モーションを気にするビデオ内の領域を指します。 現在のバージョンの Video API では、リージョンを指定することはできません。 代わりに、ビデオの表面全体が、検出されるモーションの領域です。
      <ul>
          <li><strong>ID</strong> は、このバージョンのリージョン &ndash; 領域を表し、ID 0 は 1 つのみです。</li>
          <li><strong>四</strong> 角形は、モーションに関する領域の形状を表します。 このバージョンでは、常に四角形です。</li>
          <li>領域には、X、<strong>Y、Width、Height のディメンション&nbsp;</strong><strong>があります</strong>。 X および Y 座標は、0.0 ～ 1.0 に正規化されたスケール内の領域の左上の XY 座標を表します。 幅と高さは、0.0 ～ 1.0 に正規化されたスケール内の領域のサイズを表します。 現在のバージョンでは、X、Y、Width、Height は常に 0、0、1、1 に固定されます。</li>
          <li><b>フラグメント</b>: メタデータはフラグメントと呼ばれる別のセグメントにチャンクアップされます。 各フラグメントには、開始、期間、間隔番号、およびイベントが含まれます。 イベントのないフラグメントは、その開始時間と継続時間中にモーションが検出されなかったことを意味します。</li>
      </ul>
      </li>
      <li><b>Start</b>: 開始タイムスタンプ (ティック&ldquo;数)。&rdquo;</li>
      <li><b>Duration</b>: イベントの長さ (ティック &ldquo;単位&rdquo;)。</li>
      <li><b>Interval</b>: イベント内の各エントリの間隔 (ティック&ldquo;)。&rdquo;</li>
      <li><b>イベント</b>: 各イベント フラグメントには、その時間内に検出されたモーションが含されます。</li>
      <li><b>ブラケット</b> [ ]: Each bracket represents one interval in the event. Empty brackets for that interval mean that no motion was detected.</li>
      <li><b>種類</b>: 現在のバージョンでは、汎用モーションの場合は &lsquo;常に 2&rsquo; です。 このラベルにより、Video API は将来のバージョンでモーションを柔軟に分類できます。</li>
      <li><b>RegionID</b>: 上で説明したように、このバージョンでは常に 0 です。 このラベルにより、Video API は、将来のバージョンでさまざまなリージョンでモーションを見つけ出す柔軟性を提供します。</li>
  </ul>


  <h3>作業の開始</h3>


  <p>このサービスを使用するには、Azure サブスクリプション内に Media Services アカウントを作成し、REST API<a href="https://azure.microsoft.com/en-us/develop/media-services/">/SDK</a>&nbsp; または Azure Media Services <a href="https://aka.ms/amse">Explorer を使用します</a>。</p>


  <p>サンプル コードについては、ドキュメント ページを <a href="https://azure.microsoft.com/en-us/documentation/articles/media-services-motion-detection/" target="_blank">参照してください。</a></p>


  <h3>制限事項</h3>


  <ul>
      <li>サポートされている入力ビデオ形式には、MP4、MOV、WMV が含まれます。</li>
      <li>モーション検出は、固定背景のビデオに最適化されています。 このアルゴリズムでは、照明の変化や影などの誤ったアラームを減らすことに焦点を当て、</li>
      <li>技術的な課題により、一部のモーションが検出されない場合があります。例: 夜間視覚ビデオ、半透明のオブジェクト、小さなオブジェクト。</li>
  </ul>


  <h3>お問い合わせ先</h3>


  <p>モーション検出メディア プロセッサ<a href="https://azure.microsoft.com/en-us/blog/topics/media-services-2/">とAzure Media Servicesイニシアチブ</a>に関するより多くの更新を確認するには、次のブログMedia Analyticsしてください。</p>


  <p>他の製品に関する質問がある場合Media Analyticsメールを に送信してください <a href="mailto:amsanalytics@microsoft.com">amsanalytics@microsoft.com</a>。</p>
