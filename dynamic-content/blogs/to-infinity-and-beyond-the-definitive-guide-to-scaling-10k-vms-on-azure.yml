### YamlMime:Yaml
ms.openlocfilehash: 2ebeae46308f33f8dde6cd2e5c21d6a85126bbbc
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139893821"
Slug: to-infinity-and-beyond-the-definitive-guide-to-scaling-10k-vms-on-azure
Title: '無限大を超える場合: Azure で 10,000 台の VM をスケーリングするガイド'
Summary: すべてのプラットフォームには制限があり、ワークステーションと物理サーバーにはリソースの境界があり、API はレート制限される可能性があります。また、仮想パブリック クラウドの無限に認識される限り、プラットフォームを過剰使用や誤用から保護する制限 (Azure) が適用されます。
Content: >-
  <p>すべてのプラットフォームには制限があり、ワークステーションと物理サーバーにはリソース境界があり、API はレート制限を受け、仮想パブリック クラウドの無限に認識される場合でも、プラットフォームを過剰使用や誤用から保護する制限が適用されます。 これらの制限の詳細については、&ldquo;ドキュメント、Azure サブスクリプションとサービスの制限、クォータ、制約に関<a href="https://docs.microsoft.com/en-us/azure/azure-subscription-service-limits" target="_blank">するページを参照してください。</a>&rdquo;プラットフォームを極端に使用するシナリオに取り組む場合、これらの制限は現実の値になるため、それらを克服するために考慮する必要があります。</p>


  <p>次の投稿には、 <a href="https://www.linkedin.com/in/mikekiernan1/" target="_blank">Mike Kiernan</a>、Mayur D mikedekar、 <a href="https://www.linkedin.com/in/idan-shahar/" target="_blank">および Idan Shahar</a> との仕事から得られた重要なメモが含まれています。 また、Microsoft Azure で実行されている 10,000 台の仮想マシンの制限に達しようとして、さまざまな実装の長所と短所について説明するイテレーションもいくつか取り上されています。</p>


  <h2>クラウド規模でのロード テスト</h2>


  <p>新しいバージョンを実稼働環境に移行する前にテストを読み込み、ストレスを与えるのは一方で重要ですが、IT にとって真の課題になります。 これは、リリース サイクルごとに、かなりの量のリソースを短時間だけ使用できる必要があるためです。 インフラストラクチャを購入&rsquo;しても、そのコストは長期に渡って正当化されません。これは、使用量ごとにのみ支払いが請求されるパブリック クラウド プラットフォームに最適な用途です。</p>


  <p>この投稿は、実際には&rsquo;、私たちが取り組む顧客に基づいており、私たちが直面した課題について説明します。 ただし、提供されるソリューションは、Azure 内に大規模な VM クラスターが存在する他の使用例に使用できる十分な一般的なソリューションです。次に例を示します。</p>


  <ul>
   <li>単一の VMSS を超えるスケーリング要件。クラスターはプロビジョニング後のサイズ (HPC クラスター) で静的です。</li>
   <li>DDoS シミュレーション &ndash; この場合は倫理を実践する必要があります。また、対象となるエンドポイントはユーザーが所有する必要があります。そうしないと、損害に対する責任を負うリスクを負います。</li>
  </ul>


  <h2>プロセス</h2>


  <ul>

  </ul>


  <p>大きなレベルでは、次の手順を実行する x VM &ldquo;&rdquo; のクラスターをプロビジョニングして初期化する必要があります。</p>


  <ul>
   <li>基本イメージから開始します。</li>
   <li>基本イメージから x VM をプロビジョニングします。</li>
   <li>各 VM に必要なソフトウェアとデータをダウンロードしてインストールします。</li>
   <li>&ldquo;各 VM で do-something&rdquo; プロセスを開始します。</li>
  </ul>


  <p>ただし、対象となるハイパースケールを考慮する必要がある重要な要素が多数ある場合。 このようなシナリオの実装に関する懸念は、インフラストラクチャやプロビジョニング プロセスに関する場合と同様に、管理、コストの最適化、プラットフォームの制限の回避に関する懸念がすぐに明らかになります。</p>


  <ul>
   <li>10,000 台の VM を管理する方法 それらをカウントする方法はありますか?</li>
   <li>データの元は何ですか。10,000 件の同時ダウンロードの負荷を処理できますか?</li>
   <li>プロセスが完了したとどうして分かっているでしょうか。</li>
   <li>クラウドでは、1 つのリージョンに 10,000 台の VM を提供できますか?</li>
   <li>プロビジョニングしてスケールに達するまでにどのくらいの時間が必要ですか?</li>
  </ul>


  <p>次のセクションでは、さまざまなサービスを使用して実装され、次の目標で以前に発生した質問に取り組むロード テスト シナリオについて説明します。</p>


  <ul>
   <li>Azure のクライアント マシン (VM) を使用して、他のデータセンターにあるバックエンド サービスにストレスを生み出します。</li>
   <li>HTTP POST を使用してプロセスをトリガーします。</li>
   <li>時間の間に古くなっている可能性がある手動の手順、前提条件、カスタム イメージは避ける。</li>
   <li>フルスケール クラスターに到達するまでの最小時間。</li>
  </ul>


  <h2>ソリューションの概要</h2>


  <ul>

  </ul>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/e00e3aa5-a240-47e2-b8a2-cf506106d4cd.png"><img alt="Load-test scenario implementaed using various servies flow chart" border="0" height="506" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/7fef0484-55d6-4f6f-be63-a809fc0d09b4.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="さまざまなサービスフロー チャートを使用して実装されたロード テスト シナリオ" width="800"></a><br>

  ソリューションのすべての詳細&ldquo;については、ブログ記事「To Infinity and Beyond 」(無限大とそれ以降) (または「Azure で 10,000 台の VM をスケーリングする決定版ガイド」) を参照してください。&rdquo;ソリューション コードと<a href="https://github.com/balteravishay/buzz" target="_blank">デプロイ スクリプトは、次のページGitHub</a>。</p>
