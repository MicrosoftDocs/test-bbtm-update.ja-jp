### YamlMime:Yaml
ms.openlocfilehash: 45003affce58efcca7e246ccd46586b71aa58e6c
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139896598"
Slug: azure-container-registry-preview-of-diagnostics-and-audit-logs
Title: 'Azure Container Registry: 診断ログと監査ログのプレビュー'
Summary: このAzure Container Registryチームは、UserVoice の上位項目の 1 つである監査ログのプレビューを発表します。 このリリースでは、レジストリ ログの診断と監査の評価Azure portalログを有効にする新しいコマンド ライン インターフェイス (CLI) エクスペリエンスが追加されました。
Content: >-
  <p>監査Azure Container Registry、&ndash;<a href="https://feedback.azure.com/forums/903958-azure-container-registry/suggestions/34222399-expose-acr-audit-logs-to-enduser" target="_blank">UserVoice</a> の上位項目の 1 つが監査ログのプレビューを発表します。 このリリースでは、レジストリ ログの診断と監査の評価Azure portalログを有効にする新しいコマンド ライン インターフェイス (CLI) エクスペリエンスが追加されました。</p>


  <p>この機能を使用すると、レジストリに関連するすべてのユーザー駆動型アクティビティの監査証跡を提供することで、コンテナー レジストリを監視できます。 これらのログには、認証、ログインの詳細、リポジトリ レベルのアクティビティ、その他のユーザー駆動型イベントに関連する情報が含まれます。 これらのログに加えて、Azure には、レジストリに<a href="https://docs.microsoft.com/en-us/azure/azure-monitor/platform/activity-logs-overview" target="_blank"></a>対するサービス正常性や他の Azure 管理操作など、さまざまな Azure Resource Manager 情報を保持する汎用アクティビティ ログも用意されています。</p>


  <p>また、この機能を使用すると、ユーザーはコンテナー レジストリのリソース ログを有効にし、次に関連するコンプライアンスと診断のニーズの一部を容易にするのに役立ちます。</p>


  <ul>
      <li>セキュリティとコンプライアンスに関連する追跡。</li>
      <li>プル、プッシュ イベントなどのレジストリ アクティビティに関連する運用上の問題の診断。</li>
  </ul>


  <p>ただし、レジストリのリソース ログの収集には、既定では有効にされていない追加の手順が必要です。 図 1 は、Log Analytics を有効にするために診断設定を構成する方法を示しています。 ログは次のAzure Monitor表示できますが、最初に Log Analytics ワークスペースに収集する必要があります。</p>


  <p align="center"><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/f980170b-3bd6-4f59-987e-40e6d598343c.png"><em><img alt="A screenshot shoing how to configure diagnostic settings to enable Log Analytics." border="0" height="1038" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/ad4f70a4-2662-4fbb-b850-94595d17430a.png" style="border: 0px currentcolor; border-image: none; display: inline; background-image: none;" title="Log Analytics を有効にするために診断設定を構成する方法を示すスクリーンショット。" width="1026"></em></a></p>


  <p align="center"><em>図 1</em></p>


  <p>ログを収集するための <a href="https://docs.microsoft.com/azure/container-registry/container-registry-diagnostics-audit-logs" target="_blank">診断ワークスペースを</a> 設定し、レジストリ ログを表示するために Azure Monitorを使用するための詳細な手順を確認できます。</p>


  <p><a href="https://docs.microsoft.com/azure/azure-monitor/overview" target="_blank">Azure Monitor</a> は、Azure でリソース ログを表示および視覚化する一貫した手段です。 Log Analytics でログ コレクションが設定された後は、これらのクエリを実行してログ データの表示を開始できます。 図 2 は、サンプル クエリの 1 つを実行する例を示しています。</p>


  <p align="center"><em><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/454d1514-03ef-4902-acad-dff6b1e53a9c.png"><img alt="A screenshot showing an example of running a samply query." border="0" height="538" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/0673f19d-3319-42e2-a89a-f7a9eba7fd9b.png" style="border: 0px currentcolor; border-image: none; display: inline; background-image: none;" title="サンプル クエリの実行例を示すスクリーンショット。" width="1164"></a></em></p>


  <p align="center"><em>図 2</em></p>


  <p>現在のリリースはプレビューであり、今後は、Delete、Untag、Replication などの他のレジストリ イベントに関するログを提供します。 引き続きフィードバックをお寄せください。これらの機能の質問に優先順位を付けるのに役立ちます。</p>


  <h2>可用性とフィードバック</h2>


  <p>プッシュ、プル、ログインのイベント ログは、現在、削除イベント ログとタグ解除イベント ログで使用できます。&nbsp; 常に、製品ロードマップのアイデアだけでなく、既存の機能に関するフィードバックをお寄せください。</p>


  <p>チーム&rsquo;と関わり、フィードバックを提供するために使用できるリソースの一覧を次に示します。</p>


  <ul>
      <li><a href="https://aka.ms/acr/roadmap" target="_blank">ロードマップ</a> - 計画された作業を可視化します。</li>
      <li><a href="https://aka.ms/acr/uservoice" target="_blank">UserVoice</a> - 既存の要求に投票するか、新しい要求を作成します。</li>
      <li><a href="https://aka.ms/acr/issues" target="_blank">問題</a> - 既存のバグと問題を表示するには、新しいバグと問題をログに記録します。</li>
      <li><a href="https://aka.ms/acr/docs" target="_blank">Azure Container Registryドキュメント</a> - 詳細についてはContainer Registryドキュメントを参照してください。</li>
  </ul>
