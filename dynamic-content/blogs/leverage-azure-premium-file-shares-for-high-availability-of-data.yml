### YamlMime:Yaml
ms.openlocfilehash: 33b21b01d3501a7cc6ddd10d9c3513259f954a6c
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139904704"
Slug: leverage-azure-premium-file-shares-for-high-availability-of-data
Title: Azure Premium ファイル共有を活用してデータの高可用性を実現する
Summary: SQL Server Azure 仮想マシンを使用すると、クラウドの機敏性、弾力性、スケーラビリティの利点が、ワークロードにSQL Serverされます。 SQL仮想マシンでは、オペレーティング システム、仮想マシンのサイズ、記憶域サブシステム、およびワークロードに必要な管理のレベルを完全に制御できます。
Content: >-
  <p><em>この投稿は、Mike Emard Principal Program Manager によって共同作成されました。Azure Storage。&nbsp;</em></p>


  <p><a href="https://azure.microsoft.com/en-us/services/virtual-machines/sql-server/" target="_blank">SQL Server Azure 仮想マシンを使用</a>すると、クラウドの機敏性、弾力性、スケーラビリティの利点が、ワークロードSQL Serverされます。 &nbsp;SQLオペレーティング システム&nbsp;&nbsp;&nbsp;、仮想マシンサイズ、ストレージ サブシステム、およびワークロードに必要な管理のレベルを完全に制御する仮想マシンオフ。 <a href="https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sql/virtual-machines-windows-sql-server-iaas-overview#get-started-with-sql-vms" target="_blank">構成済みの SQL Serverイメージには</a> <a href="https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sql/virtual-machines-windows-sql-automated-backup-v2" target="_blank">&nbsp; </a> Azure Marketplace自動バックアップや自動修正SQL Serverなど、<a href="https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sql/virtual-machines-windows-sql-server-iaas-overview" target="_blank"></a>管理性に関する無料の利点<a href="https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sql/virtual-machines-windows-sql-automated-patching">が付属しています</a>。 Azure 仮想マシンに SQL Server を自己インストールする場合は、SQL 仮想マシンリソース プロバイダーに登録して、<a href="https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sql/virtual-machines-windows-sql-register-with-rp?branch=pr-en-us-80472&amp;tabs=azure-portal" target="_blank">SQL&nbsp;&nbsp;</a> Marketplace イメージと簡素化されたライセンス管理で利用できるすべての利点を得ることができます。<a href="https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sql/virtual-machines-windows-sql-ahb?tabs=azure-portal" target="_blank"></a></p>


  <p>Microsoft では、99.95%&nbsp; の可用性 SLA を提供しています。この <a href="https://azure.microsoft.com/en-us/support/legal/sla/virtual-machines/v1_8/" target="_blank">SLA</a> は、仮想マシンが接続されていないSQL Server。 Azure&nbsp;&nbsp; 仮想マシンで SQL Server 高可用性を実現するには、少なくとも 2 つの仮想マシンインスタンスを可用性セット (99.95% で可用性) または異なる可用性ゾーン (99.99% で可用性) でホストし、<a href="https://docs.microsoft.com/sql/database-engine/availability-groups/windows/always-on-availability-groups-sql-server" target="_blank">Always On 可用性グループ</a> やフェールオーバー クラスター インスタンスなどの SQL Server の高可用性機能を構成する必要があります。<a href="https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sql/virtual-machines-windows-portal-sql-create-failover-cluster-premium-file-storage" target="_blank"></a></p>


  <p>現在、Azure Premium ファイル共有を使用した SQL Server フェールオーバー クラスター SQL Server高可用性を実現する新しいオプション<a href="https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sql/virtual-machines-windows-portal-sql-create-failover-cluster-premium-file-storage" target="_blank">を発表します</a>。 <a href="https://docs.microsoft.com/en-us/azure/storage/files/storage-files-planning#file-share-performance-tiers" target="_blank">プレミアム</a> ファイル共有は、Windows Server 2012 以上の SQL Server フェールオーバー クラスター インスタンスで SQL Server フェールオーバー クラスター インスタンスで使用するために完全にサポートされている、ソリッドステート ドライブをベースにした一貫した低待機時間のファイル共有です。</p>


  <h2>Azure Premium ファイル共有は、フェールオーバー クラスター インスタンスに対して次SQL Server利点を提供します</h2>


  <h4>簡単な管理</h4>


  <ul>
      <li>ファイル共有は Azure によって完全に管理されます。&nbsp;</li>
      <li>&nbsp;<a href="https://docs.microsoft.com/en-us/azure/storage/files/storage-how-to-create-premium-fileshare">プロビジョニングは非常に簡単です。&nbsp;</a></li>
      <li>&nbsp;共有の プロパティを設定して、ダウンタイムをゼロにすることで容量のサイズを数秒で変更します。 データベースの拡大に応じてストレージ容量を増やすのは単純であり、使用できなくなるので、多くの追加ストレージを前もってプロビジョニングする必要はありません。</li>
      <li>&nbsp;共有のサイズを変更して、ダウンタイムを発生なくして、1 秒あたりの入出力 (IOPS) を秒で増やします。 Premium 共有のサイズを増やして、ワークロードに必要な IOPS を取得します。&nbsp;</li>
      <li>&nbsp;季節的なワークロードでは、IOPS を一時的に増やし、サイズを大きくするほど簡単にサイズを変更できます。 繰り返しますが、ダウンタイムはゼロです。&nbsp;</li>
  </ul>


  <h4>仮想マシンの作業を削減する</h4>


  <ul>
      <li>&nbsp;入力または出力はマネージド ファイル共有にオフロードされ、より小さく、低コストの仮想マシンを使用できる可能性があります。&nbsp;</li>
  </ul>


  <h4>バースト可能&nbsp;な入力または出力容量</h4>


  <ul>
      <li>&nbsp;プレミアム共有 (PFS) は、クレジット システムに基づいて IOPS 容量の自動バーストを上限まで提供します。 ワークロードに不定期のバーストが必要&nbsp;な場合は、この無料で完全に自動化された入力容量または出力容量を活用する必要があります。 詳細については <a href="https://docs.microsoft.com/en-us/azure/storage/files/storage-files-planning#provisioned-shares" target="_blank">、Premium ファイルのプロビジョニングとバーストに関する</a> ドキュメントに従ってください。</li>
  </ul>


  <h4>ゾーン冗長</h4>


  <ul>
      <li>&nbsp;<a href="https://docs.microsoft.com/en-us/azure/storage/common/storage-redundancy-zrs#support-coverage-and-regional-availability" target="_blank">一部のリージョンで使用できるゾーン冗長ストレージ</a>。 SQL Server&nbsp; failovercluster&nbsp;&nbsp;&nbsp; インスタンスを 1 つの&nbsp;&nbsp;可用性ゾーンにデプロイし、別のゾーンに別の可用性ゾーンをデプロイして、コンピューティングとストレージの両方で 99.9%&nbsp; の可用性を実現できます。</li>
  </ul>


  <p>Premium ファイル共有は、多くのワークロードのニーズを満たす IOPS とスループット容量を提供します。 ただし、入力または出力の負荷が高いワークロードの場合は、マネージド Premium ディスクまたは ultra-disks に<a href="https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sql/virtual-machines-windows-portal-sql-create-failover-cluster" target="_blank">SQL Server</a>記憶域<a href="https://docs.microsoft.com/en-us/azure/virtual-machines/windows/disks-types#premium-ssd" target="_blank"></a>スペースダイレクトを使用してフェールオーバー クラスター インスタンスを作成する<a href="https://docs.microsoft.com/en-us/azure/virtual-machines/windows/disks-types#ultra-disk" target="_blank">方法を検討してください</a>。 移行を開始する前に、現在の環境の IOPS アクティビティを確認し、Premium ファイルによって必要な IOPS が提供されるのを確認する必要があります。 <a href="https://blogs.technet.microsoft.com/askcore/2012/03/16/windows-performance-monitor-disk-counters-explained/" target="_blank">Windows パフォーマンス モニター カウンター</a>を使用し、SQL Server データ、ログ、一時データ ベース ファイルに必要な合計 IOPS (1 秒あたりのディスク転送数) とスループット (1 秒あたりのディスク バイト数) を監視します。 多くのワークロードにはバースト入力または出力があります。そのため、使用率の高い期間中に確認し、最大 IOPS と平均 IOPS を確認してください。 Premium ファイル共有は、共有のサイズに基づいて IOPS を提供します。 プレミアムファイルでは&nbsp;、バースト機能が無料で提供されます。このバーストでは、入力または出力をバーストして、ベースライン量を最大 1 時間の 3 倍にできます。</p>


  <p><a href="https://docs.microsoft.com/en-us/azure/virtual-machines/windows/sql/virtual-machines-windows-portal-sql-create-failover-cluster-premium-file-storage" target="_blank">Azure Premium</a> ファイルを使用して SQL フェールオーバー クラスター インスタンスを構成するためのステップ バイ ステップ ガイドを使用して、現在 PFS で SQL Server フェールオーバー クラスター インスタンスを構成し、Azure が提供する新しいテクノロジとイノベーションを活用して SQL Server ワークロードを最新化します。 UserVoice を使用してフィードバック <a href="https://aka.ms/sqlfeedback" target="_blank">を共有してください</a>。 皆様のご意見をお待ちしております。</p>
