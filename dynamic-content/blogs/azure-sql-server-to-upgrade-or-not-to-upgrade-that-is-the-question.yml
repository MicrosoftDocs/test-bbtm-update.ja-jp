### YamlMime:Yaml
ms.openlocfilehash: 19bfc04dc9c85c64bec7950163cfa9c6292a2c4b
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139910916"
Slug: azure-sql-server-to-upgrade-or-not-to-upgrade-that-is-the-question
Title: 'Azure SQL Server: アップグレードするかアップグレードしないか、それが問題です'
Summary: サーバーのバージョンを管理SQL、Azure にアップグレードして移行する場合、お客様と同じ課題の多くが直面します。
Content: >-
  <p>Cloud + Enterprise 内の Data Platform の Engineering Services チームの一部として、SQL サーバーのバージョンの管理、Azure へのアップグレード、および移行に関して、お客様と同じ課題に直面しています。</p>


  <p>今年の初めに、サービスを一目見ていました。 そのうちの数十、古い実行、新しい実行を行いました。 レガシ サービスに関して言うまで、何年も触れていなき、2000 年から 2005 年までさかのぼって SQL サーバー バージョンで実行していたものがありました。 そのため、サービスがうまく動作していたので、それらを触れるのを恐れ、アップグレードに必要な時間を費やしたくなかったのです。 ただし、待つ時間が長くなるほど、困難になります。 使い慣れたように聞こえますか?</p>


  <p>3 月に戻り、実稼働環境で使用していた約 150 のデータベースをアップグレードすることを決定しました。 最新バージョンを使用して、そのイノベーションの恩恵を受け、クラウドの弾力性を活用したいと考えています。 ワークフローに応じて、さまざまなオプションを使用しました。 その約半分について、サービスとしてのデータベース モデルをSQL Azureに移行しました。 その約 30% について、サービスとしてのインフラストラクチャ モデルをSQL Azure VM モデル上の仮想マシンを使用しました。 残りは進行中の作業です。</p>


  <p>IAAS ソリューションでは、D4 VM にデータベースを統合しました。 運用コストを削減し、独自のサービスを開発SQL、バグが運用に出荷されるのを防ぐ。 ダウンタイムを発生なく、3 時間以内に 40 データベースを毎月アップグレードすることで、最新の機能にアクセスできます。</p>


  <p>アップグレードの前と後に、いくつかのワークフローでパフォーマンスの問題が発生しました。これは、クエリ プランの選択とパフォーマンスに関する分析情報を提供する新しい <a href="https://msdn.microsoft.com/en-US/library/dn817826.aspx">クエリ ストア</a> を使用して迅速に改善する機能でした。 クエリ プランの変更によって発生するパフォーマンスの違いをすばやく見つけ出し、トラブルシューティングを簡単に行えます。 この機能では、クエリ、プラン、およびランタイム統計の履歴が自動的にキャプチャされ、レビューのために保持されます。 タイム ウィンドウごとにデータが分離され、データベースの使用パターンを確認し、サーバーでクエリ プランの変更がいつ発生したのかを把握できます。 フライト レコーダーと同様に、詳細な分析情報が得られるので、クエリのパフォーマンスを継続的に向上させることができます。</p>


  <p>次に、テスト データに <a href="https://msdn.microsoft.com/en-us/library/dn935011.aspx">stretchDB</a> を使用します。 何年ものテスト実行結果を保持し、クエリや既存のアプリを変更することなく、古いデータにアクセスしながら、より新しいデータに対する一般的な毎日のクエリを大幅に最適化および改善することができます。</p>


  <p>もう一度行う必要がある場合は、気を使わずに行います。 ダウンタイムなしで、毎月新しい機能にアクセスできます。 システムの安定性が高く、最適化されています。 そのため、次の質問に答えます。アップグレードする場合は、"はい" と答え、&#39;しないようにしました。 答えは何ですか?</p>


  <p><a href="https://www.microsoft.com/en-us/server-cloud/products/sql-server-2016/">2016 SQL Server 年 2016 年プレビューの</a>最新バージョンを確認し、<a href="https://azure.microsoft.com/en-us/services/virtual-machines/sql-server/">VM SQL Serverを実行します</a>。</p>
