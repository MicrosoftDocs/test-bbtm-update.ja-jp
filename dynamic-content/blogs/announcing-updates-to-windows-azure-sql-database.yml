### YamlMime:Yaml
ms.openlocfilehash: 10893b08d4cd3cc586df2cfb537e7dcc9b659051
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139896643"
Slug: announcing-updates-to-windows-azure-sql-database
Title: 更新プログラムのWindows Azure SQL Database
Summary: 新しいサービス更新プログラムが、追加の機能を提供する新しいサービス更新プログラムWindows Azure SQL Database最近デプロイ&nbsp;されました。具体的には、次の新機能があります。
Content: "<p>新しいサービス更新プログラムが新しいサービス更新プログラムを追加機能を提供する <a target=\"_blank\" href=\"https://www.windowsazure.com/en-us/home/features/data-management/?WT.mc_id=cmp_pst001_blg_post0205sql\">Windows Azure SQL Database最近デプロイ</a>&nbsp;されました。具体的には、次の新機能が利用できます。</p>  <ul>  <li>  <p>SQL Serverに対するリンク サーバーおよび分散クエリのWindows Azure SQL Database。</p>  </li>  <li>再帰トリガーは、次のWindows Azure SQL Database。</li>  <li>DBCC SHOW_STATISTICSは、このバージョンでサポートWindows Azure SQL Database。</li>  <li>データベース レベルでWindows Azure SQL Databaseファイアウォール規則を構成する機能。</li>  </ul>  <h4><b>SQL Serverに対するリンク サーバーおよび分散クエリのWindows Azure SQL Database</b></h4>  <p>これで、リンク サーバーとして Windows Azure SQL Databaseを追加し、オンプレミスデータベースとクラウド データベースにまたがる分散クエリで使用できます。 これは、オンプレミスの企業ネットワークと Azure クラウドのネットワークにまたがるデータベース ハイブリッド ソリューションWindowsコンポーネントです。 &nbsp;</p>  <p>SQL Server製品には、 という機能が含まれている&ldquo;&rdquo;リンク サーバーとして定義されたリモート ソース (SQL Server 以外のデータ ソースからのデータを含む) からのデータとローカル データ ソースからのデータを結合するクエリを作成できる分散クエリ。 以前Windows Azure SQL Databases&rsquo; では分散クエリがネイティブでサポートされ、ODBC から OLEDB へのプロキシを使用する必要がありましたが、これはパフォーマンス上の理由から推奨されていませんでした。 Azure Windows データベースを分散クエリSQL使用できると発表&ldquo;します&rdquo;。 実際には、(仮想マスターを除く) すべての単一の Windows Azure SQL Database を個々のリンク サーバーとして追加し、他のデータベースとしてデータベース アプリケーションで直接使用できます。</p>  <p><img src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/2677.SQLDB1.png\" alt=\"\" border=\"0\"></p>  <p>アプリケーションを使用する利点Windows Azure SQL Database、高可用性、スケーラビリティ、使い慣れた開発モデルの使用、リレーショナル データ モデルなどです。 データベース アプリケーションの要件は Windows、クラウド内の Azure SQL データベースを使用する方法を決定する上で重要な役割を果たします。 すべてのデータを一度に Window Azure SQL データベースに移動したり、残りのデータをオンプレミスに保持しながら一部のデータを段階的に移動することができます。 このようなハイブリッド データベース アプリケーションでは、Windows Azure SQL データベースをリンク サーバーとして追加できます。また、データベース アプリケーションは分散クエリを発行して、Windows Azure SQL データベースとオンプレミスのデータ ソースからのデータを結合できます。</p>  <p>&nbsp;分散&rsquo;クエリを使用してアプリケーションに接続する方法を説明するWindows Azure SQL Database例を次に示します。</p>  <table rules=\"all\" frame=\"border\" style=\"border-color: #000000; border-width: 0px; border-style: solid;\" border=\"0\" cellpadding=\"5\">  <tbody>  <tr>  <td>  <p><span style=\"color: #008000;\">------リンク サーバーを構成する</span><br><span style=\"color: #008000;\">-- Azure SQB DB Windowsリンク サーバーとして 1 つ追加する</span><br><span style=\"color: #0000ff;\">EXEC</span> <span style=\"color: #800000;\">sp_addlinkedserver</span><br><span style=\"color: #008080;\">@server<span style=\"color: #000000;\">=</span></span><span style=\"color: #ff0000;\">'myLinkedServer'</span><span style=\"color: #008000;\">, -- ここでは、リンク サーバーの名前を指定できます</span><br><span style=\"color: #008080;\">@srvproduct<span style=\"color: #000000;\">=</span></span><span style=\"color: #ff0000;\">''</span>, &nbsp; &nbsp;&nbsp;<br><span style=\"color: #008080;\">@provider<span style=\"color: #000000;\">=</span></span><span style=\"color: #ff0000;\">'sqlncli'</span><span style=\"color: #008000;\">, -- ネイティブ クライアントSQL Server使用</span><br><span style=\"color: #008080;\">@datasrc<span style=\"color: #000000;\">=</span></span><span style=\"color: #ff0000;\">'myServer.database.windows.net'</span>,<span style=\"color: #008000;\"> &nbsp; -- ここにサーバー名を追加します</span><br><span style=\"color: #008080;\">@location<span style=\"color: #000000;\">=</span></span><span style=\"color: #ff0000;\">''</span>,<br><span style=\"color: #008080;\">@provstr<span style=\"color: #000000;\">=</span></span><span style=\"color: #ff0000;\">''<span style=\"color: #000000;\">,</span></span><br><span style=\"color: #008080;\">@catalog<span style=\"color: #000000;\">=</span></span><span style=\"color: #ff0000;\">'myDatabase'</span>&nbsp;<span style=\"color: #008000;\">-- ここにデータベース名を初期カタログとして追加します (master データベースには接続できません)</span></p>  <p><span style=\"color: #008000;\">-- このリンク サーバーに資格情報とオプションを追加する</span><br><span style=\"color: #0000ff;\">EXEC</span> <span style=\"color: #800000;\">sp_addlinkedsrvlogin</span><br><span style=\"color: #008080;\">@rmtsrvname <span style=\"color: #000000;\">=</span></span> <span style=\"color: #ff0000;\">'myLinkedServer'</span>,<br><span style=\"color: #008080;\">@useself <span style=\"color: #000000;\">=</span></span> <span style=\"color: #ff0000;\">'</span><span style=\"color: #ff0000;\">false'</span>、<br><span style=\"color: #008080;\">@rmtuser <span style=\"color: #000000;\">=</span></span> <span style=\"color: #ff0000;\">'myLogin'</span>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style=\"color: #008000;\">-- Azure DB でログインをここに追加します</span><br><span style=\"color: #008080;\">@rmtpassword <span style=\"color: #000000;\">=</span></span> <span style=\"color: #ff0000;\">'myPassword'</span> <span style=\"color: #008000;\">-- Azure DB にパスワードをここに追加します</span><br><span style=\"color: #0000ff;\">EXEC</span> <span style=\"color: #800000;\">sp_serveroption</span> <span style=\"color: #ff0000;\">'myLinkedServer'</span>, <span style=\"color: #ff0000;\">'rpc out'</span>,<span style=\"color: #008080;\"> true;</span></p>  <p><span style=\"color: #008000;\">------リンク サーバーを使用して 4 部構成のクエリを実行できます</span><br><span style=\"color: #008000;\">-- Azure DB で新しいテーブルを作成できます<br></span><span style=\"color: #0000ff;\"></span> <span style=\"color: #008080;\">myLinkedServer</span> <span style=\"color: #ff0000;\">CREATE TABLE exec ('CREATE TABLE t1tutut2(col1 int not null CONSTRAINT PK_col1 PRIMARY KEY CLUSTERED (col1) )'</span>)</p>  <p>  <p>  <p>  <p><span style=\"color: #008000;\">-- ローカル データ からデータを挿入SQL Server</span><br><span style=\"color: #0000ff;\">exec</span> (<span style=\"color: #ff0000;\">'INSERT INTO t1tutut2 VALUES(1),(2),(3)'</span>) <span style=\"color: #008080;\">at myLinkedServer</span><br>&nbsp;<br><span style=\"color: #008000;\">-- 4 部の名前を使用してデータのクエリを実行する</span><br><span style=\"color: #0000ff;\">選択</span> <span style=\"color: #333333;\">*</span><span style=\"color: #0000ff;\">from</span> <span style=\"color: #008080;\">myLinkedServer.myDatabase.dbo.myTable</span></p>  <p>  </td>  </tr>  </tbody>  </table>  <p>リンク サーバーと分散クエリの詳細については、こちらを参照 <a target=\"_blank\" href=\"https://technet.microsoft.com/en-us/library/ms188279.aspx\">してください</a>。</p>  <h4><b>再帰トリガー</b></h4>  <p>特定のデータベースに対してこのオプションが on (Default) に設定されている場合、トリガーはそれ自体を再帰的に呼び出す可能性があります。&nbsp;2012 SQL Server同様に、次のクエリを使用してオプションを構成できます。</p>  <p><span style=\"color: #0000ff;\">ALTER DATABASE</span> YOURDBNAME <span style=\"color: #0000ff;\">SET RECURSIVE_TRIGGERS ON|OFF</span>;</p>  <p>再帰トリガーの詳細については、<a target=\"_blank\" href=\"https://msdn.microsoft.com/en-us/library/ms190739.aspx\">2012</a> 年SQL Serverオンライン トピックを参照してください。</p>  <h4><b>DBCC SHOW_STATISTICSサポートされました</b></h4>  <p>DBCC SHOW_STATISTICS では、テーブルまたはインデックス付きビューについての、現在のクエリの最適化に関する統計を表示します。 クエリ オプティマイザーでは、統計を使用してクエリ結果のカーディナリティや行数を推定することで、高品質のクエリ プランを作成できます。 &nbsp;たとえば、クエリ オプティマイザーでは、カーディナリティ推定を使用して、クエリ プランのインデックス スキャン演算子の代わりにインデックス シーク演算子を選択し、リソースを大量に消費するインデックス スキャンを回避することでクエリのパフォーマンスを向上させることができます。詳細については、こちらをクリック<a target=\"_blank\" href=\"https://msdn.microsoft.com/en-us/library/ms174384.aspx\">してください</a>。</p>  <h4><b>データベース レベルでSQL Databaseファイアウォール規則を構成する機能</b><b></b></h4>  <p>以前Windows Azure SQL Databaseファイアウォール規則は、管理ポータルまたは T-SQL コマンドを使用して、サーバー レベルでのみ設定できます。 これで、同じ論理サーバーでホストされているデータベースごとに異なる規則を使用して、ファイアウォール規則をさらに詳細なデータベース レベルで設定SQL Databaseできます。&nbsp;詳細については、こちらをクリック<a target=\"_blank\" href=\"https://msdn.microsoft.com/en-us/library/windowsazure/ee621782.aspx\">してください</a>。&nbsp;</p>  <p>これらの機能に関する質問や技術情報については、MSDN サポート フォーラムのSQL Database<a target=\"_blank\" href=\"https://social.msdn.microsoft.com/Forums/en-US/ssdsgetstarted/threads\">投稿してください</a>。</p>"
