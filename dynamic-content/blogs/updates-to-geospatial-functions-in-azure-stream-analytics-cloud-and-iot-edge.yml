### YamlMime:Yaml
ms.openlocfilehash: 5dbedcb94db3a4102c84d75545427e8ed8fe0634
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139910269"
Slug: updates-to-geospatial-functions-in-azure-stream-analytics-cloud-and-iot-edge
Title: クラウドと IoT エッジのAzure Stream Analytics地理空間機能の更新
Summary: Azure Stream Analyticsは、デバイスやアプリケーションからのテレメトリに対してリアルタイム分析と複雑なイベント処理ロジックを実行するのに役立つ、フル マネージドの PaaS サービスです。 Stream Analytics で使用できる多数の組み込み関数を使用すると、ユーザーは簡単に簡単にSQL言語を使用してリアルタイム アプリケーションを構築できます。
Content: >-
  <p>Azure Stream Analyticsは、デバイスやアプリケーションからのテレメトリに対してリアルタイム分析と複雑なイベント処理ロジックを実行するのに役立つ、フル マネージドの PaaS サービスです。 Stream Analytics で使用できる多数の組み込み関数を使用すると、ユーザーは簡単に簡単にSQL言語を使用してリアルタイム アプリケーションを構築できます。 これらの機能を使用することで、顧客は、フリート監視、コネクテッド カー、モバイル資産の追跡、ジオフェンスの監視、乗車の保有などのシナリオに対する強力なアプリケーションをすばやく実現できます。</p>


  <p>今日は、地理空間機能のいくつかの機能強化をお知らせします。 これらの機能を使用すると、お客様は、以前の可能な限り、より大規模な一連のモバイル資産と車両車両を簡単に、正確かつコンテキスト的に管理できます。 これらの機能は、クラウドとエッジの両方Azure IoTできます。</p>


  <p>新機能の簡単な説明を次に示します。</p>


  <h2>地理空間インデックス作成</h2>


  <p>&lsquo;&lsquo;&rsquo;以前は、m&rsquo; 数のジオフェンス参照データ ポイント間でストリーミング データ内の n つの数の資産を追跡するために、地理空間コンテキストでは、すべてのストリーミング イベントを含むすべての参照データ エントリのクロス結合に変換されたため、O(n*m) 操作が発生しました。 これは、お客様が何百ものサイトで何千もの資産を管理する必要があるシナリオで、スケールの問題を示しました。</p>


  <p>この制限に対処するために、Stream Analyticsクエリでの地理空間データのインデックス作成がサポートされます。 インデックスが作成された場合、地理空間データはストリーミング イベントと結合されます。 すべてのストリーミング イベントと参照データのクロス結合を生成する代わりに、地理空間オブジェクトの参照データを使用してインデックスが作成され、すべての参照はインデックスを使用して最適化されます。 これにより、O(n * log m) に対する参照データ参照が高速になります。これにより、以前に可能だったよりも大きさの高いスケールがサポートされます。</p>


  <h2>WKT 形式のサポート</h2>


  <p>GeoJSON は、単純な地理的特徴と、その非空間属性を表す目的で設計されたオープンな標準JavaScript Object Notation。 以前は、Azure Stream Analytics、GeoJSON 仕様で定義されていないすべての型のサポートが拡張されていませんでした。 その結果、ユーザーは一部の地理空間オブジェクトを正常にエクスポートして、そのオブジェクトを Stream Analytics。</p>


  <p>このギャップを解決するために、WKT 地理空間形式の完全なサポートを追加Stream Analytics。 この形式は Microsoft SQL Server でネイティブにサポートされています。そのため、参照データで簡単に使用して、特定の地理空間エンティティまたは属性を表します。 これにより、ユーザーは簡単にデータを WKT にエクスポートし、各エントリを nvarchar(max) として追加できます。</p>


  <h2>ジオメトリ ベースの計算</h2>


  <p>以前は、Stream Analytics投影の可能性のない地理的計算を実装しました。 つまり、ユーザーは投影された座標をイングレスし、計算がジオメトリックプロジェクションに従う必要があります。 残念ながら、多くの場合、計算は geography に基づいており、プロジェクションを無視していたので、出力は期待と一致しません。</p>


  <p>ユーザーがこの制限を克服し、完全に忠実に投影された計算を可能にするために、地理的なベースの計算から、ジオメトリック計算に移行します。 つまり、開発者は以前と同じ関数を使用して投影された地理座標を入力できますが、出力では投影プロパティが保持されます。 しかし、ST_DISTANCE関数は引き続き geography 上の唯一の関数になります。</p>


  <h2>概要今日</h2>


  <p>この&rsquo;サイトで地理空間関数 <a href="https://docs.microsoft.com/en-us/azure/stream-analytics/stream-analytics-geospatial-functions">を</a> 試してみAzure Stream Analytics。 この新機能を試す場合は、ジョブの互換性レベルを 1.2 に設定し、ドキュメント <a href="https://docs.microsoft.com/azure/stream-analytics/geospatial-scenarios">に記載されているチュートリアルを参照してください。</a></p>
