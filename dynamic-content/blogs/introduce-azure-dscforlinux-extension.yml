### YamlMime:Yaml
ms.openlocfilehash: b7bcdcf298bb7eace3f209eff3c81ee5c417229c
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139895907"
Slug: introduce-azure-dscforlinux-extension
Title: Azure DSCForLinux 拡張機能の紹介
Summary: このトピックでは、新しい Azure VM Extension-DSCForLinux拡張機能について説明し、DSCForLinux 拡張機能の主な機能について説明します。
Content: "<p>現在、azure 内の <a href=\"https://blogs.msdn.com/b/powershell/archive/2014/08/07/introducing-the-azure-powershell-dsc-desired-state-configuration-extension.aspx\">Azure PowerShell VM</a> の構成を管理Desired State Configuration DSC (Desired State Configuration Windows) 拡張機能を既に使用している可能性があります。 Linux VM の構成を管理するのと同じ方法をお探しですか?</p>\n\n<p>数か月前に、Microsoft は linux <a href=\"https://technet.microsoft.com/en-us/library/mt126211.aspx\">Windows PowerShell Desired State Configuration (DSC) をリリースしました</a>。 本日は&#39;Azure Virtual Machine Extension - DSCForLinux 拡張機能をお知らせします。これにより、Azure の DSC for Linux を使用して Linux&nbsp; VM の構成を管理できます。 これで、Linux 用 DSC を簡単にインストールし、この拡張機能を使用して LINUX VM に MOF 構成をプッシュできます。 DSCForLinux 拡張機能の最新バージョンは 1.0 であり、GitHub場所はここ<a href=\"https://github.com/Azure/azure-linux-extensions/tree/master/DSC\">です</a>。 DSCForLinux 拡張機能で実行できる正確な操作を次に示します。</p>\n\n<ul>\n    <li>Linux VM への MOF 構成のプッシュ (プッシュ モード)</li>\n    <li>プル サーバーを使用して Linux VM に MOF 構成を配布する (プル モード)</li>\n    <li>カスタム DSC モジュールを Linux VM にインストールする (インストール モード)</li>\n    <li>Linux VM へのカスタム DSC モジュールの削除 (削除モード)</li>\n</ul>\n\n<p>DSCForLinux 拡張機能は、 と PowerShell の両方Azure CLI使用できます。 準備がAzure CLI<a href=\"https://azure.microsoft.com/documentation/articles/xplat-cli/\">場合は、</a>ここで <a href=\"https://azure.microsoft.com/documentation/articles/powershell-install-configure/\">PowerShell を</a>&rsquo;設定します。</p>\n\n<p>Azure VM 拡張機能を初めて使用する場合は、Azure 仮想マシン拡張機能に関する <a href=\"https://msdn.microsoft.com/en-us/library/azure/dn606311.aspx\">ページを参照してください</a>。 MOF ドキュメントを作成するには、「概要 for <a href=\"https://technet.microsoft.com/en-us/library/mt126211.aspx\">Linux</a> Windows PowerShell Desired State Configuration」および「組み込み Windows PowerShell Desired State Configuration <a href=\"https://technet.microsoft.com/en-us/library/mt126209.aspx\">Resources for Linux」を参照してください</a>。</p>\n\n<p>&rsquo;では、azure ストレージ アカウントの MOF 構成ファイルを、Azure CLI と PowerShell の両方で DSCForLinux 拡張機能を使用して Azure Resource Manager モードで作成された Linux VM に適用する方法の簡単な例を示します。 (その他の使用例やスキーマ ドキュメントなど、詳細なドキュメントについては、 <a href=\"https://github.com/Azure/azure-linux-extensions/blob/master/DSC/\">Github の DSCExtension For Linux に関するページを参照</a>してください)。</p>\n\n<h2>Azure CLI の使用</h2>\n\n<p>1. 次の内容を含むプライベート構成 json ファイル (protected.json) を作成します。</p>\n\n<pre class=\"prettyprint\">\n{    \n  &quot;StorageAccountName&quot;: &quot;&lt;storage-account-name&gt;&quot;,    \n  &quot;StorageAccountKey&quot;: &quot;&lt;storage-account-key&gt;&quot;,    \n  &quot;ContainerName&quot;: &quot;&lt;container-name&gt;&quot;,    \n  &quot;MofFileName&quot;: &quot;&lt;mof-file-name&gt;&quot;\n}</pre>\n\n<p>次の内容を含むパブリック構成 json ファイル (public.json) を作成します。</p>\n\n<pre class=\"prettyprint\">\n{\n  &quot;Mode&quot;: &quot;Push&quot;\n}</pre>\n\n<p>2.次を実行してAzure Resource Managerモードに切り替えます。</p>\n\n<pre class=\"prettyprint\">\n$ azure config mode arm</pre>\n\n<p>3. 次を実行して拡張機能を有効にする:</p>\n\n<pre class=\"prettyprint\">\nazure vm extension set &lt;resource-group-name&gt; &lt;vm-name&gt; DSCForLinux Microsoft.OSTCExtensions &lt;version&gt; --private-config-path protected.json --public-config-path public.json</pre>\n\n<h2>Azure PowerShell の使用</h2>\n\n<p>1.次を実行Azure Resource Managerモードにログインします。</p>\n\n<pre class=\"prettyprint\">\nLogin-AzureRmAccount</pre>\n\n<p>2.次を実行して拡張機能を有効にする:</p>\n\n<pre>\n$rgName = &#39;&lt;resource-group-name&gt;&#39;\n$vmName = &#39;&lt;vm-name&gt;&#39;\n$location = &#39;&lt;location&gt;&#39;\n\n$extensionName = &#39;DSCForLinux&#39;\n$publisher = &#39;Microsoft.OSTCExtensions&#39;\n$version = &#39;&lt;version&gt;&#39;\n\n$privateConfig = &#39;{\n  &quot;StorageAccountName&quot;: &quot;&lt;storage-account-name&gt;&quot;,\n  &quot;StorageAccountKey&quot;: &quot;&lt;storage-account-key&gt;&quot;,\n  &quot;ContainerName&quot;: &quot;&lt;container-name&gt;&quot;,\n  &quot;MofFileName&quot;: &quot;&lt;mof-file-name&gt;&quot;\n}&#39;\n\n$publicConfig = &#39;{\n  &quot;Mode&quot;: &quot;Push&quot;\n}&#39;</pre>\n\n<p>3. MOF ファイルをデプロイする拡張機能を設定します。</p>\n\n<pre>\nSet-AzureRmVMExtension -ResourceGroupName $rgName -VMName $vmName -Location $location `\n  -Name $extensionName -Publisher $publisher -ExtensionType $extensionName `\n  -TypeHandlerVersion $version -SettingString $publicConfig -ProtectedSettingString $privateConfig</pre>\n\n<p>次のドキュメントを使用して、DSCForLinux 拡張機能を使用<a href=\"https://github.com/Azure/azure-linux-extensions/blob/master/DSC/README.md\">してGitHubできます</a>。</p>\n\n<p>DSCForLinux 拡張機能の使用で問題が発生した場合は、こちらから問題を自由に送信 <a href=\"https://github.com/Azure/azure-linux-extensions/issues\">してください</a>。</p>"
