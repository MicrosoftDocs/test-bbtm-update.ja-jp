### YamlMime:Yaml
ms.openlocfilehash: 107c394429698cc5782e7b7151c4d9e2f313c2ca
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139894610"
Slug: advancing-resiliency-threat-modeling-for-large-distributed-systems
Title: 大規模な分散システムの回復性の脅威モデリングを進める
Summary: Azure のすべてのサービス エンジニアリング チームは、何が問題が発生したのか、どのように問題が発生したのか、および関連する停止の顧客への影響をより深く理解するツールとして、事後分析に既に精通しています。 信頼性の向上に関するブログ シリーズの今日の投稿では、事後分析と回復性の脅威モデリング プロセスの進化に向けて取り組む過程に関する分析情報を共有します。
Content: >-
  <p>&ldquo;Azure のすべてのサービス エンジニアリング チームは、何が問題が発生したのか、どのように問題が発生したのか、および関連する停止の顧客への影響をより深く理解するツールとして、事後分析に既に精通<em>しています。&nbsp;&mdash;事後分析プロセスの重要な部分は、すべての関連チームが、同じ種類の停止が再び発生することを防ぐことを目的とした修復項目を作成する点ですが、事後対応型のアプローチでは結果を生み出す可能性がありますが、これは左に移動する必要があります。リスクを明らかにし、その後ではなく、顧客に影響を与える前に、リスクを明らかにしたいと考えました。<a href="https://www.aka.ms/AdvancingReliability" target="_blank"></a>&rsquo;&rsquo;信頼性の向上に関するブログシリーズの今日の投稿では、Azure&nbsp;<strong></strong></em>&rdquo;&mdash; の問題管理チームのプリンシパル プログラム マネージャーである Richie Costtem に対し、事後分析と回復性の向上に向けて取り組む過程に関する分析情報を共有するように求め、モデル化プロセスに取り組んでいます。Mark Russinovich、CTO、Azure</p>


  <hr>

  <p>&nbsp;</p>


  <p>&nbsp;大きなレベルで、私たちの目標は、自己負担や回避可能な停止を回避することですが、さらにすぐに、お客様に影響を与える可能性を可能な限り減らすことが目標です。 このコンテキストでは、サービスが内部と外部の両方で顧客の期待を満たしていない (またはワークロードに悪影響を与える) すべてのインシデントが停止です。 それを回避するには、 <a href="https://azure.microsoft.com/en-us/" target="_blank">リスクが Azure</a> 上の顧客のワークロードに影響を与える前に、リスクを明らかにする方法を改善する必要がありました。 しかし、Azure&mdash;&rdquo;&nbsp;&ldquo;&nbsp; 自体は大規模で複雑な分散システムです。組織が数百のサービスで構成される何千ものソリューションを提供し、それぞれが 5 人から 50 人のエンジニアのチームを持ち、組織の複数の異なる部分に分散され、それぞれが独自のプロセス、ツール、優先順位、目標を持っている場合に、回復性にアプローチする必要がありますか。 回復性の脅威モデリング プロセスをスケールアウトし、これらの個々のリスク評価全体で理由を調整するにはどうすれば良いでしょうか。 これらの課題に対処するために、リアクティブ アプローチとより積極的なアプローチを組み合うには、いくつかの大きな変更が必要でした。</p>


  <h2>体験の開始</h2>


  <p>事前分析パイロット プログラムを使用してシフトを開始しました。 過去の停止を振り返り、ディスカッションを始めるだけでなく、構造を提供するのに役立つアンケートを作成しました。 &mdash;次に、さまざまな目的とアーキテクチャのサービスを選択し、チームと一緒に座り、新しいことを学習し、リスクを特定する上で良く、より良く、プロセスに関するチームからのフィードバックを組み込み、次のチームでもう一度試しました。 最終的に、このプロセスの生産性と影響を高めるのに必要なその他の要素と、質問する適切な質問を明らかにし始めました。 これらの要素の一部は既&nbsp;に存在し、他の要素は、回復性とモデリングに対する一元的なアプローチをサポートするために作成する必要がありました。&nbsp;存在していた多くは、目標を達成した全体的なソリューションへの変更または統合も必要でした。 次に示すのは、アプローチの概要です。また、空間の改善を続けるには、検出した要素が必要でした。</p>


  <h2>継続的で恐れのないリスク ドキュメントの文化を作成しました</h2>


  <p>リスクの場所を見つけるために、大規模な前もって投資する必要があるという気付きがありました。 徹底的な&mdash;&quot;&rsquo;&nbsp;&nbsp;&quot;&quot;&quot;事前分析には時間がかかる貴重な、需要の高いエンジニアの種類の時間です。顧客価値を提供するために緊密なタイムライン内で取り組み、thiskindof&nbsp;&nbsp; エンジニアタイムを行うのをやめかねない。 2 年間にサービスが 1 回しか停止していないにもかかわらず、ソリューションの依存関係チェーンには過去 2 年間に停止が 1 つしか発生していないサービスが他にも数十個あるという理解を得る必要がありました。 要するに、お客様の観点&rsquo;から見ると、2 つ以上の&rdquo;&ldquo;障害が発生しているという点です。</p>


  <p>リスクの低い方は無視しても問題ないというのに、疑念を持つ必要があります。 障害に対するリスク&nbsp;のインベントリを探す、恐れのない、健康状態に着手する必要があります。 残っている問題に関する詳細な議論や、リスクの評価をサポートするプロセスが必要でした。また、何百または数千ものサービスで構成される大規模な組織の複数のサービスで幅広く活用できる一般的なソリューションと軽減策への投資を通知する必要がありました。</p>


  <p>目標は、リスクを&quot;&quot;&nbsp;継続的に検索し、X か月ごとに更新される静的モデルではなく、生きているリスクを持つモデルを持つという点です。 その初期の一連のリスクを見つけるために最初の投資が行われしたら、十分に定義されたプロセスで最新の状態に保つ必要があります。 最初の鍵は、&quot;&quot;&nbsp;私たちの目標と私たちの間の初期投資の動きがどれだけ大きかったかによって、デレーズされるのではありません。 現在の真の利点は、リスク収集がカルチャに組み込み込みであるという利点です。 これにより、さまざまなソースからリスクを収集し、組織のプロセスに組み込む可能性があります。</p>


  <p>では、リスクを特定するプロセスを開始する最適な方法は何でしょうか。</p>


  <h2>リスクを明らかにするために、リアクティブアプローチとプロアクティブ アプローチの両方を使用しました</h2>


  <h3>事後分析プログラムを活用しました</h3>


  <p>リスクを探しながら&nbsp;、過去に何が起こったかを確認し、将来再び何が起こるかの手がかりを探すのが理にかなっています。 この点で重要だったのは、確固た事後分析プログラムでした。 既に、事後分析を分析し、一般的なテーマを探し、より深い分析のためにそれらを示し、投資を通知するチームが既にいました。 彼らの分析は、リスクに対処するのに役立つ品質のプログラムやイニシアチブにチームをルーティングするのに役立っただけでなく、リスクがいかに一般的であるのか見るまで、必要な他の投資の必要性を強調しました。 事後分析から特定されたリスク カテゴリの種類は、まだ発生していないリスクを探す際に焦点領域のサブセットになりました。 ここでは、事後分析が事後分析自体と同じだけであるのは、この記事に書き込む価値があります。</p>


  <h3>私たちは、事後分析品質レビュー プログラムを活用しました</h3>


  <p>事後分析の品質によってその便利性が決されるため、事後分析品質レビュー プログラムに投資しました。 ガイダンスが公開され、トレーニングが&quot;&quot;&nbsp;利用可能にされ、レビュー担当者の大規模なプールは、書き込まれた後の各高い影響の事後分析を評価します。&nbsp;評価が低い、またはより明確さを必要とする事後分析は、作成者に送り返されました。 影響の大きな事後分析は、他のチームのエンジニアや上級リーダーを含む会議で毎週レビューされます。その両方が、適切なアクション プランに関する質問とフィードバックを行います。 このプログラムを使用すると、事後データから学習して行動する能力が大幅に向上しました。</p>


  <p>しかし、リスクの検索を過去に限定できないとわかっていました。</p>


  <h3>事前分析をより積極的に行う方が良くなりました</h3>


  <p>一部のユーザーは、&ldquo;&rdquo;"事前分析" という用語を聞いたことがある可能性があります。これは、障害モード分析 (FMA) と似たプロセスです。</p>


  <p>&nbsp;TheH hypo business Review (<a href="https://hbr.org/2007/09/performing-a-project-premortem" target="_blank">2007</a> 年 9 月、問題 1&nbsp;&ldquo;) によると、事前分析は事後分析とは逆の仮定です。 医療環境の事後分析を使用すると、医療専門家と家族は、患者の死亡の原因を学習&rsquo;できます。 もちろん、患者を除くすべての人が恩恵を受ける。 ビジネス設定の事前分析は、プロジェクトの終わりではなく、プロジェクトの先頭に来て、プロジェクトを取り込むのではなく改善することができます。 プロジェクト チーム の&ldquo;&rdquo;メンバーが何が問題になるかを尋ねらえる一般的な正当なセッションとは異なり、事前分析は、患者が死亡したという仮定に基づいて動作し、何が問題を起こしたのかを尋ねます。 チーム メンバー タスク&rsquo; は、プロジェクトが失敗する最も良い理由を生成&rsquo;します。&rdquo;</p>


  <p>Azure のコンテキストでは、事前予測の目的は、何が問題を起こすかを予測し、潜在的なリスクを特定し、トリガー イベントが停止する前にそれらを軽減または削除する方法です。 黒い鳥をキャッチする方法 <a href="https://www.bing.com/search?q=How+to+Catch+a+Black+Swan%3A+Measuring+the+Benefits+of+the+Premortem+Technique+for+Risk+Identification&amp;cvid=f50e92c95f1a41128032072c88eede4d&amp;aqs=edge..69i57.631j0j1&amp;pglt=2083&amp;FORM=ANNAB1&amp;PC=NMTS" target="_blank">:</a> リスク識別のための事前分析手法の利点を測定する方法に従って、事前分析手法は、より質の高いリスクを特定し、より質の高い変更を提案できます。他の手法と比較して、より効果的なリスク管理手法です。</p>


  <p>事前分析を行うのは非常に困難な取り組みではありません。しかし、適切な人のセットを含める必要があります。 特定の顧客ソリューションについて、そのソリューションに関して最も知識のあるエンジニアを集め、さらに良い方法で、新しいエンジニアが学習できるようしました。 次に、顧客が軽減する必要がある停止が発生しているから、午前 4 時&nbsp;に起こされる可能性がある理由として、可能な限り多くの理由をブレーンストーミングしました。 最初に架空の&ldquo;質問から始め、Imagine休暇中に 2 週間休暇を取り、サービスが停止したという話を聞きました。 その停止の原因を確認する前に、考えられる原因として考えられるものをできる限り多く一覧表示してください。&rdquo; これらのそれぞれは、&nbsp;停止の原因となるトリガー、顧客への影響、発生する可能性を文書化するなどのリスクとしてキャプチャされました。</p>


  <p>リスクを特定&nbsp;した後、リスクに対処するアクション プランを作成する必要がありました。</p>


  <h3>リスク脅威モデル &ldquo;を作成しました&rdquo;</h3>


  <p>事前分析がリスクの検索と恐れのないインベントリである場合、リスク脅威モデルは、アクション プランと組み合わせたものです。 チームが障害モード分析または定期的なリスク レビューを行っている場合、この&nbsp;作業は簡単です。 リスク脅威モデルは、リスクの一覧を受け取り、顧客の負担を軽減するために行う必要があるものに組み込みを行います。</p>


  <p>リスクを特定&nbsp;した後は、適切な修正を共通に理解し、同様のリスクがあるすべての場所でこれらのパターンを使用できる必要がありました。 これらの修正が長期的な &ldquo;場合、お客様に対する可能性や影響を減らすために、その間に何ができるかを自問しました&rdquo;。&nbsp;質問した質問の一部を次に示します。</p>


  <ul>
      <li>トリガーされた場合のリスクを認識するために存在するテレメトリは何ですか?&nbsp;</li>
      <li>これが明日発生した場合は、どうしますか? 最終修正が完了するまで、どのようなガードレールまたはプロセスが配置されていますか?</li>
      <li>この中間軽減策の実行にはどのくらいの時間がかかり、自動化されていますか? 自動化できますか? なぜでしょうか。</li>
      <li>軽減策はテストされていますか?&nbsp;最後にテストしたのがいつですか?</li>
      <li>重要な依存関係に障害が発生した場合など、可能な限り回復性を高め、何を行いましたか? その依存関係を使用して、ガイダンスに従い、最新のライブラリを使用している必要がありますか?</li>
      <li>COGS の増加に対して回復力を高める必要がある場所はありますか?</li>
      <li>コストや複雑さのために、またはリソースを持たないので、どのような軽減策を行っていますか?</li>
  </ul>


  <p>リスク軽減計画は文書化され、一般的なソリューションと一致し、追跡されました。&nbsp;軽減策を示すチームは、必要な軽減策を実装するためにより多くの開発者またはお金が必要だと示した場合、回復性と品質のコンテキストでそれを求めるフォーラムが提供されました。&nbsp;作業項目は、サービスを可能な限り回復力のあるものにするために必要なすべてのタスクに対して作成され、その完了をフォローアップするために文書化したリスクにリンクされています。</p>


  <p>しかし、どうすればリスクが正しく取り込み済みとわかっているのでしょうか。 適切な模倣戦略 &quot;を&quot;&nbsp;知る方法 必要な作業量を減らし、すべてのユーザーがカスタムの方法で同じ問題を解決するのを防ぐにはどうすれば良いでしょうか。</p>


  <h2>すべてのサービスにわたるすべてのリスクの一元化されたリポジトリを作成しました</h2>


  <h3>リスク脅威モデルは、一中心にキャプチャして分析すると、より効果的です</h3>


  <p>すべてのチームが事後分析を行い、事前分析を行い、リスク脅威モデルを作成した後、すべてを個別に文書化した場合、停止の数を減らすことは間違いありません。 しかし、チームが見つけたことを他のチームと共有する方法を持っていないので、リスク データのより広範なパターンを理解する機会を失う可能性がありました。 1 つのサービスのリスクは、多くの場合、他のサービスでもリスクでしたが、何らかの理由で、危険にさらされているすべてのサービスのリスク脅威モデルにはなれなかった。 また、1 つのサービスで未完成の修復やリスクが他のサービスに対するリスクである場合にも気付かされません。 新しいサービスが開始された場合に、このリスクが他の場所に現れるのを防ぐパターンを文書化する機会を失う可能性がありました。 事前分析の範囲を個々のサービス境界に限定するのではなく、特定の顧客シナリオに対して一緒に動作するすべてのサービスで行う必要があるという気付きはありません。 一般的な軽減戦略を提案し、同じ軽減計画を使用して大規模な軽減策に対処するための広範な取り組みに投資する機会を失う可能性がありました。 要するに、サービスの境界を越えて多数の投資を通知する機会が多くなかったと思います。</p>


  <h3>リスクを分類する一般的な方法を実装しました</h3>


  <p>場合によっては、どのような種類のリスクが &quot;見つかっていたかを&quot;&nbsp;理解する必要がある場合がありました。&nbsp;単一障害点でしたか? 調整が不十分に構成されていますか? その結果、焦点を当&ldquo;&rdquo;てたい問題のカテゴリを記述するために使用される、短いタグの階層システムを作成しました。 これらのタグは、事後分析を分析して一般的なパターンを特定し、個々のリスクをマークして、同じカテゴリ内のリスクをより適切に調査して適切なアクション プランを特定するために使用しました。</p>


  <h3>リスク脅威モデルについて定期的にレビューしました</h3>


  <p>完成したリスク脅威モデルを使用すると、上級リーダー、アーキテクト、専用のクロス Azure 品質チームのメンバーなどの前でレビューをスケジュールすることができます。 これらの会議は&nbsp;単なるレビュー以上の結果であり、一般的なソリューション、軽減策、フォローアップ アクションが必要な領域を特定するために、多様なチームとして集う機会を提供しました。 アクション項目が収集され、所有者が割り当てられ、リスクがアクションプランにリンクされたので、この後の手順に従ってチームの進行状況を確認できます。</p>


  <h2>すべてがまとめられています。次のレベルに移動し、数百のサービスに対してこれを実行します。</h2>


  <p>要約すると、リスクを特定して文書化するためのプログラムを単にスピンアップするだけではありませんでした。 この作業を最大限に活用するために適切なプロセスを用意する必要がありました。 多くのプログラムを調整し、他の多くのプログラムを作成していました。 クロスサービスチームのコミュニケーションとコミットメントは、大量に発生していました。</p>


  <p>回復性脅威のモデル化プログラムは、重要な Azure サービスに対して既に多くのメリットを提供しているため、Azure のすべてのサービスに対応するために、このプロセスを拡張します。 ここでは、プロセス、ドキュメント、およびガイダンスを継続的に改良し、過去のリスクに関する議論を利用して新しいリスクに対処します。 &nbsp;そうですね。これは多くの作業であり、シルバーの箇条書きはありませんが、この作業にはさらに多くのリソースを提供していますが、信頼性に関しては、大きく &rdquo; なっていると思わ &ldquo; れます。&nbsp;</p>
