### YamlMime:Yaml
ms.openlocfilehash: c8609ad2c686538f961d25bc184351cc44a67732
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139903503"
Slug: managing-azure-secrets-on-github-repositories
Title: GitHub リポジトリでの Azure シークレットの管理
Summary: 世界中の開発者の数が増えると、プロジェクトをホストするために GitHub が使用され、その多くはオープンソースの作業に GitHub パブリックリポジトリを使用します。 これはコミュニティの強力な機能を活用するための優れた方法ですが、独自の責任があります。 特に、資格情報やその他のシークレットの管理については、
Content: >-
  <p>世界中の開発者の数が増えると、プロジェクトをホストするために GitHub が使用され、その多くはオープンソースの作業に GitHub パブリックリポジトリを使用します。 これはコミュニティの強力な機能を活用するための優れた方法ですが、独自の責任があります。 特に、資格情報やその他のシークレットの管理については、</p>


  <p>Azure シークレットの例としては、パブリックにすることができない認証資格情報などがあります。 これには、パスワード、秘密キー、データベース接続文字列、Azure テナントによって管理されるストレージアカウントキーなどが含まれます。</p>


  <p>Azure では、セキュリティが非常に重要になります。 Azure シークレットは機密と見なされるため、一般公開されてはなりません。 公開されたシークレットを使用すると、オンプレミスの資産とデータだけでなく、Azure サブスクリプション、クラウド資産も侵害される可能性があります。アプリケーションまたはサービスを重大なリスクで配置します。</p>


  <h2>Microsoft Credential Scanner preview</h2>


  <p>Azure では、お客様を保護するために、資格情報のスキャナーが CredScan として実行されます。 credscan は、GitHub 上のすべての着信コミットを監視し、azure サブスクリプション管理証明書や azure SQL 接続文字列など、特定の azure テナントのシークレットを確認します。&nbsp;</p>


  <p>Microsoft &rsquo; 社内では、Azure と microsoft のファーストパーティのサービスとアプリケーションを保護するために、CredScan を開発して利用しています。 今後、GitHub のスキャンにより多くの種類のシークレットのサポートを追加してリリースする予定です。 公開された機密情報のスキャンと識別は、Microsoft によって自動的に行われます。 GitHub 公開されている Azure シークレットの GitHub を Microsoft がスキャンするために、開発者は何もする必要はありませんが、常に警戒し、機密情報を公開しないようにする必要があります。</p>


  <p>次に、credscan を使用した自動化された GitHub スキャンプロセスの概略図を示します。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/4eabbe7e-ef6c-4782-b3cd-3d6f43feba6d.png"><img alt="image" border="0" height="254" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/935886a7-e0f7-45ba-b613-64ca69c308fe.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="絵" width="316"></a></p>


  <p>公開されたシークレットが検出されると、Azure サブスクリプションの所有者は、Microsoft &rsquo; のサイバー防御操作センター (CDOC) からの電子メールで通知を受け取ります。 &nbsp; この電子メールでは、問題が発生しているコミットと、影響を受けるサブスクリプション、資産、シークレットの種類、および露出の修正方法に関するガイダンスをユーザーに通知します。</p>


  <p>スキャナーは、着信コミットに焦点を当てます。 目安として、通知を受け取った場合は、ソースコードに資格情報が追加されている可能性があります。そのため、詳細を確認し、過去のコミットとコミット履歴のレビューを含めるようにしてください。 &nbsp; コードからすべてのシークレットを回転して削除し、Azure Key Vault などの安全な場所に保存します。</p>


  <p>検出が行われてから、顧客アプリケーションと Azure 資産をさらにセキュリティで保護することにより、何千もの顧客に通知されています。 Microsoft では、お客様の努力を切、Azure の安全性を高めることに感謝しています。</p>


  <h2>Remediation</h2>


  <p>公開されたシークレットを削除しても、露出のリスクには対処できないことに注意してください。 シークレットが侵害された可能性があります。ナレッジがあるか、または存在していない可能性があります。 このような理由から、セキュリティ上のリスクを回避するために、すぐにシークレットをローテーションしたり取り消したりする必要があります。</p>


  <p>このリスクを軽減するために推奨される手順を次に示します。</p>


  <ul>
   <li>公開された資格情報をすぐにローテーションする (たとえば、リークした証明書が検出された場合は、証明書を再発行する必要があり、リークした証明書は削除または失効します)。</li>
   <li>必要に応じて新しいシークレットを使用するように構成/アプリを更新します。</li>
   <li>新しいシークレットを Azure Key Vault と GitHub に保存します。</li>
   <li>新しいシークレットを公に共有したり公開したりしないでください。</li>
   <li>公開されたシークレットを削除します。</li>
  </ul>


  <h2>関連情報</h2>


  <p>ハード コーディングされたシークレットを早期に発見してリスクを軽減することは有益ですが、シークレットのチェックインを完全に防止できればさらに良いでしょう。 こうした観点から、Microsoft では、Visual Studio 向けの <a href="https://aka.ms/cd4vs" target="_blank">Microsoft DevLabs 拡張機能</a>の一部として、CredScan コード アナライザーをリリースしています。 早期プレビュー段階ではありますが、開発者はこのツールを使用すると、コード内のシークレット候補をインラインで検出し、これらの問題をリアルタイムで修復する機会を得られます。</p>


  <p>詳細については、「資格情報スキャナーコードアナライザーの <a href="https://blogs.msdn.microsoft.com/visualstudio/2017/11/17/managing-secrets-securely-in-the-cloud/" target="_blank">早期プレビュー</a> 」を参照してください。<br>

  その他、シークレットの管理や、アプリケーション内から安全な方法で機密情報にアクセスするのに役立つリソースをいくつか以下に示します。</p>


  <ul>
   <li><a href="https://docs.microsoft.com/en-us/azure/key-vault/" target="_blank">Azure Key Vault</a></li>
   <li><a href="https://docs.microsoft.com/en-us/azure/sql-database/sql-database-aad-authentication" target="_blank">Azure Active Directory</a></li>
   <li><a href="https://azure.microsoft.com/en-us/blog/keep-credentials-out-of-code-introducing-azure-ad-managed-service-identity/" target="_blank">Azure AD マネージド サービス ID</a></li>
   <li><a href="https://docs.microsoft.com/en-us/azure/active-directory/msi-overview" target="_blank">Azure リソースの管理対象サービス ID (MSI)</a></li>
   <li><a href="https://docs.microsoft.com/en-us/azure/app-service/app-service-managed-service-identity" target="_blank">Azure マネージド サービス ID</a></li>
  </ul>
