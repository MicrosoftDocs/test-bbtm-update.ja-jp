### YamlMime:Yaml
ms.openlocfilehash: 03f52f73e9bd2e01b0a99a81dc79efb92e4a73e1
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139904861"
Slug: daas
Title: DaaS – Azure websites のサービスとしての診断
Summary: DaaS – Azure websites のサービスとしての診断。 アプリケーション固有の問題を迅速に根本原因となるサイト拡張機能。
Content: >-
  Azure Websites は、さまざまなアプリケーション (Websites) 用の優れたホスティングプラットフォームを提供しますが、ほとんどのアプリケーションは十分に記述され、実行されますが、適切なアプリケーションで問題が発生する可能性があります。 根本的な原因としては、コードのバグやサービス全体の問題が考えられます。また、問題の原因は、実際の問題の原因となっている問題です。


  さまざまなデータポイントが役に立ちます。 たとえば、HTTP ログ、イベントログ、プロセスメモリダンプなどを使用できます。 質問は、このデータで何を行うのでしょうか。 これらのログは、問題を解決したり規範的なガイダンスを提供したりするのに役立つように解釈操作方法ますか。 ほとんどの場合、Microsoft のサポートまたはフォーラムのコミュニティメンバーと連携して、分離と解決のためのいくつかのポインターを取得しますが、1つのボタンをクリックして回答を得ることはできません。 サービスとしての新しい診断 (短い<strong>DaaS</strong> ) では、まさにそのようなことを試みます。

  <blockquote>これを簡単にするために、 <strong>DaaS</strong>はサイト拡張機能として提供されています。 短いビデオを見るには、<a href="https://www.youtube.com/watch?v=sCKmRz4jDwo">ここをクリックしてください</a>。

  <table border="1" cellspacing="0" cellpadding="0">

  <tbody>

  <tr>

  <td valign="top" width="623"><strong>注</strong><span style="text-decoration: underline">DaaS は、<strong>基本</strong>モードと<strong>標準</strong>モードで<strong>のみ</strong>使用できます。</span></td>

  </tr>

  </tbody>

  </table>

  &nbsp;</blockquote>

  <h3></h3>

  <h3><span style="font-weight: bold">F.. Q&A</span></h3>

  <b>1) </b><b>DaaS にアクセスするにはどうすればよいですか。</b>


  DaaS はサイト拡張機能であり、サイトの SCM エンドポイントを介してアクセスできます。 これを行うには、自分のサイトの名前とブラウザーに基づいて SCM URL を調整します。 <a href="https://&lt;YourSiteName&gt;.scm.azurewebsites.net/DaaS">https://<b> &lt; &gt; </b>を参照してください。scm.azurewebsites.net<b>/DaaS</b> </a>

  <blockquote><b>注: </b>Sitename は実際のサイト名に置き換える必要があります。


  サイト管理者の資格情報でログインするように求められます。


  &nbsp;</blockquote>

  <b>2) </b> <b>DaaS を使用する必要があるのはいつですか。</b>


  このリリース DaaS は、アプリケーション固有の問題の原因となっているまたは根本原因を特定<b><span style="text-decoration: underline">する</span></b>のに役立ちます。 次の現象は、DaaS で診断できる問題に対して一般的です。

  <ul>

  <ul>
   <li>Web サイトの応答が遅くなっています</li>
   <li>ランダム要求がタイムアウトになる</li>
   <li>Web ページがハングしています (完全に開いたままスピン状態を維持します)</li>
  </ul>

  </ul>

  また、DaaS を使用して、web サイトの正常性のサンプルを描画し、任意の時点でデータのセットに対して何らかの分析を行うこともできます。


  &nbsp;


  <b>3) </b> <b>DaaS 収集して分析するデータの種類</b>


  このリリースでは、DaaS は次のデータ型で動作します。

  <ul>

  <ul>
   <li>Web サイト (アプリケーション) プロセスメモリダンプ</li>
   <li>HTTP ログ</li>
   <li>イベント ログ</li>
  </ul>

  </ul>

  <blockquote><b>注</b>: このリリースでは、 <b><b>次のスクリーンショットに示すよう</b></b>に、DaaS では<b>WEB サーバーのログ記録</b>が有効になっており、ファイルシステムを使用するように構成されている必要があります。


  <a href="https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/06/Logging.jpg"><img style="float: none;margin-left: auto;margin-right: auto;border-width: 0px" title="ログ記録" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/Logging_thumb.jpg" alt="Logging" width="484" height="109" border="0" /></a>


  外部ストレージに格納されている HTTP ログは分析されず、エラーが発生します。


  &nbsp;</blockquote>

  <b>4) </b> <b> <span style="text-decoration: underline">[今すぐ診断</span>] オプションを選択するにはどうすればよいですか。</b>


  これは、"問題があるので、今すぐヘルプを表示する" ボタンと考えることができます。 このオプションを選択すると、既定の設定で診断セッションが直ちに開始されます。 既定では、web サイトのすべての VM インスタンスからメモリダンプ、HTTP ログ、イベントログを収集して分析します。 2分後に2番目のメモリダンプを収集して分析します (これにより、アプリケーションの2つの異なる状態が提供され、パフォーマンスの低下の問題のトラブルシューティングに役立ちます)。 すべてのオプションで使用できるコンテキストヘルプがあります。

  <blockquote>メモ:

  <ul>
   <li>運用 web サイトで診断を実行すると、データの収集および分析中にパフォーマンスに影響があります。</li>
   <li>既定では、ログとレポートは、ユーザーのファイルシステムの<b>data \ DaaS \Logs</b>と<b>data \ DaaS \Reports</b>フォルダーにそれぞれ格納されます。 すべてのセッションの後にデータをダウンロードし、サイトからそれらを削除して領域を解放することをお勧めします。 データのダウンロード方法については、以下の <b>質問 6</b> をご覧ください。 その後、[スケジュールされた分析] オプション (後述) を使用して、データを格納するためのカスタムストレージの場所を指定できます。 このようにすることで、データを失うことはありません。</li>
  </ul>

  </blockquote>

  &nbsp;


  <b>5) </b><b><span style="text-decoration: underline">[スケジュール分析]</span>オプションの機能</b>


  このオプションを使用すると、診断セッションをカスタマイズすることができます。 これは、次の操作を実行できるウィザード主導のエクスペリエンスです。

  <ul>

  <ul>
   <li>特定の時刻または timespan で DaaS セッションをスケジュールします。</li>
   <li>収集して分析するデータの種類または種類を選択します (データ型の横をクリックすると表示されるコンテキストヘルプと警告があります)。</li>
   <li>これにより、データを収集して分析する特定の VM インスタンスを選択できます (web サイトが複数のインスタンスで実行されているシナリオに対処します)。 インスタンスを選択しなかった場合は、既定ですべてのインスタンスに対して実行されます。</li>
   <li>これにより、すぐに収集して分析するオプションを選択できます。また、後で収集して分析することもできます。</li>
   <li>最後に、データとレポートを格納するためのカスタム blob ストレージの場所を構成できます。 構成が完了すると、これが既定のオプションになります。 [今すぐ診断] オプションを選択すると、指定された blob ストレージへのデータの格納が開始されます。</li>
  </ul>

  </ul>

  &nbsp;


  &nbsp;


  <b>6) </b><b>既定でデータとレポートが格納されるのはどこですか。 </b>


  既定では、データとレポートは、<b> D:\home\data\ DaaS \Reports および D:\home\data\ DaaS \Logs</b>フォルダーの下にある web サイトのファイルシステムに格納されます。


  すべてのレポートとデータを VM からダウンロードするには、次のように SCM エンドポイント URL を使用できます。


  <b>sitename &gt; を https:// &lt; します。</b>scm.azurewebsites.net/<b>zip/</b>data/<b>DaaS</b><b></b>

  <blockquote><b>注: </b>Sitename を実際のサイト名に置き換える必要があります</blockquote>

  カスタム blob ストレージの場所を持つセッションの場合、データは指定された blob に格納されます。


  &nbsp;


  カスタム blob ストレージではなく、web サイトのファイルシステムを使用している場合は、診断データを定期的に (すべての実行後に) バックアップおよび削除して、ディスククォータのヒットを回避することを強くお勧めします。 VM ファイルシステム上の DaaS によって生成されるデータとレポートは、ストレージクォータに対してカウントされます。


  &nbsp;


  <b>7) </b><b>既定でデータとレポートが表示されるのはどこですか。 </b>


  これらは、[ <b>セッション</b> ] セクションの [ダウンロード] リンクと共に表示されます。 特定のセッションを展開すると、セッション時間、データ型の収集、および分析の状態が一覧表示されます。 [ <b>移動</b> ] ボタン (円の中の小さな矢印のようなアイコン) をクリックすると、その特定のセッションの詳細が表示されます。


  &nbsp;


  <b>8) </b><b>分析されたレポートの外観はどのようなものですか。 </b>


  サポートされている3つのデータ型のレポート例のスクリーンショットを次に示します。 各レポートはアプリケーションや web サイトによって異なるため、以下のレポートでは各レポートの上部のみが表示されていることに注意してください。

  <blockquote><b>メモリダンプ </b></blockquote>

  <a href="https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/06/clip_image004.jpg"><img style="float: none;margin-left: auto;margin-right: auto;border-width: 0px" title="clip_image004" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/clip_image004_thumb.jpg" alt="clip_image004" width="614" height="278" border="0" /></a>

  <blockquote><b>HTTP ログ</b></blockquote>

  <b><a href="https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/06/clip_image006.jpg"><img style="float: none;margin-left: auto;margin-right: auto;border-width: 0px" title="clip_image006" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/clip_image006_thumb.jpg" alt="clip_image006" width="614" height="250" border="0" /></a></b>

  <blockquote><b>イベントログ</b></blockquote>

  <b><a href="https://acom.azurecomcdn.net/80C57D/blogmedia/blogmedia/2014/06/clip_image008.jpg"><img style="float: none;margin-left: auto;margin-right: auto;border-width: 0px" title="clip_image008" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/clip_image008_thumb.jpg" alt="clip_image008" width="614" height="221" border="0" /></a></b>


  &nbsp;


  &nbsp;


  &nbsp;


  <b>9) </b> <b>、PHP ログ、顧客アプリケーションログなどの追加のデータ型を収集して分析することはできますか?</b>


  DaaS は、カスタムデータコレクターとアナライザーの作成をサポートしています (このプロセスは現在、"power users" カテゴリに分類されているため、今後のリリースでは簡単になります)。 これらの設定方法については、今後のブログ投稿で説明します。


  &nbsp;


  <b>10) </b><b>メモリダンプレポートで推奨事項が提供されない、またはスレッド呼び出し履歴がアプリケーション内の既知のメソッド呼び出しに解決されないの</b>はなぜですか。


  現在のリリースでは、DaaS は Microsoft パブリック<b>シンボル</b>サーバーでのみ使用できます。 これは、PHP などの OSS バイナリでシンボルを解決できないことを意味します。 今後 DaaS では、OSS バイナリまたはカスタムバイナリシンボルを web サイトのコンテンツフォルダーにアップロードできます。これにより、DaaS は正しいシンボルを解決できるようになります。
