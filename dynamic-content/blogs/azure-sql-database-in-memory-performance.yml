### YamlMime:Yaml
ms.openlocfilehash: c0b9f2ed5a6e6cc7c7bf3b8c2f1b095503da4b41
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139894848"
Slug: azure-sql-database-in-memory-performance
Title: Microsoft Azure SQL Database は In-Memory テクノロジで比類のないパフォーマンスを提供します。
Summary: Azure SQL Database で In-Memory テクノロジの一般提供が開始され、トランザクション処理、分析、およびハイブリッドトランザクションと分析のワークロード (htap) のパフォーマンスを最適化することができます。
Content: >-
  <p>Azure SQL Database 組み込みの In-Memory テクノロジが、プレミアムプールを含むプレミアムデータベース層で一般公開されるようになりました。 インメモリテクノロジは、トランザクション (OLTP)、分析 (OLAP)、および混合ワークロード (HTAP) のパフォーマンスを最適化するのに役立ちます。 これらのテクノロジを使用すると、注文処理 (<b>11x パフォーマンス向上</b>) に対して1秒あたり Azure SQL Database &ndash; <b>75000 トランザクション</b>を実行し、クエリの実行時間を15秒から 0.26 (<b>57x</b>倍) に短縮することで、驚異的なパフォーマンスを実現でき<i>ます。</i> また、これらを使用して、P2 データベースのコスト &ndash; を削減することもできます。これにより、In-Memory テクノロジを実装することによって、分析クエリのパフォーマンスが9倍に向上し、パフォーマンスが10倍に向上します。追加コストはかかりません。 これらのパフォーマンスとコスト削減の結果の詳細については、以下を参照してください。</p>


  <ul>
   <li><b>インメモリ OLTP </b>を使用すると、スループットが向上し、トランザクション処理の待機時間が短縮されます。 取引やゲームなどのシナリオでは、パフォーマンス上のメリットを実際に確認できます。 もう1つの一般的なシナリオは、イベントまたは IoT デバイスからのデータの取り込みです。 また、キャッシュ、データの読み込み、および一時テーブルとテーブル変数のシナリオを高速化するためにも使用できます。</li>
   <li><b>クラスター化</b><b>列ストアインデックス</b>を使用すると、ストレージのフットプリントが減少し (最大10倍)、レポートと分析のクエリのパフォーマンスが向上します。 データ マートでファクト テーブルと一緒に使用してデータベースにより多くのデータを格納し、パフォーマンスを向上させます。 オペレーション データベースで履歴データと一緒に使用してアーカイブし、最大で 10 倍のデータをクエリできるようになります。</li>
   <li><b>ハイブリッドトランザクションと分析処理 (HTAP)</b> &nbsp; の非クラスター化列ストアインデックスを使用すると、オペレーションデータベースに直接クエリを実行することで、ビジネスに関する<b>リアルタイムの洞察</b>を得ることができます。コストのかかる ETL プロセスを実行して、データウェアハウスが設定されるのを待つ必要はありません。 非クラスター化列ストアインデックスを使用すると、OLTP データベースに対する分析クエリを非常に高速に実行できるだけでなく、運用ワークロードへの影響を減らすことができます。</li>
   <li>インメモリ OLTP と列ストアを組み合わせることもできます。列ストア インデックスを含むメモリ最適化テーブルを持つことにより、非常に高速のトランザクション処理を実行し、同じデータに非常に高速の分析クエリを実行できます。</li>
  </ul>


  <p>クォーラムビジネスソリューションは、Microsoft Azure で実行されている石油およびガス業界でのフィールド操作のための革新的なサービスとしてのソフトウェア (SaaS) ソリューションを提供します。 In-Memory OLTP では、新しい顧客やサポート組織を大規模にオンボードすることで、ビジネスを成長させることができました。これにより、より多くのデータベーススループットを使用する必要がなくなります。</p>


  <blockquote>

  <p><b><img alt="clip_image002" border="0" height="55" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/ba3287ae-18d6-4978-940c-5b50fbb1b372.jpg" style="border-width: 0px; padding-top: 0px; padding-right: 0px; padding-left: 0px; display: inline; background-image: none;" title="clip_image002 " width="174"> </b> <i> &ldquo; のスケーラブルなパフォーマンスは、24/7/365 を実行する必要がある石油およびガスの IoT プラットフォームに不可欠です。 &nbsp;Azure SQL Database に In-Memory OLTP テーブルとネイティブコンパイルストアドプロシージャを追加することによって、ごく一部のキー操作については、全体的な DTU 消費が70% 削減されました。 &nbsp;インメモリテーブルを使用しない場合、パフォーマンスを維持するために、プラットフォームの複数の領域に大きな労力が必要になります。 &nbsp;データ中心のサービスでは、インメモリサポートによって既存のアプリケーションに瞬時に拡張でき、データベースの外部で変更を加えることはほとんどありません。 &rdquo;</i> <i>Mark Freydl, ソリューションアーキテクト, クォーラムビジネスソリューション</i>&nbsp;</p>


  <p>クォーラムビジネスソリューション &rsquo; の詳細については Azure SQL Database と In-Memory OLTP に表示される利点については、こちらの<a href="https://aka.ms/quorumcasestudy">ケーススタディ</a>を参照してください。</p>

  </blockquote>


  <p>スポットライトは、お客様 &rsquo; のデータセンターとクラウド内の SQL Server デプロイを監視するために、探求が提供するソリューションです。 In-Memory OLTP を活用して、要求とイベントの処理を高速化します。これにより、Quest &rsquo; のお客様は、環境内の潜在的な問題について非常に迅速に学習できます。</p>


  <blockquote>

  <p><i><img alt="quest-logo" border="0" height="42" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/095495b7-d911-46f3-9d63-9de13c7a27df.png" style="border-width: 0px; padding-top: 0px; padding-right: 0px; padding-left: 0px; display: inline; background-image: none;" title="quest-logo " width="156"> &ldquo; &rsquo; のお客様は、スポットライトを利用して、SQL Server 環境内の問題についてタイムリーに通知します。 Quest は、Azure SQL Database の OLTP In-Memory に依存しており、スポットライト機能を迅速に構築して顧客に提供する堅牢な基盤を提供します。 In-Memory OLTP では、非常に高いスループットと、T SQL &ndash; に基づく柔軟でわかりやすいプログラミングモデルのすべてのメリットが得られます。これは、スポットライトのエクスペリエンスを非常に高速に提供できることを意味します。 &rdquo;パトリック O &rsquo; Keeffe、e </i> <i>xecutive director、software engineering (information management)</i></p>

  </blockquote>


  <p>M-Files は、情報サイロを排除し、任意のコアビジネスシステムとデバイスから適切なコンテンツにすばやく簡単にアクセスできるようにするエンタープライズ情報管理ソリューションを提供します。 クラスター化されていない列ストアインデックスを使用すると、ドキュメントデータに対して非常に高速な分析クエリを実行できるようになります。これにより、M ファイル &rsquo; の顧客は洞察を取得して情報をより迅速に検索できます。</p>


  <blockquote>

  <p><img alt="clip_image006" border="0" height="44" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/6124ebbe-d55b-4f98-a939-8dd1a12b376b.jpg" style="border-width: 0px; padding-top: 0px; padding-right: 0px; padding-left: 0px; display: inline; background-image: none;" title="clip_image006" width="146">&ndash;<i> &ldquo; 高速分析クエリとオンライントランザクションは、M ファイル実装では重要な成功要因となります。Azure SQL Database と Microsoft SQL Server 2016 で更新可能な非クラスター化列ストアインデックスを追加することにより、オンライントランザクション処理に大幅なパフォーマンスコストをかけることなく、お客様の重要なワークロードで10倍に高速なクエリを実現できます。この変更により、アプリケーションでコードを変更する必要がなくなり、すぐにパフォーマンスが向上しました。オンプレミスのクライアントと、Azure の M ファイルクラウドコンテナーユーザーの両方にとって、迅速なパフォーマンスが提供されます。 &rdquo;非常に重要な ti、創設者、CTO</i></p>

  </blockquote>


  <h2>パフォーマンスとコスト削減の利点</h2>


  <p>In-Memory OLTP と列ストアインデックスはどちらも、CPU や IO などのリソースをより効率的に利用することで、それぞれのパフォーマンス上の利点を実現します。 各 Azure SQL Database 価格レベルには、一定量のリソースが割り当てられています。 In-Memory テクノロジはリソース効率に優れているため、価格レベルを上げることなくパフォーマンスを向上させることができます。 フリップ側では、データベースで In-Memory テクノロジを採用するときに、価格レベルを下げることで同じパフォーマンスレベルを実現できます。</p>


  <p>Azure SQL Database での<b>インメモリ OLTP</b>のパフォーマンスの結果を次に示します。</p>


  <ul>
   <li>P15 での<a href="https://github.com/Microsoft/sql-server-samples/tree/master/samples/features/in-memory/benchmark-order-processing">注文処理ベンチマーク</a>(スケールファクター100、400クライアント) (書き込み時の最上位レベル): In-Memory oltp を使用した<b>75000 トランザクション/秒</b>(TPS) と比較して、従来のテーブルとストアドプロシージャを使用した 6800 tp と比較して、In-Memory Oltp による<b>11x パフォーマンスの向上</b>に変換します。</li>
   <li>また、パフォーマンスレベルを低くすると、優れた結果が表示されます。 同じワークロード (スケールファクター5、200クライアント) を持つ P2 の場合: 8900 TPS と In-Memory OLTP (1000 と比較)。</li>
   <li>従来のテーブル値パラメーター (Tvp) をメモリ最適化 Tvp に置き換えるだけでパフォーマンスが30-40% 向上: <a href="https://blogs.msdn.microsoft.com/sqlserverstorageengine/2016/04/07/a-technical-case-study-high-speed-iot-data-ingestion-using-in-memory-oltp-in-azure/">Azure で In-Memory OLTP を使用して高速な IoT データインジェストを</a>実現</li>
  </ul>


  <p><a href="https://azure.microsoft.com/documentation/articles/sql-database-in-memory/#b-install-the-in-memory-analytics-sample">このページ</a>のサンプルを使用した<b>列ストア</b>インデックスのパフォーマンス結果:</p>


  <ul>
   <li>P15 データベース (書き込み時の最高レベルのパフォーマンスレベル) を使用すると、クエリは列ストアを使用して0.26 秒で実行され、ページの圧縮で従来のインデックスを使用する場合は15秒で実行されます。 これは、 <b>58X</b>のパフォーマンスの向上につながります。</li>
   <li>価格レベルを低く設定しても、パフォーマンス上の大きな利点があります。 P1 データベースを使用すると、クエリは列ストアで4.8 秒で実行されますが、ページの圧縮では従来のインデックスを使用して27秒で実行されます。 価格レベルを上げることなく、5.6 X のパフォーマンスが向上しました。</li>
  </ul>


  <h2>Azure SQL Database 今日の In-Memory テクノロジをお試しください</h2>


  <p>Azure SQL Database の In-Memory テクノロジの詳細、開始方法に関するヒント、およびサンプルについては、 <a href="https://aka.ms/sqldbinmem">SQL In-Memory のドキュメント</a>を参照してください。</p>


  <p>&nbsp;</p>


  <p><i>このブログでは、今後数週間にわたって個々の In-Memory テクノロジについて詳しく説明しています。</i></p>
