### YamlMime:Yaml
ms.openlocfilehash: 70ab91991c85371f24a160b43776182e743aa645
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139909869"
Slug: eight-new-features-in-azure-stream-analytics
Title: Azure Stream Analytics での 8 つの新機能
Summary: Microsoft Ignite 2018 では、この週、7 つの新機能 (ASA) Azure Stream Analytics発表します。
Content: >-
  <p>Microsoft Ignite 2018 では、この週、8 つの新機能 (ASA) Azure Stream Analytics発表します。 これらの新機能には、次のものがあります。</p>


  <ul>
   <li>Azure IoT Edge で実行されている ASA ジョブでの C# カスタム コードによるクエリ機能拡張のサポート。</li>
   <li>Azure IoT Edge で実行されている ASA ジョブのカスタムデシリアライザー。</li>
   <li>Visual Studio でのライブ データ のテスト。</li>
   <li>高スループットの出力をSQL。</li>
   <li>MLに基づく異常検出IoT Edge。</li>
   <li>Azure Data Lake Storage Gen 1 へのエグレス用の Azure リソース (旧 MSI) ベースの認証のマネージド ID。</li>
   <li>カスタムの日付/時刻形式による BLOB 出力のパーティション分割。</li>
   <li>ユーザー定義のカスタム再パーティション数。</li>
  </ul>


  <p>一般公開されている機能とパブリック プレビューの機能は、間近に近い展開を開始します。 プライベート プレビュー機能に早期にアクセスするには、サインアップ フォーム <a href="https://aka.ms/ASApreview1">を使用してください</a>。</p>


  <p>また、Microsoft Ignite カンファレンスに今週参加する場合は、 <a href="https://aka.ms/ASAIgnite2018">セッション BRK3199</a> に参加して、これらの機能の詳細を確認し、これらの機能のいくつかを実際に確認してください。</p>


  <h2>一般提供機能</h2>


  <h3>Azure への並列書き込み操作SQL</h3>


  <p>Azure Stream Analyticsは、Azure SQL DB と Azure SQL Data Warehouse に対する高パフォーマンスで効率的な書き込み操作をサポートし、お客様が以前に可能だったよりも 4 倍から 5 倍のスループットを実現するのに役立ちます。 ASA では、完全に並列トポロジを実現するために、シリアル操作SQL並列操作に書き込みを切り替え、同時にバッチ サイズのカスタマイズを可能にします。 詳細については <a href="https://docs.microsoft.com/en-us/azure/stream-analytics/stream-analytics-define-outputs#sql-database">、「Azure Stream Analytics出力について</a> 」を参照してください。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/0d186317-d08d-4d01-9819-da40403b3061.png"><img alt="Parallel write operations to Azure SQL" border="0" height="733" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/dc7b308a-2aa5-44b8-95f2-251489223661.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="Azure への並列書き込み操作SQL" width="449"></a></p>


  <p align="center"><em>スループットの高い書き込み操作を構成してSQL</em></p>


  <h2>パブリック プレビュー</h2>


  <h3>Azure IoT Edge 上の C# UDF を使用したクエリ機能拡張</h3>


  <p>Azure Stream Analytics には、イベントのストリームに対して変換および計算を実行するための SQL に似たクエリ言語が用意されています。 現在サポートされている SQL 言語には強力な組み込み関数が多数存在しますが、SQL に似た言語では複雑なシナリオに取り組むための十分な柔軟性やツールが&#39;提供されていない場合があります。</p>


  <p>Stream Analytics Edge Azure IoTモジュールを作成する開発者は、カスタム C# 関数を記述し、ユーザー定義関数を使用してクエリ内で直接呼び出す機能を使用できます。&nbsp;これにより、複雑な計算、ML.NET を使用したカスタム MLモデルのインポート、カスタム データ入力ロジックのプログラミングのようなシナリオが可能になります。 完全な忠実性のオーサリング エクスペリエンスは、これらの関数Visual Studioで使用できます。 最新バージョンの Azure Stream Analytics <a href="https://docs.microsoft.com/en-us/azure/stream-analytics/stream-analytics-tools-for-visual-studio-install">ツールをインストールVisual Studio</a>。</p>


  <p>この機能の詳細については、ドキュメントを参照 <a href="https://na01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Fazure%2Fstream-analytics%2Fstream-analytics-edge-csharp-udf-methods&amp;data=02%7C01%7C%7C73e959032fbc42097a6c08d61f60674b%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636730896249494450&amp;sdata=wTdBv4SsqKl%2FgXVxHmwNJBBcx6HrsGfdCqXmzIs4WcE%3D&amp;reserved=0">してください</a>。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/9d969a2f-3a12-438f-a4c2-2ebe7eade77a.png"><img alt="image" border="0" height="186" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/d823db87-9891-4dc9-8f68-58ad9781b1ae.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="イメージ" width="537"></a></p>


  <p align="center"><em>C# UDF の定義 (Visual Studio</em></p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/7eb97603-5277-4aea-b7a6-ba44d809d66b.png"><img alt="image" border="0" height="47" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/e78aae29-df66-47fa-984b-ecd57699d023.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="イメージ" width="328"></a></p>


  <p align="center"><em>ASA クエリからの C# UDF の呼び出し</em></p>


  <h3>カスタムの日付と時刻の形式Storage Azure BLOB データへの出力パーティション分割</h3>


  <p>Azure Stream Analyticsユーザーは、カスタムの日付と時刻の形式に基づいて Azure Blob Storage に出力をパーティション分割できます。<br>

  この機能により、特にダッシュボードやレポートなどのシナリオで BLOB 出力をきめ細かく制御でき、ダウンストリームのデータ処理ワークフローが大幅に向上します。 さらに、カスタムの日付と時刻の形式によるパーティション分割により、Azure HDInsight や Azure Databricks などのサービスによって使用される場合に、ダウンストリーム Hive でサポートされる形式と規則とのより強力な調整が可能になります。 詳細については <a href="https://docs.microsoft.com/en-us/azure/stream-analytics/stream-analytics-define-outputs#sql-database">、「Azure Stream Analytics出力について</a> 」を参照してください。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/912bdf5c-4d4b-4d62-a40d-f416e36ce5a9.jpg"><img alt="custom date Output partitioning to Azure Blob Storage by custom date and time formatstime" border="0" height="384" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/458425d5-2d6e-4d64-842c-5ccd0feda52b.jpg" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="カスタム日付 カスタム日時形式による Azure Blob Storageへの出力パーティション分割time" width="371"></a></p>


  <p align="center"><em>カスタムの日付または時刻を基にパーティション分割Azure portal</em></p>


  <p>カスタム フィールドまたは属性によって Azure Blob Storage への出力をパーティション分割する機能は、引き続きプライベート プレビューの中で行います。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/6f7703e1-392e-42d0-8cb5-acaef5ed9e0f.png"><img alt="image" border="0" height="47" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/85d3657a-8daf-4140-9192-27f6ed181e0b.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="イメージ" width="275"></a></p>


  <p align="center"><em>オブジェクトのカスタム属性 &nbsp;によるパーティションのAzure portal</em></p>


  <h3>Visual Studio でのライブ データ テスト</h3>


  <p>Azure Stream Analytics 用の Visual Studio ツールを使用すると、Azure Event Hubs や IoT Hub などのクラウド ソースからライブ データまたはイベント ストリームに対するクエリをテストするのに役立つローカル テスト機能がさらに強化されます。 これには、IDE 環境でシミュレートされたローカルStream Analytics時間ポリシーの完全なサポートVisual Studio含まれます。</p>


  <p>これにより、開発者はテスト サイクルを実行するためにジョブを開始/停止する必要がなくなったので、開発サイクルが大幅に短縮されます。 また、この機能を使用すると、クエリの実行中にライブ出力データを確認できます。 最新バージョンの Azure Stream Analytics <a href="https://docs.microsoft.com/en-us/azure/stream-analytics/stream-analytics-tools-for-visual-studio-install">ツールをインストールVisual Studio</a>。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/e68821ad-c810-43ab-8058-ba10cdb7f630.png"><img alt="Live data testing in Visual Studio" border="0" height="665" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/ccdbfd45-442c-4db2-b20a-4f575e54737c.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="Visual Studio でのライブ データ テスト" width="847"></a></p>


  <p align="center"><em>Visual Studio IDE でのライブ データ テスト</em></p>


  <h3>ユーザー定義のカスタム再パーティション数</h3>


  <p>再パーティション分割をSQL、必要に応じてユーザーがストリームのパーティション数を指定できる言語を拡張しています。 &rsquo;これにより、パーティション キーをアップストリームの制約に変更したり、出力用のパーティションの数が固定されている場合や、より大きな処理負荷にスケールアウトするためにパーティション分割処理が必要な場合に、パフォーマンスのチューニングが向上します。 パーティションを再分割すると、各パーティションは他のパーティションとは独立して処理されます。</p>


  <p>この新しい言語機能を使用すると、クエリ開発者は PARTITION BY ステートメントの後に新しく導入されたキーワード INTO を使用できます。 たとえば、次のクエリでは、(自然にパーティション分割されている場合に関係なく) 入力ストリームから読み取り、DeviceID ディメンションに基づいてストリームを 10 に再分割し、出力にデータをフラッシュします。</p>


  <p align="center">SELECT * INTO [output] FROM [input] PARTITION BY DeviceID INTO 10</p>


  <p align="center">&nbsp;</p>


  <h2>プライベート プレビュー プレビュー &ndash; にサインアップする</h2>


  <h3>Azure IoT Edge とクラウドでの異常検出の組み込みモデル</h3>


  <p>SQL に似た言語内ですぐに使用できる ML モデルを提供することで、すべての開発者は、独自の ML モデルを開発してトレーニングすることなく、ASA ジョブに異常検出機能を簡単に追加できます。 これにより、実際には、単純な単一の関数呼び出しMLモデルの構築に関連する複雑さ全体が軽減されます。</p>


  <p>現在、この機能はクラウドのプライベート プレビューで利用できます。また、組み込みの異常検出用のこれらの ML 関数が、Azure IoT Edge ランタイムで実行されている ASA モジュールでも使用できる状態になられていると発表します。 これは、1 秒以下の待機時間を要求する顧客、またはクラウドへの接続が不当またはコストがかかるシナリオで役立ちます。</p>


  <p>この最新の機能強化では、関数の数を 5 から 2 に減らしながら、スパイク、ディップ、遅い陽性の増加、遅い負の減少、および Bi レベルの変化の 5 種類の異常を検出することができます。 また、テストではパフォーマンスが 5 倍から 10 倍向上しています。</p>


  <p>Sedgwick は、この機能の早期導入者として私たちと関わりを持っている、テクノロジ対応のリスク、利点、統合ビジネス ソリューションのグローバル プロバイダーです。</p>


  <p>Sedgwick は、Stream Analytics エンジニアリング チームと直接取り組み、Stream Analytics Query 言語の組み込み関数を使用して異常検出の説得力のあるシナリオを探索し、<em>運用化しています。&ldquo;この機能は、現在および将来のシナリオで多くの可能性を保持すると確信しています&rdquo;</em>。</p>


  <p align="right">&ndash; ソフトウェア アーキテクト、Sedgwick Labs の Krishna・ナブラポジ。</p>


  <h3>Azure IoT Edge の Stream Analytics モジュールでのカスタムデシリアライザー</h3>


  <p>現在、Azure Stream Analyticsでは、JSON、CSV、または AVRO データ形式の入力イベントがサポートされています。 ただし、多くの場合、何百万もの IoT デバイスは、より効率的で拡張可能な形式で構造化データをエンコードするために、他の形式のデータを生成するために最適化されています。</p>


  <p>今後、データを任意の形式で送信する IoT デバイスでは、データの機能Azure Stream Analytics。 Parquet 形式、Protobuf 形式、XML 形式、または任意のバイナリ形式です。 開発者は C# でカスタムのデシリアライザーを実装し、それを使用して、C# で受信したイベントを逆シリアル化Azure Stream Analytics。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/9f5dfb43-c179-4ff6-a5e2-902b80335428.png"><img alt="Custom de-serializers in Stream Analytics module on Azure IoT Edge" border="0" height="559" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/8cb553b8-b3ac-43fa-9df2-fe95438482a4.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="Azure IoT Edge の Stream Analytics モジュールでのカスタムデシリアライザー" width="955"></a></p>


  <p align="center"><em>カスタム シリアル化形式を使用した入力の構成</em></p>


  <h3>Azure Data Lake Storage Gen 1 へのエグレス用の Azure リソース (旧 MSI) ベースの認証のマネージド ID</h3>


  <p>現在、Azure Stream Analytics のユーザーは、Azure Data Lake Storage Gen 1 への書き込み中に、MSI ベースの認証を使用してリアルタイム パイプラインを運用化できます。</p>


  <p>以前は、ユーザーは、このAzure Active Directoryベースの認証に依存していたので、いくつかの制限がありました。&nbsp;たとえば、ユーザーは PowerShell を使用してパイプラインStream Analytics自動化できます。 2 つ目に、これにより、ユーザーはサインインの更新を定期的に中断することなく、実行時間の長いジョブを実行できます。 最後に、これにより、既存のシステムと統合されたほぼすべてのイングレス サービスとエグレス サービスの間で、ユーザー エクスペリエンスの一貫性がStream Analytics。</p>


  <p align="center"><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/84e593e1-03bb-43de-a9ca-b7cbab74097b.png"><img alt="Managed identities for Azure resources (formerly MSI) - 2" border="0" height="480" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/0a728564-cfaa-4f47-a176-07d2c1c2c116.png" style="border: 0px currentcolor; border-image: none; display: inline; background-image: none;" title="Azure リソースのマネージド ID (旧 MSI) - 2" width="235"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/0a875852-c61a-4076-84a6-ef58c6803f48.png"><img alt="Managed identities for Azure resources (formerly MSI) - 1" border="0" height="480" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/42e9f870-9943-4e60-8994-28c5931e67ab.png" style="border: 0px currentcolor; border-image: none; display: inline; background-image: none;" title="Azure リソースのマネージド ID (旧 MSI) - 1" width="407"></a></p>


  <p align="center"><em>Data Lake Storage に対する MSI ベースの認証の構成</em></p>


  <h2>フィードバック</h2>


  <p>Twitter ハンドル に従って、お問い合わせのうえ、新機能のプレビューを取得してください <a href="https://twitter.com/AzureStreaming">@AzureStreaming</a>。</p>


  <p>Azure Stream Analyticsチームは、お客様のフィードバックに耳を傾け、ユーザーが将来の投資&#39;を指示することを強くお勧めしています。 会話に参加し、UserVoice を介して音声 <a href="https://feedback.azure.com/forums/270577-stream-analytics/filters/top">を聞かしてください</a>。</p>
