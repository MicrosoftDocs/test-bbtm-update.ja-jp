### YamlMime:Yaml
ms.openlocfilehash: 80d91be962a05839aad836cfb538d880bbab8b25
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139890371"
Slug: model-first-for-sql-azure
Title: Model First For SQL Azure
Summary: '[この記事は、チームによってSQL Azureされました。].NET Framework 4.0 に組み込む ADO.NET Entity Framework 4.0 の最適な用途の 1 つは、モデルの最初のアプローチを使用して、SQL...'
Content: "<p>[この記事は、チームによってSQL Azureされました。]</p><p>.NET Framework <a href=\"https://msdn.microsoft.com/en-us/data/aa937723.aspx\">4.0 に ADO.NET Entity Framework 4.0</a> に最適な用途の 1 つは、モデルの最初のアプローチを使用して SQL Azure データベースを設計する方法です。 モデルは、最初に設計するのが Visual Studio と Entity Framework デザイナーを使用するエンティティ モデルを意味し、次に、SQL Azure データベース スキーマを生成する Transact-SQL を作成します。 私が本当に気に入っているのは、Entity Framework デザイナーによって、テーブルとその相互リレーションシップの設計に最適な WYSIWYG エクスペリエンスを提供する部分です。 さらに、大きな特典として、モデルとデータベースに一致するアプリケーション コードから呼び出す中間層のオブジェクト レイヤーがSQL Azure。</p>  <h2>Visual Studio 2010</h2>  <p>最初に行う必要があるのは、Entity Framework の 4.0 バージョンを含む Visual Studio 2010 を開く方法です。このバージョンは、SQL Azure で特に機能します。 2010 年 3 月をお持ちVisual Studio場合は、Express バージョンを無料でダウンロードできます。「はじめに <a href=\"https://msdn.microsoft.com/en-us/data/ee712906\">Developing with the ADO.NET Entity Framework</a>」ページを参照してください。</p>  <h2>データ層アセンブリ</h2>  <p>この時点で、データ モデルが何かを知っている必要があります。ただし、作成するアプリケーションの種類がわかりません。ASP.NET MVC、ASP.NET WebForms、Silverlight など)。 それでは、エンティティ モデルと、それが作成するオブジェクトをクラス ライブラリに入れしましょう。 これにより、さまざまなアプリケーションのクラス ライブラリをアセンブリとして参照できます。 ここで、1 つのクラス ライブラリ プロジェクトVisual Studio新しい 2010 ソリューションを作成します。</p>  <p>以下に、その方法を示します。</p>  <ol>   <li>Visual Studio 2010 を開きます。 </li>    <li><b>[ファイル]</b> メニューの <b>[新しいプロジェクト]</b> をクリックします。 </li>    <li>[プロパティの<b>Visual Basic</b>] <b>ウィンドウで 、または Visual C#</b> <b>Project選択</b>します。 </li>    <li><b>[テンプレート]</b> ペインで <b>[クラス ライブラリ]</b> を選択します。 </li>    <li>プロジェクト <b>名として「ModelFirst</b> 」と入力し、[OK] を <b>クリックします</b>。 </li> </ol>  <p>次のセットでは、次の方法 <b>ADO.NET Entity Data Model項目を</b>プロジェクトに追加します。</p>  <ol>   <li>プロジェクトを右クリックし、 [追加] 、 [<b>新しい項目</b><b>] の順に選択します。</b> </li>    <li>[データ] を選択し、[データ]<b> を ADO.NET Entity Data Model</b>       <p><a href=\"\"><img style=\"background-image: none; border-bottom: 0px; border-left: 0px; margin: ; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px\" title=\"イメージ\" border=\"0\" alt=\"image\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/2287.image_5F00_thumb.png\" width=\"628\" height=\"345\"></a></p>   </li>    <li>[追加] ボタン <b>をクリック</b> します。 </li>    <li>[空 <b>のモデル] を</b> 選択し、[完了] <b>ボタンを</b> 押します。       <p><a href=\"\"><img style=\"background-image: none; border-bottom: 0px; border-left: 0px; margin: ; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px\" title=\"イメージ\" border=\"0\" alt=\"image\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/6835.image_5F00_thumb_5F00_1.png\" width=\"628\" height=\"559\"></a></p>   </li> </ol>  <p>これで、エンティティを追加する空のモデル ビューが作成されました (まだテーブルと考えます)。</p>  <h2>データ構造の設計</h2>  <p>このEntity Frameworkを使用すると、ツールボックスからデザイナー ウィンドウに直接項目をドラッグ アンド ドロップして、データ構造を構築できます。 このブログ記事では、ツールボックスからデザイナーにエンティティをドラッグ アンド ドロップします。 すぐに、Transact-SQLが既定のエンティティからどのように見えるのか興味があります。</p>  <p>Transact-SQLスキーマをSQL Azureするには、デザイナー ウィンドウで右クリックし、[モデルからデータベースを生成] <b>を選択します。 </b>Entity Frameworkは、適切な構文とセマンティクスを使用してスキーマを生成するためにデータ ソースが何かを知っている必要があります。Entity Framework では、一連のウィザードの手順で接続情報を入力する必要があります。</p>  <p>新しい接続が必要な場合は、最初のウィザード ページ <b>の</b> [接続の追加] ボタンを押します。 ここでは、ModelFirst という名前の SQL Azure作成した新しいデータベースの接続情報を入力します。これは、ポータルSQL Azureできます。 ポータルには、[接続のプロパティ] ダイアログに必要な他の情報 (管理者アカウント名など) も表示されます。</p>  <p><a href=\"\"><img style=\"background-image: none; border-bottom: 0px; border-left: 0px; margin: ; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px\" title=\"イメージ\" border=\"0\" alt=\"image\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/0574.image_5F00_thumb_5F00_2.png\" width=\"455\" height=\"663\"></a></p>  <p>データベースのインスタンスで接続を作成Visual Studio、サーバー エクスプローラーデータベースの生成ウィザードに進みます。 接続文字列をファイルに保存するボックスをオフapp.configがあります。 これはクラス ライブラリなので、app.configは関係ありません。.config ファイルは、クラス ライブラリを呼び出すアセンブリに配置されます。</p>  <p>データベース生成ウィザードでは、Entity Framework接続文字列が作成されます。この接続文字列は Entity Framework プロバイダーに渡して Transact-SQL。 接続文字列はどこにも格納されませんが、データベースのバージョンを確認するには、SQL Azureに接続する必要があります。</p>  <p><a href=\"\"><img style=\"background-image: none; border-bottom: 0px; border-left: 0px; margin: ; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px\" title=\"イメージ\" border=\"0\" alt=\"image\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/0160.image_5F00_thumb_5F00_3.png\" width=\"631\" height=\"609\"></a></p>  <p>最後に、Transact-SQL を表すテーブルを SQL Azure で生成する Transact-SQL。</p>  <pre class=\"csharpcode\"><span class=\"rem\">-- --------------------------------------------------</span>  <span class=\"rem\">-- Creating all tables</span>  <span class=\"rem\">-- --------------------------------------------------</span>    <span class=\"rem\">-- Creating table 'Entity1'</span>  <span class=\"kwrd\">CREATE</span> <span class=\"kwrd\">TABLE</span> [dbo].[Entity1] (      [Id] <span class=\"kwrd\">int</span> <span class=\"kwrd\">IDENTITY</span>(1,1) <span class=\"kwrd\">NOT</span> <span class=\"kwrd\">NULL</span>  );  <span class=\"kwrd\">GO</span>    <span class=\"rem\">-- --------------------------------------------------</span>  <span class=\"rem\">-- Creating all PRIMARY KEY constraints</span>  <span class=\"rem\">-- --------------------------------------------------</span>    <span class=\"rem\">-- Creating primary key on [Id] in table 'Entity1'</span>  <span class=\"kwrd\">ALTER</span> <span class=\"kwrd\">TABLE</span> [dbo].[Entity1]  <span class=\"kwrd\">ADD</span> <span class=\"kwrd\">CONSTRAINT</span> [PK_Entity1]      <span class=\"kwrd\">PRIMARY</span> <span class=\"kwrd\">KEY</span> <span class=\"kwrd\">CLUSTERED</span> ([Id] <span class=\"kwrd\">ASC</span>);  <span class=\"kwrd\">GO</span></pre>    <p>    <p>&#160;</p>    <p>この Transact-SQLプロジェクトに含まれている .sql ファイルに保存されます。 完全なプロジェクトは次のようになります。</p>    <p><a href=\"\"><img style=\"background-image: none; border-bottom: 0px; border-left: 0px; margin: ; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px\" title=\"イメージ\" border=\"0\" alt=\"image\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/8103.image_5F00_thumb_5F00_4.png\" width=\"221\" height=\"236\"></a></p>    <p>この Transact-SQL を実行して、SQL Azure。私は、それがどのような外観かを見たいと思いました。 テーブルは期待したように見えます。Entity Frameworkは、クラスター化インデックスを作成するのに十分なスマートSQL Azure。</p>    <h2>まとめ</h2>    <p>Entity Framework チームの Faisal Mohamood との今後のビデオとインタビューを見て、Model First の最初から最後の例を示します。 エンティティのモデル化、SQL Azureデータベースの生成、およびデータを使用したデータの挿入とクエリEntity Framework。</p>    <p>詳細を投稿する場合は、必ず確認するか、RSS フィードをサブスクライブしてアラートを受け取る必要があります。 質問、懸念事項、コメントはありますか? 以下に投稿すると、対処を試みることができます。</p>"
