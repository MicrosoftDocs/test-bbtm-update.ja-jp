### YamlMime:Yaml
ms.openlocfilehash: f66386189cf9880bab899523471084fb3bc29e59
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139908924"
Slug: ip-filtering-for-event-hubs-and-service-bus
Title: IP フィルタリングのEvent HubsとService Bus
Summary: Azure Service Bus と Azure Event Hubs に対して IP フィルタリング機能が有効Azure Event Hubs。 この機能により、お客様はリソースにアクセスしている IPS を制御できます。
Content: "<p>Azure Event Hubs または Azure Service Bus に特定の既知のサイトからのみアクセスできるシナリオの場合、IP フィルター機能を使用すると、IP アドレスの指定から送信されたトラフィック (企業 NAT ゲートウェイの下にあるアドレスなど) を受け入れるまたは拒否する規則を構成できます。 Azure チームは、Standard および Dedicated の価格プランに対する Service Bus プレミアムと専用Event Hubsパブリック プレビューを発表します。</p>\n\n<p>この機能を使用すると、ユーザーは自分のリソースにアクセスしている IPS を制御できます。 この機能のいくつかの特性:</p>\n\n<ul>\n <li>規則を使用すると、IP マスクに対するアクションの受け入れと拒否を指定できます。</li>\n <li>規則は IPv4 アドレスで動作します。</li>\n <li>規則は名前空間レベルに適用されます。</li>\n <li>複数のルールを使用して、順番に適用できます。</li>\n <li>IP アドレスと最初に一致した規則によって、許可または拒否のアクションが決まります。</li>\n <li>拒否された IPS からの要求は、承認されていない応答を受け取る。</li>\n</ul>\n\n<p>現在、これらの機能は、 <a href=\"https://portal.azure.com/\" target=\"_blank\">スクリーンショットに示</a> Azure portalで使用できます。 名前空間レベルまたは名前空間レベルEvent Hubs Service Bus ARM テンプレートを使用して検索できます。</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/IPfilter.jpg\"><img alt=\"\" class=\"aligncenter size-full wp-image-2315\" height=\"422\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/IPfilter.jpg\" width=\"1090\"></a></p>\n\n<p>次の ARM テンプレートは、この機能を使用する方法を示しています。 このテンプレートにより、以下のパラメーターが受け取られます。</p>\n\n<ul style=\"margin: 16px 0px 16px 38px; padding: 0px; color: rgb(0, 0, 0); text-transform: none; text-indent: 0px; letter-spacing: normal; font-family: &quot;Segoe UI&quot;, segoeui, &quot;Segoe WP&quot;, &quot;Helvetica Neue&quot;, helvetica, tahoma, arial, sans-serif; font-size: 16px; font-style: normal; font-weight: 400; word-spacing: 0px; white-space: normal; orphans: 2; widows: 2; background-color: rgb(255, 255, 255); font-variant-ligatures: normal; font-variant-caps: normal; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;\">\n <li><strong style=\"font-weight: 600;\">ipFilterRuleName</strong> は一意であり、長さは最大 128 文字の大文字と小文字を区別しない英数字である必要があります。</li>\n <li><strong style=\"font-weight: 600;\">ipFilterAction</strong> は IP フィルター規則に適用するアクションとして <strong style=\"font-weight: 600;\">Reject</strong> または <strong style=\"font-weight: 600;\">Accept</strong> である必要があります。</li>\n <li><strong style=\"font-weight: 600;\">ipMask</strong> は、1 つの IPv4 アドレスか、または CIDR 表記法で記述した IP アドレス ブロックです。 たとえば、CIDR 表記では、70.37.104.0/24 は 70.37.104.0 から 70.37.104.255 までの 256 個の IPv4 アドレスを表し、24 は範囲に対する有効プレフィックス ビット数を示します。</li>\n</ul>\n\n<pre>\n{\n   &quot;$schema&quot;:&quot;https://schema.management.azure.com/schemas/2014-04-01-preview/deploymentTemplate.json#&quot;,\n   &quot;contentVersion&quot;:&quot;1.0.0.0&quot;,\n   &quot;parameters&quot;:{   \n                &quot;namespaceName&quot;:{\n                      &quot;type&quot;:&quot;string&quot;,\n                      &quot;metadata&quot;:{\n                           &quot;description&quot;:&quot;Name of the namespace&quot;\n                      }\n                },\n                &quot;ipFilterRuleName&quot;:{\n                      &quot;type&quot;:&quot;string&quot;,\n                      &quot;metadata&quot;:{\n                           &quot;description&quot;:&quot;Name of the Authorization rule&quot;\n                      }\n                },\n                &quot;ipFilterAction&quot;:{\n                      &quot;type&quot;:&quot;string&quot;,\n                      &quot;allowedValues&quot;: [&quot;Reject&quot;, &quot;Accept&quot;],\n                      &quot;metadata&quot;:{\n                           &quot;description&quot;:&quot;IP Filter Action&quot;\n                      }\n                },\n                &quot;IpMask&quot;:{\n                      &quot;type&quot;:&quot;string&quot;,\n                      &quot;metadata&quot;:{\n                           &quot;description&quot;:&quot;IP Mask&quot;\n                      }\n                }\n         },\n       &quot;resources&quot;: [\n        {\n            &quot;apiVersion&quot;: &quot;2018-01-01-preview&quot;,\n            &quot;name&quot;: &quot;[concat(parameters(&#39;namespaceName&#39;), &#39;/&#39;, parameters(&#39;ipFilterRuleName&#39;))]&quot;,\n            &quot;type&quot;: &quot;Microsoft.EventHub/Namespaces/IPFilterRules&quot;,\n            &quot;properties&quot;: {\n                           &quot;FilterName&quot;:&quot;[parameters(&#39;ipFilterRuleName&#39;)]&quot;,\n                           &quot;Action&quot;:&quot;[parameters(&#39;ipFilterAction&#39;)]&quot;,                        \n                &quot;IpMask&quot;: &quot;[parameters(&#39;IpMask&#39;)]&quot;\n            }\n        }\n    ]\n}</pre>\n\n<p>キューやトピックにアクセスするユーザーをEvent Hubs、Service Bus制御する必要がありますか? 現在使用している名前空間または名前空間に対して IP <a href=\"https://docs.microsoft.com/en-us/azure/service-bus-messaging/service-bus-ip-filtering\" target=\"_blank\">フィルター Service Bus</a>試<a href=\"https://docs.microsoft.com/en-us/azure/event-hubs/event-hubs-ip-filtering\" target=\"_blank\">Event Hubs</a>します。</p>"
