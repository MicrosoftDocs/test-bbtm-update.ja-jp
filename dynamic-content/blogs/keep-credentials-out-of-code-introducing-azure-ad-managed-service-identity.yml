### YamlMime:Yaml
ms.openlocfilehash: e1a68dcd54eab69e803e4fa43d685f60177056de
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139895505"
Slug: keep-credentials-out-of-code-introducing-azure-ad-managed-service-identity
Title: '資格情報をコードから守る: マネージド Azure ADの導入'
Summary: クラウド開発の一般的な課題は、クラウド サービスに対する認証に使用される資格情報を管理する方法です。 本日は、マネージド サービス ID (MSI) Azure Active Directoryについてお知らせいたします。
Content: >-
  <p>クラウド開発の一般的な課題は、クラウド サービスに対する認証に使用される資格情報を管理する方法です。 本日は、マネージド サービス ID (MSI) <a href="https://docs.microsoft.com/azure/active-directory/msi-overview" target="_blank">Azure Active Directoryについて</a>お知らせいたします。 MSI を使用すると、コードから資格情報を保持できるよう、Azure サービスに対する認証用に自動的に管理される ID がコードに提供されます。</p>


  <h2>マネージド サービス ID とは何か、およびそれを使用する方法</h2>


  <p>コードにはクラウド サービスに対する認証に資格情報が必要ですが、それらの資格情報の可視性を可能な限り制限する必要があります。 開発者のワークステーションに表示&rsquo;したり、ソース管理にチェックインしたりしないのが理想的です。 <a href="https://azure.microsoft.com/services/key-vault/" target="_blank">Azure Key Vault</a> 資格情報を&rsquo;安全に格納してコードに格納できますが、それらを取得するには、資格情報を取得するために認証を行う必要Azure Key Vault。 そして、Key Vault に対して認証するには資格情報が必要になります。 これは、古典的なブートストラップ問題です。 MSI は、Azure &ldquo;&rdquo; と Azure ADのマジックを通じて、開始をはるかに簡単にするブートストラップ ID を提供します。</p>


  <p>その&rsquo;動作を次に示します。 Virtual Machines、App Service、Functions などの Azure サービスに対して MSI を有効にした場合、Azure は Azure AD でサービスのインスタンスのサービス プリンシパルを作成し、サービス プリンシパルの資格情報 (クライアント ID と証明書) をサービスのインスタンスに挿入します。 次に、</p>


  <ol>
   <li>コードがローカル MSI エンドポイントを呼び出してアクセス トークンを取得する</li>
   <li>MSI では、ローカルに挿入された資格情報を使用して、ローカルからアクセス トークンAzure AD</li>
   <li>コードでは、このアクセス トークンを使用して Azure サービスに対する認証を行います</li>
  </ol>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/7e0dd3ba-7102-40f7-9f30-27f0b5553de1.png"><img alt="Azure AD Managed Service Identity" border="0" height="541" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/8ea097aa-1497-4e69-9475-f55de097c91e.png" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; border-top-width: 0px; margin-right: auto" title="Azure AD マネージド サービス ID" width="766"></a></p>


  <p>これで完了です。 アクセス トークンは、認証をサポートするサービス (Azure ADなど) で直接使用Azure Resource Manager。 ネイティブで&rsquo; Azure AD をサポートしないサービスに対して認証する必要がある場合は、トークンを使用して Key Vault に対する認証を行い、そこから資格情報を取得できます。 Azure と Azure ADは、サービス プリンシパルの資格情報のローリングを&rsquo;行います。 コードと開発者は、それらを表示または管理しません。</p>


  <h2>[試用版]</h2>


  <p>本日は、次のマネージド サービス ID のプレビューを発表します。</p>


  <ul>
   <li><a href="https://docs.microsoft.com/azure/active-directory/msi-tutorial-windows-vm-access-arm" target="_blank">Azure Virtual Machines (Windows)</a></li>
   <li><a href="https://docs.microsoft.com/azure/active-directory/msi-tutorial-linux-vm-access-arm" target="_blank">Azure Virtual Machines (Linux)</a></li>
   <li><a href="https://docs.microsoft.com/azure/app-service/app-service-managed-service-identity" target="_blank">Azure App Service</a></li>
   <li><a href="https://docs.microsoft.com/azure/app-service/app-service-managed-service-identity" target="_blank">Azure Functions</a></li>
  </ul>


  <p>リンクをクリックしてチュートリアルを試してください。</p>


  <p>マネージド サービス ID は、すべての Azure サブスクリプションに付属Azure AD Freeサービス ID の機能です。 マネージド サービス ID の使用に追加料金は発生します。</p>


  <p>皆様のご意見をお待ちしております。 <a href="https://stackoverflow.com/questions/tagged/azure-msi" target="_blank">azure-msi</a>&rdquo; タグを&ldquo;使用してStack Overflow方法に関する質問をしたり、機能に関するフィードバックや提案を開発者フィードバック フォーラムAzure AD<a href="https://feedback.azure.com/forums/169401-azure-active-directory/category/164757-developer-experiences" target="_blank">投稿することができます</a>。</p>
