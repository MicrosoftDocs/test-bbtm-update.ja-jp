### YamlMime:Yaml
ms.openlocfilehash: 5bd09aa9c8963f8c823ec5b66c126bd1d840a44d
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139891552"
Slug: introduction-to-open-data-protocol-odata-and-sql-azure
Title: Open Data Protocol (OData) と SQL Azure の概要
Summary: '[この記事は SQL Azure チームによって提供されました。]Open Data Protocol (OData) は、Web 経由でデータを照会および更新するための新たな標準です。 OData は、コアを持つ REST ベースのプロトコルです。'
Content: '<p>[この記事は SQL Azure チームによって提供されました。]</p><p><a href=""><img style="border-bottom: 0px; border-left: 0px; display: inline; margin-left: 0px; border-top: 0px; margin-right: 0px; border-right: 0px" title="画像 " border="0" alt="image" align="right" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/4721.image_5F00_thumb_5F00_594FE201.png" width="71" height="73"> </a> <a href="https://www.odata.org/">Open Data Protocol (OData)</a>は、Web 経由でデータを照会および更新するための新しい標準です。 OData は、データサービスとそのデータにアクセスするクライアントとの間の相互運用性を最大化することを主な目的とする REST ベースのプロトコルです。 これは、SQL Azure やファイルシステムなどのリレーショナルデータベースからコンテンツ管理システムや従来の web サイトにまで、さまざまなソースからのデータを公開するために使用されています。 さらに、ASP.NET、PHP、および Java web サイトからモバイルデバイス上の Microsoft Excel、PowerPivot、およびアプリケーションまで、多くのプラットフォームにまたがるクライアントでも、OData を使用して膨大なデータストアに簡単にアクセスできます。</p>  <p>SQL Azure odata サービス育成 (現時点では SQL Azure Labs) は、Microsoft によってホストされる SQL Azure データベースへの odata インターフェイスを提供します。 現在 SQL Azure OData サービスは育成にあり、変更される可能性があります。 この機能をリリースするかどうかについてのフィードバックが必要です。 フィードバックは、www.mygreatsqlazureidea.com で電子メール <a href="mailto:SqlAzureLabs@microsoft.com">SqlAzureLabs@microsoft.com</a> または投票を行うことによって提供できます。 これについて考えてみるもう1つの方法は、OData サービス SQL Azure SQL Azure データへの REST インターフェイスを提供することです。</p>  <p>SQL Azure 呼び出す主なプロトコルは、SQL Server によって使用される<a href="https://msdn.microsoft.com/en-us/library/dd304523(PROT.13).aspx">表形式のデータストリーム</a>(TDS) です。 SQL Server Management Studio、 <b>SqlServer の</b>ADO.NET と .NET Framework の Data Provider では、tds を介して通信するクライアントの総数が、HTTP を話すクライアントの数と同じではありません。 odata サービス SQL Azure は、SQL Azure データ、HTTP、REST を odata 標準の形式でアクセスするための2番目のプロトコルを提供します。 これにより、OData 標準に参加する他のクライアントが、SQL Azure データにアクセスできるようになります。 OData は <a href="https://www.microsoft.com/interop/osp/default.mspx">オープンな仕様</a> で公開されているので、odata を使用するクライアントとサーバー実装は多数存在します。 ADO.Net を使用すると、データと OData の豊富なエクスペリエンスが提供され、リーチエクスペリエンスが提供されます。</p>  <h2>OData サービスのセキュリティの SQL Azure</h2>  <p>SQL Azure データへの REST インターフェイスを使用することを検討するときは、まず、どのようにアクセスを制御すればよいでしょうか。 SQL Azure OData サービスの実装により、特定のユーザーを Access Control Service (ACS) にマップしたり、単一の SQL Azure ユーザーによる匿名アクセスを許可したりすることができます。 </p>  <h3>匿名アクセス</h3>  <p>匿名アクセスは、HTTP クライアントと SQL Azure OData サービスの間で認証が必要ないことを意味します。 ただし、SQL Azure への匿名アクセスは存在しません。そのため、匿名アクセスを許可する SQL Azure odata サービスに通知する場合は、odata サービス SQL Azure が SQL Azure にアクセスするために使用できる SQL Azure ユーザーを指定する必要があります。 OData サービスの SQL Azure アクセスには、SQL Azure ユーザーと同じ制限があります。 したがって、odata サービス SQL Azure に使用されている SQL Azure ユーザーが SQL Azure データベースに対する読み取り専用権限を持っている場合、SQL Azure odata サービスはデータベース内のデータのみを読み取ることができます。 同様に SQL Azure、SQL Azure ユーザーが特定のテーブルにアクセスできない場合、匿名ユーザーによる OData サービスは、これらのテーブルにアクセスすることはできません。</p>  <p>SQL Azure でのユーザー作成の詳細については、このブログ投稿を参照してください。データベースの読み取り専用ユーザーを作成する方法を示しています。</p>  <h3>Access Control Service</h3>  <p>Windows Azure AppFabric Access Control (ACS) サービスは、REST Web サービスに対してフェデレーション認証とルール主導の要求ベースの承認を提供するホステッドサービスです。 REST Web サービスは、Active Directory フェデレーションサービス (AD FS) (ADFS) v2 を使用するエンタープライズ統合シナリオに加えて、単純なユーザー名/パスワードのシナリオに ACS を利用できます。</p>  <p>odata でこの種の認証を使用するに<a href="https://appfabric.azure.com/">は、ここ</a>で AppFabric にサインアップし、SQL Azure OData サービスでを使用するサービス名前空間を作成する必要があります。 SQL Azure odata サービスの CTP では、これにより、SQL Azure Labs ポータルによって発行された秘密キーを使用して Windows Azure AppFabric Access Control 経由で SQL Azure OData サービスにアクセスするためのデータベースユーザーと同じユーザー id を持つ1人のユーザーが許可されます。 現時点では、Active Directory フェデレーションサービス (AD FS) (ADFS) 統合を統合したり、複数のユーザーを SQL Azure のアクセス許可にマップしたりすることはできません。</p>  <h2>セキュリティに推奨される手順</h2>  <p>SQL Azure OData サービスの使用に関するいくつかのベストプラクティスを次に示します。</p>  <ul>   <li>SQL Azure 管理者のユーザー名を使用して SQL Azure OData サービスへの匿名アクセスを許可しないでください。 これにより、だれでもデータベースの読み取りと書き込みができるようになります。 常に新しい SQL Azure ユーザーを作成する必要があります。このブログ投稿を参照してください。</li>    <li>odata サービス SQL Azure によって使用される SQL Azure ユーザーに、匿名アクセスを使用した odata サービス SQL Azure の書き込みアクセスを許可しないでください。書き込むデータの量や種類を制御する方法はありません。</li>    <li>ブラウザーは、Windows Azure AppFabric Access Control を使用する OData サービスの SQL Azure に必要な単純な Web トークン認証をネイティブでサポートしないため、匿名アクセスを行うために独自のクライアントを構築する必要があります。 詳細については、こちらの <a href="https://blogs.msdn.com/b/jackgr/archive/2010/04/16/odata-for-sql-azure-with-appfabric-access-control.aspx">ブログ記事</a>をご覧ください。 ただし、OData が CTP の下にあり、読み取り専用の SQL Azure ユーザーとの匿名アクセスのみを使用する場合は、この方法が最も簡単です。</li> </ul>  <h2>まとめ </h2>  <p>ここでは、OData の基本と、セキュリティに関する一連のセキュリティについて説明します。 この情報は、OData の成熟と共に変更され、SQL Azure Labs から実稼働リリースに移行されます。 質問、懸念事項、コメントがありますか。 これらを下に投稿してください。</p>'
