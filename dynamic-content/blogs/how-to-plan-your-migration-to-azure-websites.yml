### YamlMime:Yaml
ms.openlocfilehash: 11eb89f17a0227a3579a541658f5c5791f9e7b66
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139904152"
Slug: how-to-plan-your-migration-to-azure-websites
Title: Azure Websites への移行を計画する方法
Summary: >
  Azure Websites への移行を計画していますか? このブログ投稿では、Azure Web サイト プラットフォームを理解し、ライブのプロセスをガイドするガイダンスを提供します。
Content: '<p>クラウド プラットフォームへの移行は、困難な作業になる可能性があります。 ホスティング ソリューションとして Azure Websites を使用する場合は、いくつかの重要な点を考慮する必要があります。 このセクションでは、Azure Web サイトに移行するときにプラットフォームについて知る必要がある情報を紹介します。</p><h2>1. グローバルに利用可能</h2><p>Azure Web サイトは、世界中の複数のデータセンターで利用できます。 これにより、関心のある地理的市場のニーズを満たすために、太字の Web サイトが簡単になります。 サポートされているリージョンの一覧を表示するには、ここをクリック <a href="https://azure.microsoft.com/en-us/regions/#services">してください</a>。</p><h2>2. Azure Websites にはロード バランサーが組み込まれます</h2><p>IaaS ベースのソリューションで Web サイトをセットアップする場合は、 <a href="https://nginx.org/">Ngnix</a> または他のソリューションを使用してロード バランサーをセットアップする必要があります。 Azure Web サイトでは、複数の VM 間でのサイトの負荷分散について心配する必要はありません。また、Azure Traffic Manager と一緒に使用して、リージョン間で負荷分散することができます。 Azure Web サイトの FREE レベルを使用している場合、ロード バランサーはサポートされません。</p><p>そのため、Web サイト用のカスタム ロード バランサーを構築する必要が生じりません。</p><h2>3. Azure Websites では IIS Web サーバーが使用されます</h2><p>Azure Websites は、.NET、PHP、Node <strong>JS、Python、Java</strong> Server.It フレームワークをサポートする、IIS を Web Windows とする Windows ベースのインフラストラクチャ上で実行されます。 Azure Web サイトでは、セキュリティ、診断、パフォーマンスに関して、すべての IIS 機能を利用します。 IIS の詳細については、こちらを <a href="https://www.iis.net/learn">クリックしてください</a>。</p><h2>4. Azure Web サイトの SLA について</h2><p>Azure Web サイト上に構築されたアプリケーションでは、ホスティング サービスが 100% 使用可能と想定できません。 Azure Web サイトで Web サイトの月間可用性が 99.9% 提供されるという Azure Web サイトの SLA を読んで理解します。</p><p>データベース、Azure Storage、CDN サービス、YouTube サービスなど、アプリケーションと緊密または疎結合されている他の Azure サービスまたは Azure 以外のサービスを使用している場合は、サービスからの SLA も理解する必要があります。</p><p>毎月 99.9% を超えるアップタイムを設定する場合は、失敗する可能性があるコンポーネントを念頭に置き、Web サイトのフェールオーバーまたはディザスター リカバリーを管理できると理解する必要があります。</p><h2>5. 価格レベルあたりの機能</h2><p>Azure Websites は、Free、 <strong>Shared (プレビュー)</strong>、BasicandStandard の 4  <strong>つのレベルで</strong>  <strong>提供されています</strong>。 <strong></strong></p><ul><li><strong>Websites Shared (プレビュー)</strong>: プレビュー期間中の共有レベルの価格は、Web サイト インスタンスあたり  <strong>$0.013per</strong>  時間 (月あたり最大 $10) です。 この価格には、33% のプレビュー割引が反映されます。</li><li><strong>Websites Basic および Standard</strong>: Basic レベルと Standard レベルでは、複数のインスタンス サイズが提供されるだけでなく、Basic (Single Small インスタンス) の場合は $56、Standard (単一の小規模インスタンス) の場合は $75 から始まる容量ニーズの変化に合わせてスケーリングできます。</li></ul><p>価格レベルごとの機能の詳細については、こちらを <a href="https://azure.microsoft.com/en-us/pricing/details/websites/">クリックしてください</a>。</p><h2>6. Web サイトをホストする仮想マシンにはアクセスできません</h2><p>Azure Web サイトでは、アプリケーションをホストするためのインフラストラクチャが提供されますが、仮想マシンに実際に接続してマシンにアクセスすることはできません。 つまり、これらのマシンにソフトウェアをインストールすることはできません。 アプリケーションは物理デバイスに存在するのではなく、仮想マシン上に存在し、仮想マシンの問題が生じ、スケールアップまたはスケールダウンまたは交換できます。</p><p>そのため、このような環境で動作するには、アプリケーションがステートレスである必要があります。</p><h2>7. 自動スケーリング</h2><p>自動スケール機能は、Standard Website モードで使用できます。 手動で介入することなく、Web サイトをスケーリングするコスト効率の高い方法です。 自動スケールでは、Web サイトのインスタンス数を手動で増減する代わりに、指定した範囲内の受信サイト トラフィックに基づいて、Web サイトの適切なスケールが選択されます。 詳細については、自動スケールを構成する方法に関するページを参照してください。</p><h2>8. Azure Websites のファイル サーバーは、すべてのインスタンスによって共有されます</h2><p>ファイル サーバーは、Web サイトが使用するように構成されているすべてのインスタンスで共有されます。 複数のインスタンスを使用する場合、およびマシンに一部のセッション データをキャッシュする場合は、すべてのインスタンスがこれを表示できるというのではありません。</p><p>アプリケーションが何を実現しようとしているかに応じて、Web サイトが実行しているすべての仮想マシン インスタンスとデータの整合性を保つ必要がある場合は、アプリケーションに永続的なストレージを使用します。そうしない場合は、仮想マシン インスタンスの %TEMP% フォルダーにデータを格納できます。</p><h2>9. キャッシュ</h2><p>Azure Web サイトには、PHP アプリケーション用 <a href="https://www.iis.net/downloads/microsoft/wincache-extension">の Wincache</a> と、IIS でホストできる任意のアプリケーションで使用できる IIS サーバー レベルのキャッシュ (出力キャッシュ) と、利用できる PHP アプリケーション用の Wincache が提供されています。</p><p>ほとんどの場合、これは十分ですが、より高いレベルのキャッシュが必要な場合は、次を使用する必要があります。</p><ul><ul><li><a href="https://azure.microsoft.com/en-us/documentation/articles/cache-dotnet-how-to-use-azure-redis-cache/">Azure Redis Cache Preview</a> または</li><li><a href="https://msdn.microsoft.com/en-us/library/azure/dn386094.aspx">Azure マネージド キャッシュまたは</a></li><li>Azure Virtual Machines を使用して独自の <a href="https://azure.microsoft.com/en-us/services/virtual-machines/">キャッシュ クラスターを構築する</a></li></ul></ul><h2>10. ステージ展開と発行</h2><p>Azure Web サイトには、Azure Web サイトで実行されている Standard モードのサイトで<b></b>使用できるサイト スロットを使用した、Microsoft Azureの概念が用意されています。 これにより、既定の運用サイト (運用スロット) ごとに開発またはステージング サイト スロットを作成し、これらのスロットをダウンタイムを使用してスワップすることができます。 詳細については、「サイト スロットを <a href="https://azure.microsoft.com/en-us/documentation/articles/web-sites-staged-publishing/">構成してデプロイする方法」を参照してください。</a></p><h2>11. SSL</h2><p>他のユーザーが HTTPS を使用して Web サイトにアクセスすると、Web サイトとブラウザー間の通信は Secure Socket Layer (SSL) 暗号化を使用して保護されます。 これは、インターネット上で送信されるデータをセキュリティで保護するために最も一般的に使用される方法であり、訪問者がサイトとのトランザクションをセキュリティで保護します。 この記事では、Azure Web サイトで HTTPS を有効にする方法について説明します。 詳細については、SSL の構成 <a href="https://azure.microsoft.com/en-us/documentation/articles/web-sites-configure-ssl-certificate/">方法に関するページを参照してください。</a></p><h2>12. カスタム ドメイン</h2><p>Web サイトを作成すると、Microsoft Azure は azurewebsites.net ドメインに表示されるサブドメインを提供し、ユーザーが https://&lt; mysite.azurewebsites.net&gt; のような URL を使用して Web サイトにアクセスできます。 ユーザーに認識可能なドメイン名を提供するために、contoso.com などのカスタム ドメイン名を Web サイトに関連付けもできます。 詳細については、「Azure Web <a href="https://azure.microsoft.com/en-us/documentation/articles/web-sites-custom-domain-name/">サイトにカスタム ドメインを追加する方法」を参照してください</a>。</p><h2>13. WebJobs を使用したバックグラウンド プロセス (プレビュー)</h2><p>Microsoft Azure Web サイトを使用すると、オンデマンド、継続的、スケジュールの 3 つの方法のいずれかを使用して、Web サイトでプログラムまたはスクリプトを実行できます。 この機能を有効にする場合をMicrosoft Azure限り、Web ジョブを使用する追加Always Onはありません。 詳細については、Azure Web <a href="https://azure.microsoft.com/en-us/documentation/articles/web-sites-create-web-jobs/">サイト用の Web ジョブを作成する方法に関するページを参照してください</a>。</p><h2>14. 自動修復</h2><p>これを Web サイトに対して有効にすると、サイトが特定の条件を自動的に検出して回復するのに役立ちます。 "Always ON" 機能の一部として、Web アプリケーションをホストするワーカー プロセス (VM インスタンス) を自動的にリサイクルできる機能強化がいくつか行われます。 詳細については、自動修復 <a href="https://azure.microsoft.com/blog/2014/02/06/auto-healing-windows-azure-web-sites/">を有効にする方法に関するページを参照してください</a>。</p><h2>15. バックアップと復元 </h2><p>Azure Web サイトのバックアップと復元機能を使用すると、Web サイトのバックアップを手動または自動で簡単に作成できます。 Web サイトを以前の状態に復元するか、元のサイトのバックアップに基づいて新しい Web サイトを作成できます。</p><p>バックアップから Azure Web サイトを復元する方法については、Azure Web サイトの復元 <a href="https://azure.microsoft.com/en-us/documentation/articles/web-sites-restore/">に関するページを参照してください</a>。 バックアップの構成の詳細については、Azure Web サイトの <a href="https://azure.microsoft.com/en-us/documentation/articles/web-sites-backup/">バックアップに関するページを参照してください</a>。</p><h2>16. SMTP に SendGrid サービスを使用する</h2><p>WEB サイトでは、SMTP は既定では有効になっていません。 Web アプリケーションで電子メール サービス が必要な場合は、無料から始まるプランを含む <strong></strong> <strong>SendGrid</strong> サービスを購入できます。このサービスでは、こちらに記載されている 1 か<a href="https://sendgrid.com/windowsazure.html"></a>月あたり 2,500 件の電子メールから上位のプランにアクセスできます。 詳細については、 <a href="https://azure.microsoft.com/en-us/documentation/articles/store-sendgrid-mobile-services-send-email-scripts/">SendGrid の構成方法に関するページを参照してください</a>。</p><h2>Azure Web サイトの公開に関するチェックリスト</h2><ul><li>サイトをホストするデータ センターの を選択します。</li><li>すべての <a href="https://azure.microsoft.com/blog/2014/04/04/introducing-web-hosting-plans-for-azure-web-sites/">Web サイトで</a> 同じホスティング プランを使用するか、アプリが運用サイトかステージング サイトかに基づいて区別するかについて、Azure Web サイトのホスティング プランを理解します</li><li>ニーズに合わせてデプロイ ソリューションを選択する: <a href="https://git-scm.com/">GIT</a>、 <a href="https://www.iis.net/downloads/microsoft/web-deploy">Web</a> デプロイ、 <a href="https://bitbucket.org">Bitbucket</a>、 <a href="https://www.dropbox.com/">DropBox</a>、<a href="https://github.com/">Github</a> など、または GIT 、Web 配置 API を使用して構築されたカスタム ソリューション</li><li>アプリケーションで必要な場合は、キャッシュ、データベースなど、すべての依存コンポーネントを設定します</li><li>Web アプリケーションの開発/テスト Web サイトを設定する<ul><li>サイト スロットを使用するか、</li><li>開発アプリケーションで別のデータベース、別の Web サイト モード、または異なるホスティング プランなどを使用している場合など、開発サイトの要件に応じて、別の Web サイトを作成します。</li></ul></li><li>Web アプリケーションのステージング Web サイトを設定する<ul><li>サイト スロットを使用するか、</li><li>開発アプリケーションで別のデータベース、別の Web サイト モード、または異なるホスティング プランなどを使用している場合など、開発サイトの要件に応じて、別の Web サイトを作成します。</li></ul></li><li>実稼働 Web アプリケーションをセットアップします。 お使いの実稼働アプリケーションを Basic または Standard で実行して、お客様のバドルを最も多く取得することをお勧めします。 Azure ストレージ アカウントへの Web サーバーのログ記録を有効にして、運用サイト、ステージング サイト、開発サイトでアプリケーションの問題をデバッグできる</li><li>実稼働サイトでカスタム ドメインを設定する</li><li>アプリケーションで画像やビデオなどの多くのメディア コンテンツが必要な場合は、Azure Storage などの他のサービスを使用して、メディア コンテンツや Azure Media Services (.NET Apps) や YouTube for Php/Python/Node JS/Java アプリケーションなどのサードパーティサービスをビデオ ストリーミング用にホストします</li><li>アプリケーションがすべてのサイトで SSL を必要とする場合は、開発、ステージング、運用</li><li>すべての Web サイトで自動修復を設定する</li><li>バックアップ機能を使用して自動バックアップを設定するか、Web ジョブまたは Azure VM を使用してバックアップ Web サービス プロセスをホストする独自のソリューションを構築します</li><li>実稼働サイトで自動スケーリングを設定します。 開発サイトとステージング サイトはコスト効率が高く、開発サイトまたはステージング サイトのスケールとパフォーマンスのテスト中に有効にできる必要はありません。</li></ul><h2>まとめ</h2><p>Azure Websites のようなコスト効率に優れたスケーラブルでフォールト トレラントなソリューションの利点を得るには、多くのアーキテクチャと設計に関する考慮事項があります。 このドキュメントでは、デプロイの成功と手間のかからない運用の可能性を高めるのに役立つ、Azure Web サイトによって提供されるプラットフォームの主要な側面のベスト プラクティスと理解について説明します。</p><p>&nbsp;</p>'
