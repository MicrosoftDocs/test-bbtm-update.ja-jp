### YamlMime:Yaml
ms.openlocfilehash: a46c3cab78807eef1b0fd79b744e9d7066e1a26c
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139890738"
Slug: increasing-polybase-row-width-limitation-in-azure-sql-data-warehouse
Title: Azure SQL Data Warehouse で PolyBase 行幅の制限を増やす
Summary: SQL DW の PolyBase の最新リリースでは、行幅の制限を 32 KB から 1 MB に増やしました。 これにより、BLOB または Azure Windows Azure Storageから DW にワイド列Data Lake Store直接SQLできます。
Content: >-
  <p>Azure SQL Data Warehouse (SQL DW) は、データ ウェアハウスSQLベースのフル マネージドのペタバイト規模のクラウド ソリューションです。 SQL DW は高いエラスティック性を備え、数分でプロビジョニングし、容量を数秒でスケーリングできます。 コンピューティングとストレージを個別にスケーリングすることで、複雑な分析ワークロードのコンピューティングをバーストしたり、アーカイブ シナリオのためにウェアハウスをスケールダウンしたり、定義済みのクラスター構成にロックされるのではなく、&#39;で使用しているコストに基づいて支払いを行えます。</p>


  <p>SQL DW の PolyBase の最新リリースでは、行幅の制限を 32 KB から 1 MB に増やしました。 これにより、BLOB または Azure Windows Azure Storageから DW にワイド列Data Lake Store直接SQLできます。</p>


  <p>PolyBase 経由で SQL DW にデータを読み込む場合は、文字列のデータ サイズに関するいくつかの重要なポイントを考慮する必要があります。</p>


  <ul>
      <li>文字型 (char、varchar、nchar、nvarchar) の場合、1 MB のデータ サイズは、UTF-16 形式のデータのメモリ消費量に基づいて行います。 つまり、各文字は 2 バイトで表されます。</li>
      <li>可変長列 ((n)varchar, varbinary) をインポートする場合、読み込みツールは、データ型に関係なく、外部テーブル定義のスキーマの幅にバッファーをパッドします。 つまり、varchar(8000) には、行内のデータのサイズに関係なく、8,000 バイトが予約されています。</li>
  </ul>


  <p>パフォーマンスを向上させるために、スキーマ データ型の埋め込み量を最小限に抑えた外部テーブルを定義して、内部バッファーごとに転送されるデータの量を最大化します。</p>


  <p>さらに、中規模または大規模なリソース クラスを使用し、特に CCI テーブルにデータをインポートするために必要な追加のメモリを利用するために、より大きな DWU インスタンスにスケールアップするベスト プラクティスです。 詳細については、DWU とリソース クラスによる <a href="https://docs.microsoft.com/en-us/azure/sql-data-warehouse/sql-data-warehouse-develop-concurrency">メモリ割り当てに関するドキュメントを参照してください</a>。</p>


  <h3>次の手順</h3>


  <p>外部テーブルを使用して DW への読みSQL読み込みチュートリアルを<a href="https://docs.microsoft.com/en-us/azure/sql-data-warehouse/sql-data-warehouse-load-from-azure-blob-storage-with-polybase">試してください</a>。</p>


  <h3>詳細情報</h3>


  <p><a href="https://azure.microsoft.com/documentation/articles/sql-data-warehouse-overview-what-is/">Azure SQL Data Warehouse の概要</a></p>


  <p><a href="https://azure.microsoft.com/en-us/services/data-lake-store/">Azure Data Lake Store とは</a></p>


  <p><a href="https://azure.microsoft.com/documentation/articles/sql-data-warehouse-best-practices/">SQL Data Warehouseベスト プラクティス</a></p>


  <p><a href="https://social.msdn.microsoft.com/Forums/en-US/home?forum=AzureSQLDataWarehouse">MSDN フォーラム</a></p>


  <p><a href="https://stackoverflow.com/questions/tagged/azure-sqldw">Stack Overflow フォーラム</a></p>
