### YamlMime:Yaml
ms.openlocfilehash: 23804e7f8d77d75189cd3c4c95d9f0f0fa759882
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139893183"
Slug: azure-defender-for-app-service-introduces-dangling-dns-protection
Title: Azure DefenderのApp Service DNS 保護が導入されています
Summary: 攻撃者は Web アプリケーションAzure App Service脆弱性を常に探し続ける中で、クラウドでホストされているリソースが最も先頭に立っています。 休止中のドメインは、日和見的な攻撃者とターゲット指向の両方の攻撃者のチェックリストの永続的な常駐です。
Content: >-
  <p>攻撃者は Web <a href="https://azure.microsoft.com/en-us/services/app-service/" target="_blank">Azure App Service</a> 脆弱性を常に探し続けるので、このサービスでホストされているリソースは最も先頭に立っています。 休止中のドメインは、日和見的な攻撃者とターゲット指向の両方の攻撃者のチェックリストの永続的な常駐です。 潜在的な攻撃面を減 <a href="https://docs.microsoft.com/en-us/azure/security/fundamentals/subdomain-takeover#use-azure-app-services-custom-domain-verification" target="_blank">Azure App Service</a> カスタム ドメインを App Service リソースにバインドするときにドメイン検証を適用します。</p>


  <p>このブログでは、App Service Web サイトの使用停止時に、App Service の Azure Defender で DNS レジストラーに残っているドメイン ネーム システム (DNS)&mdash; エントリを識別する方法について説明します。これらのエントリは未解決の DNS エントリと呼ばれる場合です。 Web サイトを削除し、DNS レジストラーからカスタム ドメイン&#39;削除しない場合、DNS エントリは存在しないリソースを指し示し、サブドメインは引き受けに対して脆弱です。 DNS エントリの解決を防ぎ、サブドメインの引き取りを防ぐためのプロセスを実装することをお勧めします。</p>


  <h2>一般的な概要: 問題が発生している DNS</h2>


  <p>ドメイン&#39;の DNS ゾーンからのカスタム DNS が、プロビジョニングされなくなった Azure &quot;リソースの DNS CNAME レコードにマップされ、関連付けられているドメインが残っているときに、接続されていない <a href="https://docs.microsoft.com/en-us/azure/security/fundamentals/subdomain-takeover" target="_blank">DNS</a> が開始されます&quot;。 この問題が発生している DNS エントリは、"ドメイン" とも呼ばれるが、ドメインはサブドメインの乗り替えと呼ばれる悪意のあるアクションに <a href="https://www.securityweek.com/subdomain-official-joe-biden-campaign-website-defaced-turkish-hacker" target="_blank">対して脆弱なままです</a>。</p>


  <p>サブドメインの引き上がりが発生すると、悪意のあるアクターが、プロビジョニング解除された Azure リソースに以前に関連付けられたドメインを制御します。 制御を取得することで、悪意のあるアクターは、そのエンドポイントを対象としたトラフィックを傍受したり、そのエンドポイントから悪意のあるコントラバンド コンテンツを提供したりできます。 潜在的な影響は、アプリケーションのアーキテクチャによって異なる場合があります。</p>


  <h2>Azure Defender for App Service</h2>


  <p><a href="https://azure.microsoft.com/en-us/services/azure-defender/" target="_blank">Azure Defender</a> App Serviceクラウドのスケールを使用して、クラウド上で実行されているアプリケーションをターゲットとする攻撃を特定App Service。 攻撃者は、Web アプリケーションをプローブして弱点を発見し、悪用します。 特定の環境にルーティングされる前に、Azure で実行されているアプリケーションへの要求は複数のゲートウェイを通過し、そこで&#39;ログに記録されます。 その後、このデータは、悪用や攻撃者を特定し、後で使用される新しいパターンを学習するために使用されます。</p>


  <p>Azure がクラウド プロバイダーとして持っている可視性を活用することで、Azure Defender for App Service は App Service 内部ログを分析して、複数のターゲット間の攻撃を特定します。 たとえば、分散ソースから発生した広範囲にわたるスキャンを示す攻撃手法を考えてみることができます。 この種の攻撃は通常、幅広い一連の IPs から取得され、クローラーのパターンを示しますが、攻撃者は脆弱なページまたはプラグインを検索します。 この種の攻撃は、1 つのホストの観点からは識別できません。</p>


  <h2>解決中の DNS 保護</h2>


  <p>Azure DefenderではApp Serviceホストされているアプリケーションにカスタム ドメインを以前にバインドしたお客様に対して、App Service DNS に対する保護が導入されます。 この作業では、Azure DNSドメインと、外部ドメイン レジストラーを介して管理されるドメインの両方について説明します。 CNAME&rsquo; 自体ではなく、使用停止の Web サイトを指す行に沿ったサービスが存在しない場合でも、解決されていない DNS が検出されます。 たとえば、削除された Web サイトを参照する既存のAzure Traffic Managerを参照するカスタム ドメインがあります。</p>


  <p>Azure DefenderのApp Service、Web サイトのプロビジョニング解除を監視し、エイリアス レコードが残されていないか確認します。 無効なドメイン構成が見&nbsp;つかった場合は、セキュリティ アラートが発生します。ユーザーは、新しく作成された脆弱性をすばやく修復できます。 Azure DefenderのApp Service、次の 2 種類のアラートが表示されます。</p>


  <ol>
      <li><strong>有効な DNS</strong>&nbsp; ポインターを持つリソース (&quot;App Service DNS エントリとも呼ばれる) に対して、最近使用停止された DNS レコードが検出&quot;されました。 これにより、ユーザーはサブドメインの引き取りを受けやすくなっています。</li>
      <li><strong>有効な DNS ポインター</strong> ( &quot;"不当な DNS エントリ" とも呼ばれる) を持つ、最近使用停止された App Service リソースに対して検出された潜在的な dangle DNS レコード&quot; 。 この場合、ドメイン検証 ID を持つ TXT レコードが見つかりました。 現時点では、サブドメインの引き渡しのリスクはありません。ただし、リソースの使用を停止するために CNAME ポインターを削除App Serviceめします。</li>
  </ol>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/f7d99aa2-894a-4e99-86c8-2917997201d7.png"><img alt="Figure 1. Sample of an Azure Defender alert raised in response to a Dangle DNS record has been detected." border="0" height="438" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/4220130a-232c-45f1-8354-5391ad537b92.png" style="border: 0px currentcolor; border-image: none; display: inline; background-image: none;" title="" width="1024"></a></p>


  <h2>未解決の DNS エントリを防止する</h2>


  <p>お客様の組織が、DNS エントリと結果として得られるサブドメインの引き取りを防ぐためのプロセスを実装することは、セキュリティ戦略の重要な部分です。</p>


  <p>一部の Azure サービスでは、予防策の作成に役立つ機能が提供されています。詳細については、以下で説明します。 この問題を防止するための他の方法は、組織のベスト プラクティスまたは標準の操作手順に従って確立する必要があります。</p>


  <p>DNS の不足&nbsp;とサブドメインの乗り替えの脅威の詳細については、「<a href="https://docs.microsoft.com/en-us/azure/security/fundamentals/subdomain-takeover" target="_blank">theprevent dangling DNS entries and avoid subdomain takeoverdocumentmentation</a>&nbsp;」を参照してください。</p>


  <h2>次のステップ</h2>


  <ul>
      <li>詳細については、Azure Defender <a href="https://docs.microsoft.com/en-us/azure/security-center/defender-for-app-service-introduction" target="_blank">攻撃App Service</a> 攻撃の識別に関する <a href="https://azure.microsoft.com/en-in/blog/azure-security-center-can-identify-attacks-targeting-azure-app-service-applications/" target="_blank">ページを参照App Service</a>。</li>
      <li>アラートの一覧についてはAzure App Serviceのリファレンス <a href="https://docs.microsoft.com/en-us/azure/security-center/alerts-reference#alerts-azureappserv" target="_blank">テーブルを参照してください</a>。</li>
  </ul>
