### YamlMime:Yaml
ms.openlocfilehash: a8e01e2d74bbee878eb2b53fe95b1e532204891e
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139896606"
Slug: azure-consumption-usage-details-api
Title: 使用量の詳細に関する Azure ARM API
Summary: Enterprise Azure のお客様向け Reporting API の更新として、AZURE のコストと使用状況ベースの API を ARM に統合する最初の手順である、更新された使用状況の詳細 API がリリースされます。
Content: >-
  <p>顧客向け <a href="https://docs.microsoft.com/en-us/azure/billing/billing-enterprise-api" target="_blank">Reporting API</a> の更新Enterprise、更新された使用状況の詳細 API をリリースしています。 これは、ARM (Azure Resource Manager) モデルでの Azure のコストと使用状況ベースの API の統合の最初のステップです。 更新された使用状況の詳細 API では、次がサポートされます。</p>


  <ul>
      <li>キー ベースの承認モデルから ARM ベースの認証への移行。 この承認モードの利点は、セキュリティ態勢の改善と、承認に ARM RBAC を利用する機能です。</li>
      <li>以下に示すいくつかの例外を除き、Web Direct サブスクリプションのサポートを追加します。</li>
      <li>フィルターを使用し、使用状況の詳細を展開する機能。</li>
      <li>サブスクリプション スコープ、またはサブスクリプションと請求期間のスコープに対して API を呼び出します。 サブスクリプションのすべての呼び出しは、現在の請求期間のデータを返します。</li>
      <li>フィルター条件では、日付、リソース グループ、リソース、インスタンスがサポートされます。 フィルターの詳細については、 <a href="https://github.com/Azure/azure-rest-api-specs/blob/master/specification/consumption/resource-manager/Microsoft.Consumption/stable/2017-11-30/consumption.json" target="_blank">Swagger を参照してください</a>。</li>
  </ul>


  <p>顧客Enterprise場合、サブスクリプションよりも高いレベルでレポートする作業が進行中であり、リリースされるまでは、既存の API を引き続き使用する必要があります。 消費 ARM API は、Enterprise のお客様と Web Direct から始まるさまざまな購入チャネルにわたって API を正規化する目標を持つ、コスト関連の API に投資し続ける領域です。 今後のリリースでは、予算などの機能や他のサブスクリプションの種類やチャネルのサポートを含む API の拡張に投資するにつれて、API は進化し続けます。</p>


  <h2>使用状況の詳細 API</h2>


  <h3>使用状況の詳細の一覧</h3>


  <p>usage details API は、指定されたサブスクリプションの使用状況とコストの情報を返します。 さらに、API では、スコープ、フィルター、詳細に関するいくつかのオプションもサポートされています。 例と詳細なドキュメントについては、ドキュメント ページを <a href="https://docs.microsoft.com/en-us/rest/api/consumption/">参照してください</a>。</p>


  <p>少なくとも、API を呼び出すサブスクリプションに対する課金閲覧者特権が必要です。 また、EA のお客様の EA ポータルで表示料金を有効にする必要があります。</p>


  <h3>使用状況の詳細オプション</h3>


  <h4>Scope</h4>


  <p>スコープは、サブスクリプションのコンテキスト、または API を呼び出している請求期間です。 スコープは、次に示すように、サブスクリプションまたはサブスクリプションの特定の請求期間に限ります。</p>


  <ul>
      <li>サブスクリプションのみ: subscriptions/{subscriptionId}</li>
      <li>サブスクリプションの請求期間: /subscriptions/{subscriptionId}/providers/Microsoft.Billing/billingPeriods/{billingPeriodName}</li>
  </ul>


  <h4>Expand</h4>


  <p>既定では、API は測定 ID を持つ集計された使用状況情報のみを返します。 メーターに関する追加情報、またはリソースに関する追加情報が必要な場合は、適切な値を指定して expand パラメーターを追加する必要があります。</p>


  <ul>
      <li>拡張された測定情報: properties/meterDetails</li>
      <li>展開されたプロパティ バッグ: properties/additionalProperties</li>
  </ul>


  <h4>フィルター</h4>


  <p>フィルターを使用して、データを特定の条件に制限できます。 フィルターは、日付範囲フィルターを含む少数の列でのみサポートされ、ドキュメントで説明されているいくつかの制限があります。</p>


  <h3>サブスクリプションに関する制限事項</h3>


  <p>現在、この API では、次のサブスクリプションの種類はサポートされていません。</p>


  <ul>
      <li>MS-AZR-0145P</li>
      <li>MS-AZR-0 146P</li>
      <li>MS-AZR-159P</li>
      <li>MS-AZR-0036P</li>
      <li>MS-AZR-0143P</li>
      <li>MS-AZR-0015P</li>
      <li>MS-AZR-0144P</li>
  </ul>


  <h2>その他の技術情報</h2>


  <ul>
      <li>詳細については、Azure Rest API 仕様 <a href="https://github.com/Azure/azure-rest-api-specs/blob/current/specification/consumption/resource-manager/Microsoft.Consumption/2017-11-30/consumption.json" target="_blank">の Swagger に関するページを参照してください</a>。</li>
      <li>詳細については、Azure の消費に関 <a href="https://docs.microsoft.com/en-us/rest/api/consumption/" target="_blank">するドキュメント ページを参照</a> してください。</li>
  </ul>
