### YamlMime:Yaml
ms.openlocfilehash: 658a7cead5ae24f4ddd0756c4fa54bccc4e2e9f4
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139892321"
Slug: spring-security-azure-ad
Title: 'Spring Security Azure AD: エンタープライズグレードの認証と承認を行う'
Summary: 'Java web アプリケーションをセキュリティで保護するために、Azure Active Directory が Spring Security に統合されていることをお知らせします。 '
Content: >-
  <p>Java web アプリケーションをセキュリティで保護するために、Azure Active Directory (Azure AD) が Spring Security に統合されていることをお知らせします。 ほんの数行の構成で、Spring Boot プロジェクトの <a href="https://docs.microsoft.com/en-us/java/azure/spring-framework/configure-spring-boot-starter-java-app-with-azure-active-directory">エンタープライズグレード認証と承認</a> を行うことができます。</p>


  <p><a href="https://github.com/Microsoft/azure-spring-boot">Azure AD 用の Spring Boot Starter</a>を使用すると、Java 開発者は、Azure AD と OAuth 2.0 を使用してバックエンドをセキュリティで保護する web アプリケーションの認証ワークフローをすぐに構築できます。 また、開発者は、Spring Security の力によって Azure AD によって保護された Web API に対して、ロールベースの承認ワークフローを作成することもできます。</p>


  <h2>作業の開始</h2>


  <p>例として、 <a href="https://content.pivotal.io/videos/erich-gamma">SpringOne 2017 に</a>示されている To do アプリを実行します。 この<a href="https://github.com/Microsoft/azure-spring-boot/tree/master/azure-spring-boot-samples/azure-active-directory-spring-boot-sample">サンプルは、</a> Angular JS クライアントと Spring Boot RESTful web サービスの2つのレイヤーで構成されています。 これは、AAD Graph API を使用してログインし、ユーザー&#39;の情報を取得するフローを示しています。</p>


  <h3>承認 Flow のグラフ</h3>


  <p>承認フローは、次の3つの語句で構成されます。</p>


  <ol>
   <li>資格情報でログインし、Azure AD によって検証します。</li>
   <li>Azure AD Graph API からトークンおよびメンバーシップ情報を取得します。</li>
   <li>ロールベースの承認のメンバーシップを評価します。</li>
  </ol>


  <p><img alt="spring security aad auth flow chart" border="0" height="412" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/390324db-65dc-4248-8763-3d99dabac8a7.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="spring security aad 認証フローチャート" width="610"></p>


  <h3>Azure AD に新しいアプリケーションを登録する</h3>


  <p>最初に、 <a href="https://docs.microsoft.com/en-us/java/azure/spring-framework/configure-spring-boot-starter-java-app-with-azure-active-directory#create-and-configure-a-new-azure-active-directory-instance">Azure Active Directory に新しいアプリケーションを登録</a>します。 アプリの準備ができたら、クライアントキーを生成し、 <a href="https://docs.microsoft.com/en-us/java/azure/spring-framework/configure-spring-boot-starter-java-app-with-azure-active-directory#create-and-configure-a-new-azure-active-directory-instance">アプリにアクセス許可を付与</a>します。</p>


  <p><img alt="spring security aad register a new app" border="0" height="339" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/aa88ec52-cabf-461b-88e5-e6818d088d27.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="spring security aad による新しいアプリの登録" width="610"></p>


  <h2>Spring Security Azure AD の機能</h2>


  <p>Spring の<a href="https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-spring-initializr">初期化子</a>を使用して、spring Security と Azure Active Directory の依存関係を持つ新しいプロジェクトをすばやく開始します。 Azure AD 接続を指定し、プロジェクトの認証 AAD を接続します。 次の機能を使用して、 <a href="https://docs.microsoft.com/en-us/java/azure/spring-framework/configure-spring-boot-starter-java-app-with-azure-active-directory#configure-and-compile-your-spring-boot-application">AAD 認証とロールベースの承認</a>を簡単にセットアップできるようになりました。</p>


  <ul>
   <li>@PreAuthorize: Spring &rsquo; s @PreAuthorize 注釈を実装して、ログインしているユーザーのロールとアクセス許可にメソッドレベルのセキュリティを提供します。</li>
   <li>isMemberOf (): 指定された Azure ユーザーグループに基づいて、ロールおよびアクセス許可を持つアクセス制御を提供します。</li>
  </ul>


  <p><img alt="spring security aad features " border="0" height="368" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/c6866e4e-98d0-4834-a7a7-c64441ccade2.gif" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="spring security の aad 機能 " width="610"></p>


  <h2>Azure AD グループと Access Control</h2>


  <p>Web ブラウザーでアプリを実行してテストします。 グループメンバーを追加または削除することで、アクセス制御に Azure AD グループを簡単に使用できるようになりました。</p>


  <p><img alt="spring security aad todo app" border="0" height="298" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/3e339027-260e-4cae-99e8-dff1d7a1a69e.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="spring security aad todo アプリ" width="610"></p>


  <p><img alt="spring security aad access control " border="0" height="312" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/588a18a0-acd6-4907-b198-1aca6da69cf3.png" style="margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="spring security の aad アクセス制御 " width="614"></p>


  <h2>次の手順</h2>


  <p>Azure での Spring の使用の詳細については、次のページを参照してください。</p>


  <ul>
   <li>GitHub: <a href="https://github.com/Microsoft/azure-spring-boot">Azure サービスの Spring Boot</a> starter</li>
   <li>チュートリアル: <a href="https://docs.microsoft.com/en-us/java/azure/spring-framework/">Azure ホームページでの Spring</a></li>
   <li>チュートリアル: <a href="https://docs.microsoft.com/en-us/java/azure/">Azure ホームページでの Java サポート</a>&nbsp;</li>
  </ul>


  <h2>フィードバック</h2>


  <p>改善のためにご意見やご感想をお寄せください。 <a href="https://gitter.im/Microsoft/spring-on-azure">Gitter</a>でお問い合わせいただけます。</p>
