### YamlMime:Yaml
ms.openlocfilehash: 0bd98488bd24bc0f26b3c49e01f51a95f8a43f4d
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139891610"
Slug: infrastructure-as-a-service-series-running-sql-server-in-a-windows-azure-virtual-machine
Title: 'サービスとしてのインフラストラクチャ シリーズ: SQL Server Azure 仮想マシンWindows実行'
Summary: 2012&nbsp; 年 6 月 6 日に、新しい Azure Virtual Machines (VM) など、プレビューで利用できる Windows Windows Azure の新機能を発表しました。&nbsp;最も良いことの 1 つ...
Content: '<p>2012&nbsp; 年 6 月 6 日に、新しい azure Windows Virtual Machines (VM) など、プレビューで利用できる Windows Windows <a href="https://www.windowsazure.com/en-us/pricing/free-trial/?WT.mc_id=cmp_pst001_blg_post0133gen" target="_blank">Azure</a> の新機能を発表しました。&nbsp;Windows Azure Virtual Machines の最も大きな問題の 1 つは、ストレージ アカウントの機能を利用する方法です。つまり、OS とディスク ドライブは既定で Windows Azure に自動的に保持され、geo&nbsp; レプリケーションのオプションがあります。これにより、Windows Azure Virtual Machine は、アプリケーションを変更することなく、オンプレミスのデータベース アプリケーションを Windows Azure に移行する場合に最適なソリューションになります。&nbsp;さらに、プレビュー期間中のいくつかの機能を除き、以下で詳しくは説明しますが、VM&nbsp; 内の SQL Server 2012 で使用できるすべての機能を利用できます。Azure Virtual Machine の完全SQL Server機能をサポートWindows Azure Virtual Machine は、次のようなデータベース シナリオに最適なソリューションです。</p>  <ol>  <li><b>既存のオンプレミス のアプリケーションをSQL Serverする</b></li>  <li><b>新しいデータベース アプリケーション</b> の迅速かつコスト効率の高い開発とテスト</li>  <li><b>オンプレミスの SQL Server</b> データベースまたはオンプレミスの仮想マシン全体を Windows Azure Storage にバックアップし、Azure Virtual Machine を使用して迅速にバックアップWindows復元します。</li>  <li>たとえば、オンプレミスのデータベース アプリケーションを <b>Windows Azure </b>に拡張すると、アプリケーションとデータの一部が Windows Azure &ndash; の仮想マシン上で実行され、スケール シナリオ用に実行され、コンプライアンス上の理由からオンプレミスのコア アプリケーションとデータに接続できます。</li>  </ol>  <p>プレビュー期間中は、SQL Server 2012 Evaluation エディションを含むギャラリー内のイメージにアクセスして、SQL Server を Azure VM&nbsp; で実行Windowsできます。プレビュー期間中は、データベース ミラーリング、ログ配布、トランザクション &amp; レプリケーションバックアップ復元機能がサポートされます。ただし、SQL Server 2012 AlwaysOn 可用性グループ およびクラスタリングはサポートされません&nbsp;。プレビュー状態Virtual Machines一般提供 (GA) AlwaysOn 可用性グループに移行する前に、AlwaysOn 可用性グループがサポートされ、フェールオーバー クラスタリング インスタンスのサポートだけが必要になります。&nbsp;この 1 つの機能の外部では、gaGeneral Availability of Windows Azure Virtual Machine では、Virtual Machines 内で SQL Server 2012 の完全な機能を利用できます。</p>  <p>次に、&rsquo;Azure 仮想マシン内で仮想マシンを実行SQL Server 4 つのWindowsについて説明します。&nbsp; <i></i></p>  <p><b>1.&nbsp;既存のオンプレミス のアプリケーションをSQL Serverする</b></p>  <p>現在、エンタープライズのお客様は、まだ仮想化されていないアプリケーションを持ち、仮想化を行う必要がある可能性があります。&nbsp;既存のアプリケーションを移動する場合は、部門レベル 2 および階層 3 のアプリケーションから開始することをお勧めします。&nbsp;アプリケーションがまだ仮想化されていない場合は、System Center 2012 を使用してアプリケーションを Windows Server Hyper-V .vhd 形式に仮想化できます。または、アプリケーションが既に別の仮想化テクノロジで仮想化されている場合は、System Center 2012 を使用して、既に仮想化されているアプリケーションを Windows に変換できます。 サーバー Hyper-V .vhd 形式。&nbsp;2012 System Centerいずれにしろ、このプロセスは非常に簡単になります。&nbsp;アプリケーションが適切な形式の場合は、データベースを Windows Azure 仮想マシンに転送するか、オンプレミスの VHD 全体を Windows Azure VM に移動します。&nbsp;</p>  <p>データベースを転送する手順を次に示します。</p>  <ul>  <li>手順 1: Microsoft Assessment and Planning (MAP) という無料のツールキットを使用して、移動するデータベースを特定する必要Toolkit。 次に、Azure Management Preview Portal の管理を使用して、SQL Serverイメージのいずれかを使用してWindows仮想マシン<a href="https://manage.windowsazure.com/" target="_blank">をプロビジョニングする必要があります</a>。</li>  <li>手順 2: SQL Server Management Studio を使用してデータベース配置パッケージを作成するか、データベースのエクスポート/インポート ウィザードを使用して Windows Azure 仮想マシン内の SQL Server にデータベースを移動できます。</li>  <li>手順 3: Windows Azure Preview Portal&rsquo; エンドポイントの両方でセキュリティを構成し、ファイアウォールを使用して仮想マシンに受信ポートを設定Windowsがあります。 次に、配置パッケージを使用するか、データベースのエクスポート/インポート ウィザードを使用してデータベースをインポートできます。</li>  <li>手順 4: 完了したら、Windows Azure プレビュー ポータルを使用して仮想マシンを監視し、SQL Server アプリケーションを SQL Server Management Studio を使用して監視できます。&nbsp;</li>  </ul>  <p>VHD 全体を移動する手順を次に示します。</p>  <ul>  <li>手順 1: Microsoft Assessment and Planning (MAP) と呼ばれる無料のツールキットを使用して、移動するデータベースを特定する必要Toolkit。</li>  <li>手順 2: データベース アプリケーションを Hyper-V .vhd 形式に変換する必要があります。 System Center Virtual Machine Manager物理から仮想への変換 (P2V) または仮想から仮想への変換 (V2V) を実行できます。 その後 Windows、csupload、vhdctrl、または市場で利用できるその他の Windows Azure Storage Explorer ツールを使用して、VHD を Azure Storage にアップロードできます。 VHD でリモート デスクトップを事前に有効にし、VHD を固定 VHD に変換して、ページ BLOB としてアップロードしてください。</li>  <li>手順 3: アップロードした VHD を使用して仮想マシンを作成できます。 次に、Azure Preview Portal&rsquo; エンドポイントの Windowsとファイアウォールの仮想マシンの受信ポートの設定の両方でセキュリティを構成Windowsがあります。</li>  <li>手順 4: 完了したら、Windows Azure プレビュー ポータルを使用して仮想マシンを監視し、Windows を使用して SQL Server アプリケーションを監視SQL Server Management Studio&nbsp;</li>  </ul>  <p><b>2.&nbsp;開発とテスト</b></p>  <p>Windows Azure 仮想マシンでの開発とテストの場合は、データベース アプリケーションを仮想マシンにアップロードし、VM&nbsp; をデプロイしてアプリケーションのテストを開始する場合と同じオンプレミスの SQL Server Data Tools を使用してアプリケーションを開発します。後で、アプリケーションを変更することなく、アプリケーションをオンプレミスに戻す必要があります。<b>&nbsp;</b></p>  <p>新しいアプリケーションを開発してテストする手順を次に示します。</p>  <ul>  <li>手順 1: Azure プレビュー ポータルで、SQL Server イメージのいずれかを使用して新しい仮想マシンWindowsする必要があります。</li>  <li>手順 2: 新しいアプリケーションを開発SQL Server Data Toolsを使用できます。 その後、SQL Server Management Studio を使用してデータベース配置パッケージを作成し、データベースのエクスポート/インポート ウィザードを使用して、Windows Azure 仮想マシン内の SQL Server にデータベースを移動できます。</li>  <li>手順 3: Windows Azure Preview Portal&rsquo; エンドポイントの両方でセキュリティを構成し、ファイアウォールを使用して仮想マシンに受信ポートを設定Windowsがあります。 次に、配置パッケージを使用するか、データベースのエクスポート/インポート ウィザードを使用してデータベースをインポートできます。</li>  <li>手順 4: 完了したら、Windows Azure プレビュー ポータルを使用して仮想マシンを監視し、SQL Server アプリケーションを SQL Server Management Studio を使用して監視できます。</li>  </ul>  <p><b>3.&nbsp;データベースまたはオンプレミス仮想マシンSQL Serverオンプレミスの仮想マシン全体をバックアップする</b></p>  <p>データベースまたは VM 全体をクラウドにバックアップするには、まず SQL Server Management Studio を使用してバックアップ ファイルを作成し、バックアップ ファイルを作成したら、Windows Azure プレビュー&nbsp; ポータルを使用して Windows Azure Storage に転送します。シンプル&rsquo;です。</p>  <p>バックアップを実行する手順を次に示します。</p>  <ul>  <li>手順 1: バックアップするデータベースを特定する必要があります。 次に、Azure Windows Azure Storage を使用して新しい Windowsアカウントをプロビジョニング管理ポータル。</li>  <li>手順 2: バックアップ操作は、次のコマンドを使用SQL Server Management Studio。</li>  <li>手順 3: csupload、CloudXplorer、または市場で利用可能なその他の Windows Azure Storage Explorer ツールを使用して、すべてのバックアップ ファイルを Windows Azure Storage にアップロードできます。</li>  <li>手順 4: 完了したら、 を使用して定期的なバックアップ メンテナンス タスクを続行SQL Server Management Studio。</li>  </ul>  <p><b>4.&nbsp;オンプレミスのデータベース アプリケーションを Azure Windowsに拡張Virtual Machines</b></p>  <p>オンプレミス アプリケーションを Windows Azure 仮想マシンで実行されているアプリケーションに拡張するには、VM を実行している Windows Azure&nbsp; ネットワークをオンプレミス ネットワークに安全にドメイン参加できる新しい Windows Azure Virtual Network 機能を利用できます。 これにより、既存のオンプレミスの Active Directory ID ストアを使用して、エンド ユーザーに対してシームレスな認証を行えるのです。&nbsp;&nbsp;このシナリオでは、Windows Azure のグローバルなリーチとコスト効率を活用しながら、ローカル、業界、または企業のデータ コンプライアンス法に準拠することができます。</p>  <p>アプリケーションを拡張する手順を次に示します。</p>  <ul>  <li>手順 1: Azure Virtual Network を使用して、Azure のオンプレムと Azure Windows間に VPN 接続WindowsプロビジョニングVirtual Network。 次に、Azure プレビュー ポータルで新しいイメージを使用して、SQL Server仮想マシンWindowsする必要があります。</li>  <li>手順 2: 次に、 SQL Server Data Toolsを使用して、Azure 仮想マシン内のSQL ServerをWindowsを変更できます。 その後、SQL Server Management Studio を使用してデータベース配置パッケージを作成し、データベースのエクスポート/インポート ウィザードを使用して、Windows Azure 仮想マシン内の SQL Server にデータベースを移動できます。</li>  <li>手順 3: Windows Azure Preview Portal&rsquo; エンドポイントの両方でセキュリティを構成し、ファイアウォールを使用して仮想マシンに受信ポートを設定Windowsがあります。 次に、配置パッケージを使用するか、データベースのエクスポート/インポート ウィザードを使用してデータベースをインポートできます。</li>  <li>手順 4: 完了したら、Windows Azure プレビュー ポータルを使用して仮想マシンを監視し、SQL Server アプリケーションを SQL Server Management Studio を使用して監視できます。</li>  </ul>  <p>&rsquo;Azure Virtual Machine プレビューの SQL Server 2012 評価版をまだお試しWindowsをお試しいただけます。&nbsp;&nbsp;Azure 仮想マシンの新しいWindowsについては、こちらを参照<a href="https://azure.microsoft.com/en-us/home/scenarios/virtual-machines/?WT.mc_id=cmp_pst001_blg_post0133vms" target="_blank">してください</a>。&nbsp;さらに、次のガイドは、Azure 仮想マシン上SQL Serverを実行Windows役立ちます。</p>  <ul>  <li><a href="https://azure.microsoft.com/en-us/manage/windows/how-to-guides/?WT.mc_id=cmp_pst001_blg_post0133htg" target="_blank">このガイドのWindows Virtual Machines</a></li>  <li><a href="https://support.microsoft.com/kb/956893" target="_blank">ハードウェア仮想化Microsoft SQL Server実行されている製品のサポート ポリシー</a></li>  <li><a href="https://www.windowsazure.com/en-us/pricing/details/?WT.mc_id=cmp_pst001_blg_post0133pri" target="_blank">価格の詳細</a></li>  <li><a href="https://azure.microsoft.com/en-us/pricing/calculator/?scenario=virtual-machines/?WT.mc_id=cmp_pst001_blg_post0133cal" target="_blank">価格計算ツール</a></li>  </ul>  <p>VM MSDN フォーラムでSQL&nbsp;<a href="https://social.msdn.microsoft.com/Forums/en-US/WAVirtualMachinesforSQLServer/threads" target="_blank">を確認できます</a>。</p>  <p>-担当: Ramnik Gulati、シニア プロダクト マーケティング マネージャー、SQL Server</p>'
