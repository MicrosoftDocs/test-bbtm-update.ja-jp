### YamlMime:Yaml
ms.openlocfilehash: e86969e50a36073be43b6ec0c75677dcb3ecb379
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139892271"
Slug: sql-azure-management-portal-tips-and-tricks-part-ii
Title: 'SQL Azure 管理ポータルのヒントとテクニック: パート II'
Summary: これは、最近アップグレードされた SQL Azure 管理ポータルの2部構成のシリーズの2番目の部分です。 &nbsp;ここをクリックすると、パート I が表示されます。 &nbsp;また、アップグレードされた...
Content: '<p>これは、最近アップグレードされた SQL Azure 管理ポータルの2部構成のシリーズの2番目の部分です。 &nbsp;ここをクリックすると、パート I が表示されます。 &nbsp;また、アップグレードしたポータルの短いビデオデモをここで見ることもできます。 &nbsp;このブログ記事では、次のような新しい管理ワークスペースと設計ワークスペースについて説明します。</p>  <ul>  <li>DAC を使用したデータベースの作成とアップグレード</li>  <li>クエリ監視、クエリプラン、およびクエリパフォーマンス統計</li>  <li>データベーススキーマとクエリデザイナー</li>  <li>データベース依存関係ビュー</li>  </ul>  <h3>データベース作成の機能強化</h3>  <p>このリリースの<a target="_blank" href="https://azure.microsoft.com/en-us/home/tour/database-management/?WT.mc_id=cmp_pst001_blg_post0021">SQL Azure</a>では、大規模なデータベースのサポートが追加されました。 SQL Azure で作成できる最大のデータベースは、最大 150 GB になります。 さらに、データベースの <a target="_blank" href="https://msdn.microsoft.com/en-us/library/ms143726.aspx">照合順序</a> を選択するためのサポートも追加されました。 次に示す新しいデータベース作成ビューでは、これらの新機能が強調表示されています。<img style="display: block; margin-left: auto; margin-right: auto;" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/4722.Portal21.png" alt="" border="0"></p>  <p>  <p align="center"><b>図 1.データベースの作成</b></p>  <h3>データベースアップグレードの機能強化</h3>  <p>ポータルの新しい管理機能には、DAC テクノロジを使用してデータベースのスキーマをアップグレードする機能が含まれています。 データベースを選択したら、リボンの [アップグレード] ボタンをクリックします。これにより、 <a target="_blank" href="https://msdn.microsoft.com/en-us/library/ee210455.aspx">DAC</a> パッケージファイルに対して、データベーススキーマとデータを適切にアップグレードするように求める一連の手順が表示されます。 このワークフローでは、最後の DAC が適用された後のスキーマの変更が警告されます。また、アップグレードによって生じる可能性があるデータ損失の可能性が警告されます。 このページでは、アップグレードの一部として実行される t-sql SQL スクリプトや、アップグレードを説明する html レポートを保存することもできます。</p>  <p><img style="display: block; margin-left: auto; margin-right: auto;" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/2766.Portal22.png" alt="" border="0">&nbsp;</p>  <p align="center"><b>図 2.データベースをアップグレードする</b></p>  <h3>データベースの概要</h3>  <p>[管理] ワークスペースの [データベースの概要] ビューにすばやく移動できます。 各データベースタイルには、そこに表示されるインラインタスクがあります。 [データベースの概要] ページには、データベースに関する情報のスナップショットが表示されます。 これには、サイズ、空き領域、アクティブな接続などのデータベースプロパティのほか、過去3か月間におけるクエリの CPU 使用率のスナップショットも含まれます。</p>  <p><img style="display: block; margin-left: auto; margin-right: auto;" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/0385.Portal23.png" alt="" border="0"></p>  <p align="center"><b>図 3.データベースの概要</b></p>  <h3>クエリの監視とトラブルシューティング</h3>  <p>[データベースの概要] ページと共に、このビューには、ポータルでのクエリのトラブルシューティングのエントリポイントである別のタブがあります。 [クエリパフォーマンス] タブには、CPU や i/o などのさまざまなメトリックで最もコストの高いクエリプランが一覧表示されます (データはクエリプランキャッシュのスナップショットです)。 これらは、さまざまなクエリパフォーマンスメトリックで並べ替えることができます。 クエリの詳細にドリルダウンすると、その特定のクエリ (クエリプランに関する情報のスナップショットと、キャッシュ内の有効期間におけるその統計情報のスナップショット) が表示されます。 クエリのグラフィカルクエリプランを確認することもできます。 プラン統計、グラフィカルな詳細、およびクエリテキストを一緒に使用すると、いくつかの基本的なクエリプランのパフォーマンスのトラブルシューティングを実行するための十分な情報が得られます。</p>  <p><img style="display: block; margin-left: auto; margin-right: auto;" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/1732.Portal24.png" alt="" border="0"></p>  <p align="center"><b>図 4.クエリパフォーマンス</b></p>  <p>グラフィカルなプランの詳細では、拡大または縮小して、プランオペレーターに関する関連情報を表示したり、いずれかの演算子をクリックしたりすると、さらに詳細な情報を得ることができます。 グラフィカルなプランの右側にあるコントロールは、特定の種類の演算子をフィルター処理して強調表示する機能を提供します。 SQL Azure エンジンによって提供されるクエリヒントは、情報メッセージとして表示されます。 これらのヒントは、問題の特定のクエリのみを考慮し、提案を実装する前に、データベースワークロード全体のコンテキストの提案を考慮する必要があることに注意してください (たとえば、インデックスを追加すると、選択クエリが向上しながら、ワークロード内のクエリの挿入、更新、削除にかかるコストが増加します)。 ここに表示されているクエリエディターウィンドウは読み取り専用です。 [リボンの編集] ボタンを使用すると、編集可能モードで同じクエリを開くことができ、変更を加えて、推定プランとこのプランスナップショットを比較できます。</p>  <p align="center"><img src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/0602.Portal25.png" alt="" border="0"></p>  <p align="center"><b>図 5.クエリプラン</b></p>  <h3>デザインワークスペース: データベーススキーマとデータ</h3>  <p>デザインワークスペースは、多くの新機能によって強化されています。 クエリエディターで構文の色付けがサポートされるようになりました。これにより、SQL Server Management Studio クエリエディターに似た T SQL キーワードと文字列が強調表示されます。 クエリエディターには、実際のクエリプランまたは推定クエリプランを表示するための新しい機能も追加されています。 T SQL クエリの実行の一部として返されるメッセージ、結果セット、およびクエリプランは、タブで確認できます。 いずれかのタブ &nbsp; (結果) をクリックすると、バッチ内の最初のクエリに対応する情報が表示されます。 結果セットの上にあるドロップダウンリストを使用すると、バッチの一部として複数の t-sql SQL クエリがあった場合に、バッチ内の他のステートメントに対応する結果セットに切り替えることができます。</p>  <p><img style="display: block; margin-left: auto; margin-right: auto;" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/2476.Portal26.png" alt="" border="0"></p>  <p align="center"><b>図 6.クエリエディター &amp; の複数の結果セット</b></p>  <p>ポータルでは、SQL Azure でサポートされているすべてのデータ型が完全にサポートされるようになりました。 たとえば、ポータルでは、ライブ Bing マップの空間データを示す結果ビューの [空間データ] タブに空間データが表示されます。 異なるマップの背景を使用してマップを表示するように選択したり、空間データセット内の各レコードのツールヒントを表示するように選択することもできます。</p>  <p><img style="display: block; margin-left: auto; margin-right: auto;" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/2350.Portal27.png" alt="" border="0"></p>  <p align="center"><b>図 7.空間データのサポート</b></p>  <p>新しいインデックスと外部キー管理エクスペリエンスでは、ドラッグアンドドロップインターフェイスがサポートされており、インデックスとキーをより適切に視覚化することができます。</p>  <p><img style="display: block; margin-left: auto; margin-right: auto;" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/2210.Portal28.png" alt="" border="0"></p>  <p align="center"><b>図 8.外部キーとインデックスの管理</b></p>  <h3>依存関係ビューアー</h3>  <p>最も要求される機能の1つは、データベース内のオブジェクトの依存関係を表示する機能を追加することでした。 これで、この機能がポータルに追加されました。 ではデザインビュー、テーブルやストアドプロシージャなどのデータベースオブジェクトを選択し、[依存関係] タスクをクリックすると、その特定のスキーマオブジェクトに対するさまざまな依存関係を示すビューが表示されます。 依存関係グラフビューを拡大または縮小して、詳細を表示できます。 拡大表示されたビューには、そのオブジェクトに関する詳細情報を含むオブジェクトのタイルと、編集ビューに直接移動するようなインライン操作の結果が表示されます。 ビューの上部には、すべてのオブジェクトの依存関係を表示するためのボタンがあります。 このビューをナビゲーションツールとして使用すると、データベース内の複雑な依存関係のスナップショットを取得できるようになります。</p>  <p><img style="display: block; margin-left: auto; margin-right: auto;" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/4212.Portal29.png" alt="" border="0"></p>  <p align="center"><b>図 9.オブジェクトの依存関係グラフ</b></p>  <p><img style="display: block; margin-left: auto; margin-right: auto;" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/8420.Portal210.png" alt="" border="0"></p>  <p align="center"><b>図 10.インラインアクション</b></p>  <p><img style="display: block; margin-left: auto; margin-right: auto;" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/0830.Portal211.png" alt="" border="0"></p>  <p align="center"><b>図 11.すべての依存関係</b></p>  <h3>フェデレーション</h3>  <p>SQL Azure Q4 2011 サービスリリースでは、大規模なアプリケーションを有効にするための新機能が導入されました。 フェデレーションでは、シャーディング設計パターンを SQL Azure に持ち込むことができ、ポータルはフェデレーションに対して非常にシンプルで簡単な管理エクスペリエンスを提供します。 フェデレーションルートデータベースは、[管理] ワークスペースの [フェデレーションが &rdquo; 存在するデータベース] に一覧表示され、[データベースの概要] &ldquo; ビューにフェデレーションのフェデレーションメンバーの数が表示されます。フェデレーションビューへのクイックナビゲーションにより、あらゆるサイズの負荷の高いフェデレーションメンバーを管理できます。 詳細については、SQL Azure フェデレーションブログ (cihan) を参照してください。</p>  <p><img style="display: block; margin-left: auto; margin-right: auto;" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/2437.Portal212.png" alt="" border="0"></p>  <p align="center"><b>図 12.フェデレーションメンバーの管理</b></p>  <p>今後のアップグレードでは、お客様のフィードバックを引き続き聴いて、新たに要求された多くの機能を追加します。 ご意見やご要望をお寄せください。 &nbsp; 機能の要求を送信したり、一般的なフィードバックを提供したりするには:</p>  <p>1. に <a target="_blank" href="https://connect.microsoft.com/SQLServer/Feedback">https://connect.microsoft.com/SQLServer/Feedback</a> 移動します。</p>  <p>2. 既存のフィードバックを検索して、まだ送信されていない問題を確認するように求められます。</p>  <p>3. 問題が送信されていないことを確認したら、ページを下にスクロールし、左側のナビゲーションバーにあるオレンジ色の [ <b>フィードバックの送信</b> ] ボタンをクリックします。</p>  <p>4.[<b>フィードバックの選択</b>] フォームで、[ <b>SQL Server の提案] フォーム</b>をクリックします。</p>  <p>5.バグフォームで、[ <b>Category</b> = SQL Azure Database] を選択します。</p>  <p>6. 要求を完了します。</p>  <p>7. [ <b>送信</b> ] をクリックして、フォームを Microsoft に送信します。</p>  <p>コミュニティベースのサポートについては、 <a target="_blank" href="https://social.msdn.microsoft.com/Forums/en-US/ssdsgetstarted/threads">SQL Azure MSDN フォーラム</a>に質問を投稿してください。 製品チームは、そこに投稿された質問に回答することをお勧めします。 &nbsp; フィードバックの送信プロセスまたはポータルへのアクセスについて不明な点がある場合は、電子メールメッセージ <a target="_blank" href="mailto:sqlconne@microsoft.com">sqlconne@microsoft.com</a> をお送りください。</p>'
