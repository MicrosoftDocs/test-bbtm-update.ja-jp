### YamlMime:Yaml
ms.openlocfilehash: 1ad2be341cf22a8a1cb5a9c1b38a63e6df1a6b49
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139896623"
Slug: announcing-windows-azure-sdk-1-5-windows-azure-tools-for-microsoft-visual-studio-2010-and-new-service-management-features
Title: '発表: Azure SDK 1.5 Windows 2010 Windows Azure Tools for Microsoft Visual Studio および新しいサービス管理機能'
Summary: '&rsquo;ビルドの 2 日目に、Microsoft は Windows Azure SDK 1.5 と Windows Azure Tools for Microsoft Visual Studio 2010 の提供を発表しました。 をダウンロードできます。'
Content: '<p>ビルドの 2 日目に、Microsoft は <a href="https://www.buildwindows.com/" target="_blank"></a>Windows Azure SDK 1.5 と Windows Azure Tools for Microsoft Visual Studio 2010 の提供を発表しました。&rsquo; Web プラットフォーム インストーラーを使用<a href="https://www.microsoft.com/web/gallery/install.aspx?appid=WindowsAzureToolsVS2010" target="_blank">して、</a>ここでツールをダウンロードできます。&nbsp;これらの 3 つのリリースはすべて、Azure プラットフォーム上の開発、デプロイ、管理を簡素化Windows目的とされています。</p>  <p>Azure SDK Windowsには、次の新機能が含まれています。</p>  <ul>  <li>ローカル クラウド開発のデプロイ間の忠実 &amp; 性を高め、エミュレーターを再 &amp; 設計しました。</li>  <li>多くの基本的な改善 (エミュレーターとデプロイのパフォーマンス、配置前のアセンブリ/パッケージの検証)</li>  <li>リモート デスクトップ暗号化パスワードの管理に役立csupload.exeサービス証明書と新しいツール csencrypt.exeをアップロードするためのサポート。</li>  <li>Azure SDK 1.4 Windowsの多くの機能強化と修正。</li>  </ul>  <p>&nbsp;また、クラウド アプリケーションのデプロイを開発Windows Azure Tools for Visual Studio&amp;の新機能もいくつか提供されています。&nbsp;これらの機能強化は次のとおりです。</p>  <ul>  <li>Web Windowsから Azure Deployment プロジェクトを追加します。</li>  <li>Azure で実行されているアプリケーションWindowsプロファイルします。</li>  <li>MVC3 ASP.NET ロールを作成します。</li>  <li>1 つのクラウド プロジェクトで複数のサービス構成を管理する。</li>  <li>Azure パッケージのWindowsを改善しました。</li>  </ul>  <p>これで、MVC、Windows、WCF など、一般的な Web プロジェクト ASP.NET Azure デプロイ プロジェクト ASP.NET Web Forms簡単になりました。 サービス パッケージで配置に追加のアセンブリが必要な場合は、持っている Web プロジェクトの種類に基づいて、アセンブリのプロジェクト プロパティも更新されます。</p>  <p><img src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/1803.Vijay1N.jpg" alt="" border="0"></p>  <p>Windows Azure Tools でのプロファイリングサポートを使用すると、Azure で実行されているアプリケーションのパフォーマンスのボトルネックを簡単Windowsできます。</p>  <p><img src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/3872.Vijay2N.jpg" alt="" border="0"></p>  <p>これで、MVC3 Web ロールの ASP.NET 作成がサポートされます。 新しいテンプレートには、SQL Azure をサポートする新しいユニバーサル ASP.NET プロバイダーが含まれています。また、ASP.NET MVC アセンブリは、Windows Azure に発行するときにアプリケーションと一緒にデプロイされます。</p>  <p>&nbsp;<img src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/2388.Vijay3N.png" alt="" border="0"></p>  <p>デプロイ環境ごとに異なる設定を維持する場合、Windows Azure ツールは、同じ Azure Windows Azure Project で複数のサービス構成をサポートします。 これは、ローカル デバッグやクラウドでの実行Windows Azure Storage異なる接続文字列を管理する場合に特に便利です。</p>  <p><img src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/3465.Vijay4N.jpg" alt="" border="0"></p>  <p>最後に、新しいツールは、Azure にアプリケーションをデプロイするときに一般的な問題の一部を回避Windows役立ちます。 パッケージにローカル アセンブリを含めるのを忘れた場合、またはローカルの Azure Storage 接続文字列を使用して発行した場合は、ツールによってお知らせされます。</p>  <p>&nbsp;<img src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/2816.Vijay5N.png" alt="" border="0"></p>  <p>最近の機能の詳細については、こちらを参照してください。&nbsp;</p>  <p>新Windows Azure Platform Training Kit の新しいツールも更新されました。 Windows Azure Platform Training Kit には、Windows Azure プラットフォームの使い方を学ぶのに役立つハンズオン ラボ、プレゼンテーション、デモなどの包括的な技術コンテンツが含まれています。 こちらからダウンロードできます。&nbsp;</p>  <p><b>Azure Windows機能Service Management API新機能</b></p>  <p><b>導入：</b></p>  <p>また、次のシナリオに合った新しいサービス管理 API のリリースをお知らせいたします。</p>  <ul>  <li>構成の更新In-Progressアップグレードをロールバックする</li>  <li>進行中のデプロイで複数の &ldquo;書き込&rdquo; み操作を呼び出す機能</li>  <li>ロール インスタンスのよりわかりやすい状態</li>  <li>新しい API メソッド: サブスクリプションの取得</li>  </ul>  <p><b>背景：</b></p>  <p><a href="https://msdn.microsoft.com/en-us/library/ee460799.aspx" target="_blank">Azure WindowsではService Management API</a>&nbsp;、Windowsサービス、ストレージ アカウントをプログラム&nbsp;で管理できます。</p>  <p><b>構成の更新In-Progressアップグレードをロールバックする</b></p>  <p>API <a href="https://msdn.microsoft.com/en-us/library/ee460799.aspx" target="_blank">で</a> 、進行中のサービスの &ndash;更新またはアップグレードで呼び出す新しいメソッド Rollback <a href="https://msdn.microsoft.com/en-us/library/hh403977.aspx" target="_blank">Update または Upgrade</a> &ndash; が公開されました。 進行中のデプロイをロールバックした場合の影響は次のとおりです。</p>  <ul>  <li>サービス <a href="https://msdn.microsoft.com/en-us/library/gg433093.aspx" target="_blank">パッケージ (*</a> .cspkg) ファイルまたはサービス <a href="https://msdn.microsoft.com/en-us/library/gg433037.aspx" target="_blank">構成ファイル (</a> *.cscfg) の新しいバージョンに既に更新またはアップグレードされているインスタンスは、これらのファイルの以前のバージョンにロールバックされます。</li>  <li>お客様は、&ndash;これらのファイルの以前のバージョンを再提供する必要は、Windows Azure プラットフォームでは、更新またはアップグレードの間、これらを保持します。  <ul>  <li>新しいバージョンにまだ更新またはアップグレードされていないインスタンスは、それらのインスタンスが既にサービスのターゲット バージョンを実行しているので、更新またはアップグレードされません。</li>  <li>通常、このようなインスタンスは、アップグレード/&agrave;更新ロールバック シーケンスの一部Windows Azure Fabric Controller によって再起動されるすらしません。</li>  </ul>  </li>  </ul>  <p>新しいロールバック更新またはアップグレード方法に関する <a href="https://msdn.microsoft.com/en-us/library/hh403977.aspx" target="_blank">追加の詳細を次に示</a> します。</p>  <ul>  <li>上記のように、ロールバックは、進行中のサービス構成更新 (デプロイ構成の変更によって <a href="https://msdn.microsoft.com/en-us/library/ee460809.aspx" target="_blank">トリガーされる)</a> またはサービスのアップグレード (アップグレードの展開によってトリガーされる) で <a href="https://msdn.microsoft.com/en-us/library/ee460793.aspx" target="_blank">呼び出すことができます</a>。</li>  <li><a href="https://msdn.microsoft.com/en-us/library/ee517253.aspx" target="_blank">VIP</a> スワップ アップグレードでは、実行中のインスタンスの <a href="https://msdn.microsoft.com/en-us/library/ee517255.aspx" target="_blank"></a> 1 つ全体を別のインスタンスにアトミックに置き換える必要があるので、イン Place Update またはアップグレードで Rollback を呼び出すのは理にかなっています。</li>  <li>ロールバックは、手動モードまたは自動モードで実行されるアップグレードに適用できます。&nbsp;</li>  <li>Rollback 自体は、自動モードまたは手動モードでも呼び出し可能です。  <ul>  <li>ロールバックを呼び出すのは、デプロイで更新 (構成の変更) &ldquo;またはアップグレードが進行中の場合のみです。これは、デプロイの取得またはホストされたサービスのプロパティの取得によって返される RollbackAllowed <a href="https://msdn.microsoft.com/en-us/library/ee460806.aspx" target="_blank"></a> &ndash; <a href="https://msdn.microsoft.com/en-us/library/ee460804.aspx" target="_blank"></a> &ndash;&rdquo; &ldquo;&rdquo;フラグの値が true かどうかを確認することでクライアントによって検出できます。</li>  <li>RollbackAllowed フィールドを返すこれらのメソッドのバージョンを呼び出すには、要求ヘッダーで次のバージョン (以上) を使用する必要があります: &ldquo;x-ms-version: 2011-10-01&rdquo;。 バージョン管理ヘッダーの詳細については、「 <a href="https://msdn.microsoft.com/en-us/library/gg592580.aspx" target="_blank">サービス管理のバージョン管理</a>」を参照してください。</li>  <li>新しいバージョンに&ldquo;&rdquo;まだ更新されていないインスタンスがサービスに少なくとも 1 つある限り、更新またはアップグレードは進行中と見なされます。&nbsp;</li>  </ul>  </li>  </ul>  <p><i>これを&rsquo;使用する場合の例を次に示します。 </i></p>  <p>Azure でホストされている<a href="https://msdn.microsoft.com/en-us/library/ee517255.aspx" target="_blank">サービスに対</a>する大規模なインWindows展開するとします。 新しいリリースは古いリリースと大きく異なっているので、ロールアウトを続行する速度を制御する必要があります。そのため、手動モードで Upgrade <a href="https://msdn.microsoft.com/en-us/library/ee460793.aspx" target="_blank">Deployment</a> を呼び<a href="https://msdn.microsoft.com/en-us/library/ee460800.aspx" target="_blank"></a>出し、アップグレード ドメインのウォークを開始します。 1 つ目と 2 つ目のアップグレード ドメインのロール インスタンスは、アップグレード後に正常に表示される可能性がありますが、3 つ目のアップグレード ドメインを歩いていると、1 つ目と 2&rsquo; つ目のアップグレード ドメインの一部のロール インスタンスが応答しなくなる場合があります。 そのため、このアップグレードで <a href="https://msdn.microsoft.com/en-us/library/hh403977.aspx" target="_blank">Rollback</a> を呼び出します。(1) まだアップグレードされていないインスタンスと、アップグレードされたインスタンス (つまり、1 つ目と 2 つ目のアップグレード ドメイン内のインスタンス、およびアップグレードが既に適用されている 3 つ目のインスタンス) は、前のサービス パッケージと構成にそのまま残されます。</p>  <p><i>サービス&rsquo;を以前のバージョンにロールするために、サービスで Update または Upgrade &ndash; を呼び出して、同じ効果を実現できますか?IOW、Rollback は何を購入しますか? </i></p>  <p><a target="_blank" href="https://msdn.microsoft.com/en-us/library/hh403977.aspx">ロールバック</a>を行わずに、サービスをバージョン X からバージョン X+1 に更新またはアップグレードし、バージョン X に戻る場合は、最初にすべてのロール インスタンスを X+1 に更新またはアップグレードする必要があります。その後、その後、新しい更新を開始するか、X にアップグレードする必要があります。<a target="_blank" href="https://msdn.microsoft.com/en-us/library/hh403977.aspx">Rollback</a>&rsquo; を使用すると、そのプロセスをショートサーキットできます (X+1 へのアップグレードの最中にターゲット バージョンを X+1 から X に変更します)。その結果、サービスの中断やチャーンが減る可能性があります。 さらに、Windows Azure プラットフォームでは、更新またはアップグレードが開始される前に、サービス <a target="_blank" href="https://msdn.microsoft.com/en-us/library/gg433093.aspx">パッケージ (*</a>.cspkg) ファイルとサービス<a target="_blank" href="https://msdn.microsoft.com/en-us/library/gg433037.aspx">構成 (*</a>.cscfg) ファイルがサービスのバージョン (X) から保持されます。つまり、お客様はアップグレード前のバージョンに戻る必要が生じても、これらのファイルを再提供する必要が生じなきます。</p>  <p><b>進行中のデプロイで複数の &ldquo;書き込&rdquo; み操作を呼び出す機能</b></p>  <p>ホストされるサービスを柔軟に管理できるよう、デプロイで変更可能な操作を呼び出すことができる場合の制約を取り消しています。 変更可能または書き込み操作は<a target="_blank" href="https://msdn.microsoft.com/en-us/library/ee460809.aspx">、展開構成</a>の変更、アップグレードの展開、更新プログラムの展開<a target="_blank" href="https://msdn.microsoft.com/en-us/library/ee460808.aspx">状態 (展開</a>の<a target="_blank" href="https://msdn.microsoft.com/en-us/library/ee460815.aspx"></a>開始または停止に使用)、展開の削除、更新またはアップグレードのロールバック<a target="_blank" href="https://msdn.microsoft.com/en-us/library/hh403977.aspx">です。</a><a target="_blank" href="https://msdn.microsoft.com/en-us/library/ee460793.aspx"></a> &ldquo;&rdquo;特に、このリリースより前は、お客様はデプロイで進行中の変更可能な操作を 1 つしか実行できません。そのような操作が開始された後、顧客は、その操作が完了するのを待って別の操作を開始する必要があります。 つまり、デプロイがロックされました。&nbsp;</p>  <p>この新しい <a href="https://msdn.microsoft.com/en-us/library/ee460799.aspx">Service Management API</a> リリースでは、いくつかのメソッド (Get <a target="_blank" href="https://msdn.microsoft.com/en-us/library/ee460804.aspx">Deployment</a> と <a target="_blank" href="https://msdn.microsoft.com/en-us/library/ee460806.aspx">Get Hosted Service Properties</a>) &ldquo;&rdquo; から新しいフィールドが返されます。これにより、特定のデプロイがロックされているかどうかを明示的に顧客に通知します (書き込み操作を実行できません)。 さらに、ロックが保持される期間 (特定のデプロイの場合) が大幅に短縮され、特定のワークフローの並列化または中断が可能になります。&nbsp;&nbsp;</p>  <ul>  <li>RollbackAllowed フィールドと同様に、Locked フィールドを返すこれらの API メソッドのバージョンを呼び出す場合は、要求ヘッダーで次のバージョン (以上) を使用する必要があります: &ldquo;x-ms-version: 2011-10-01&rdquo;。</li>  </ul>  <p><i>これを&rsquo;使用する場合の例を次に示します。 </i></p>  <p>アップグレードを&rsquo;実行し、新しいバージョンのロール コードにバグが発生し、アップグレードされたロール インスタンスが繰り返しクラッシュするとします。&nbsp; これにより、ファブリック &ndash; コントローラーは、前の 1 つのインスタンスの数が十分に正常になるまで、次のアップグレード ドメインに移動しないので、アップグレードが進行しなくします。 これはスタックデプロイと&ldquo;&rdquo;呼ばれるので、この Azure Windowsを&ldquo;使用して、お客様自身を見つからなくなる可能性があります。&rdquo;特に、その場合は、有害な更新プログラムの上に新しい更新プログラムまたはアップグレードを適用することができます。</p>  <p><b>ロール インスタンスのよりわかりやすい状態</b></p>  <p>より優れた診断機能とサービス正常性監視機能を提供するために、お客様は、ロール インスタンスの状態に関するより詳細な情報を Get <a target="_blank" href="https://msdn.microsoft.com/en-us/library/ee460804.aspx">Deployment</a> から取得できます。 2 つの新しいフィールド (InstanceStateDetails と InstanceErrorCode) が返され、既存のフィールド (InstanceStatus) に新しい値が含まれます。RoleStateUnknown、CreatingVM、StartingVM、CreatingRole、StartingRole、ReadyRole、BusyRole、StoppingRole、StoppingVM、DeletingVM、StoppedVM、RestartingRole、IngRole、CyclingRole、FailedStartingVM、UnresponsRole。</p>  <ul>  <li>このメソッドを呼び出す場合は、要求ヘッダーで次のバージョン (以上) を使用する必要があります: &ldquo;x-ms-version: 2011-10-01&rdquo;。 バージョン管理ヘッダーの詳細については、「 <a target="_blank" href="https://msdn.microsoft.com/en-us/library/gg592580.aspx">サービス管理のバージョン管理</a>」を参照してください。</li>  </ul>  <p><b>新しい API メソッド: サブスクリプションの取得</b></p>  <p>この <a href="https://msdn.microsoft.com/en-us/library/ee460799.aspx">Service Management API</a> リリースでは、サブスクリプションの取得方法を導入しました。<a target="_blank" href="https://msdn.microsoft.com/en-us/library/hh403995.aspx"></a>これにより、サブスクリプション (アカウントとサービス管理者のサブスクリプション名、状態、電子メール アドレス) に関する基本情報と、ストレージ アカウント、ホストされているサービス、コアの数に関する現在および最大の使用量を取得できます。 つまり、この新しい方法では、サブスクリプションに関連付けられているクォータをプログラムで取得できます。</p>  <ul>  <li>このメソッドを呼び出す場合は、要求ヘッダーで次のバージョン (以上) を使用する必要があります: &ldquo;x-ms-version: 2011-10-01&rdquo;。 バージョン管理ヘッダーの詳細については、「 <a target="_blank" href="https://msdn.microsoft.com/en-us/library/gg592580.aspx">サービス管理のバージョン管理</a>」を参照してください。</li>  </ul>  <p><i>これを&rsquo;使用する場合の例を次に示します。 </i></p>  <p>この新しいメソッドには、2 つの即時の使用例があります。 まず、セキュリティ コンプライアンスの目的で、特定のサブスクリプションに対して構成されたサービス管理者が想定した通り (つまり、AccountAdmin と ServiceAdmin の不正な値が構成されていない) を定期的に確認するプログラムがある場合があります。 次に、この方法を使用すると、Azure の請求の主要なコンポーネントWindows表示されます。 または、CurrentCoreCount の値は&rsquo; 、ホストされているサービスのデプロイで一緒に使用されているコアの数を示します。 課金 &ldquo;のコンピューティング&rdquo; 時間の部分は、請求期間にサービスによって使用されたコアの数に基づいて計算されます。</p>  <p>BUILD で行われた Windows Azure 関連のお知らせの詳細については、ブログ記事「JUST ANNOUNCED @ BUILD: New Windows Azure Toolkit for Windows 8、Windows Azure SDK 1.5、Geo-Replication for Windows Azure Storage、More&nbsp;」を参照してください。 BUILD の詳細や、講演を見る場合は、「BUILD Virtual Press Room」を参照してください。&nbsp;ビルドに<a target="_blank" href="https://twitter.com/windowsazure">@WindowsAzure</a>関する<a target="_blank" href="https://twitter.com/#%21/STBNewsBytes">@STBNewsBytes</a>最新のニュースとリアルタイムの話については、 と に従います。</p>  <p><i>Vijay Rajagopalan は、Azure のプリンシパル グループ プログラム マネージャー Windowsです。で Vijay に従います<a target="_blank" href="https://twitter.com/vijayrvr">@vijayrvr</a></i>。</p>'
