### YamlMime:Yaml
ms.openlocfilehash: a0d8baf433d31ec63237651d901b4edffebf6b30
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139903575"
Slug: full-text-search-is-now-available-for-preview-in-azure-sql-database
Title: Full-Text Search が Azure SQL Database (GA) で使用できるようになりました
Summary: Azure SQL Database を使用したデータの格納と管理に関する人気が高まっているため、さまざまなアプリケーションでのフルテキスト検索機能の需要が急速に増加しています。 Azure SQL Database で Full-Text 検索を利用できるようになったため、要求の厳しいアプリケーションのための高速で効率的な検索機能にアクセスできます。
Content: "<p><em>この投稿は、2015年10月12日に最後に更新されました。</em></p>\n\n<p>Azure SQL Database を使用したデータの格納と管理に関する人気が高まっているため、さまざまなアプリケーションでのフルテキスト検索機能の需要が急速に増加しています。 この記事では Full-Text 検索が Azure SQL Database V12 で利用できるようになったことを発表し、使用可能な機能セットと現在の制限事項について概要を説明します。</p>\n\n<h2>Full-Text 検索とは</h2>\n\n<p>Full-Text 検索では、データ型が char、varchar、nchar、nvarchar、text、ntext、image、xml、varbinary (max) の列を含むテーブルに格納されているテキストデータに対して、高速かつ柔軟なインデックス作成を行うことができます。 フルテキストインデックスは、テキストデータを格納する列だけでなく、組み込みのサポートされている種類 (.html、.htm、.txt、.log、.xml、java) を含むファイルを含む列を含むテーブルに対しても構築できます。 Full-Text 検索の一般的な用途は次のとおりです。</p>\n\n<ul>\n    <li>Web ベースのアプリケーション (web サイト、製品カタログ、ニュースアイテム、およびその他のデータの検索)</li>\n    <li>ドキュメント管理システム、</li>\n    <li>SQL Database に格納されているデータに対してテキスト検索機能を提供する必要があるカスタムアプリケーション。</li>\n</ul>\n\n<p>Full-Text 検索では、比較的少数で単純なクエリを使用してモバイルアプリケーションや個人用アプリケーションから拡張できます。大量のテキストデータに対してクエリボリュームが高い複雑なミッションクリティカルなアプリケーションがあります。</p>\n\n<h2>作業の開始</h2>\n\n<p>Full-Text Search は、Azure SQL Database V12 のプレミアム、Standard、Basic の各サービス階層で使用できます。 他に必要なサービス構成がないため、データベースですぐに使用を開始できます。 Full-Text 検索では、統合された管理機能を提供します。</p>\n\n<ul>\n    <li>既存の Microsoft SQL Server ツールは、Full-Text の検索と組み合わせて使用できます (<a href=\"https://support.microsoft.com/en-us/hotfix/kbhotfix?kbnum=3058512&amp;kbln=en-us\">最新</a>の SQL Server 2014 修正プログラムから SSMS と、SQL Data Tools の 2015<a href=\"https://blogs.msdn.com/b/ssdt/archive/2015/05/18/sql-server-data-tools-update-for-may-2015.aspx\">リリース</a>が必要です)。</li>\n</ul>\n\n<p><strong><em>注</em></strong>: 修正プログラムは SSMS SP1 CU1 以降の最新リリースに含まれています。 SQL Data Tools の2015年5月の<a href=\"https://blogs.msdn.com/b/ssdt/archive/2015/05/18/sql-server-data-tools-update-for-may-2015.aspx\">リリース</a>もインストールする必要があります。</p>\n\n<ul>\n    <li>Azure SQL Database のフルテキスト検索の構文には、Microsoft SQL Server の Transact-SQL クエリ構文との 100% の互換性があります。</li>\n</ul>\n\n<p>ここでは、AdventureWorksLT データベース &nbsp; を使用し、Azure SQL Database で検索 Full-Text 使用している一部の検索機能に焦点を当てたサンプルワークフローを示します。</p>\n\n<h3>手順 1: フルテキストカタログを作成する</h3>\n\n<p><em><strong>例:</strong> DBA は、データベースの既定の FT カタログを作成しようとしています。</em></p>\n\n<pre class=\"prettyprint\">\nCREATE FULLTEXT CATALOG ftCatalog AS DEFAULT;</pre>\n\n<h3>手順 2: フルテキストインデックスを作成する</h3>\n\n<p><em>例: Dave は、製品の説明を含むテーブルに FT インデックスを作成したいと考えています。このようにして、製品に対する将来のクエリは、FTS 機能によって処理されます。そのためには、最初に既定の FT カタログを指定し、テーブルに一意のインデックスを作成してフルテキストインデックスを作成する必要があります。</em></p>\n\n<pre class=\"prettyprint\">\nCREATE UNIQUE INDEX ui_ukProductDescription ON SalesLT.ProductDescription(ProductDescriptionID); \nCREATE FULLTEXT INDEX ON SalesLT.ProductDescription(Description) KEY INDEX ui_ukProductDescription ON ftCatalog; \n</pre>\n\n<h3>手順 3: 作成を開始する</h3>\n\n<p><i><strong>例:</strong> Dave</i> <i>は、製品の詳細 FT インデックスを有効にする必要があります。その直後に、この FT インデックスの完全作成を開始します。これにより、テーブルからデータを解析し、選択した FT インデックスにインデックスを作成する処理が開始されます。</i></p>\n\n<pre class=\"prettyprint\">\nALTER FULLTEXT INDEX ON SalesLT.ProductDescription ENABLE; \nGO \nALTER FULLTEXT INDEX ON SalesLT.ProductDescription START FULL POPULATION;</pre>\n\n<h3>手順 4: フルテキスト検索述語を使用したクエリ</h3>\n\n<p><i><strong>例: </strong></i><em>データベース開発者である Dave は、特定の価格レベルですべての製品を検索する機能と、confortable &quot; または &quot; 乗り物 &quot; を含む &quot; 製品の説明を提供する機能の検索側を実装</em>しています。</p>\n\n<pre class=\"prettyprint\">\nSELECT Name, ListPrice, Description \nFROM SalesLT.ProductDescription pd \nJOIN SalesLT.ProductModelProductDescription pmpd ON pd.ProductDescriptionID=pmpd.ProductDescriptionID\nJOIN SalesLT.Product p ON p.ProductModelID=pmpd.ProductModelID\nWHERE ListPrice &lt;100 AND CONTAINS(Description, &#39;confortable OR ride&#39;);</pre>\n\n<p><i><strong>例: </strong></i> <em>Dave は、説明に何らかの &ldquo; 形で乗り物 &rdquo; を持つ製品を見つけることができる機能の検索側を実装するようになりました。</em></p>\n\n<pre class=\"prettyprint\">\nSELECT Name, ListPrice, Description \nFROM SalesLT.ProductDescription pd \nJOIN SalesLT.ProductModelProductDescription pmpd ON pd.ProductDescriptionID=pmpd.ProductDescriptionID\nJOIN SalesLT.Product p ON p.ProductModelID=pmpd.ProductModelID\nWHERE CONTAINS(description, &#39;FORMSOF(FREETEXT, ride)&#39;);</pre>\n\n<h3>手順 5: フルテキスト検索の利用状況を監視する</h3>\n\n<p><i><strong>例:</strong> Dave は、進行中のインデックスの作成に関する情報を表示したいと考えています。</i></p>\n\n<pre class=\"prettyprint\">\nSELECT * FROM sys.dm_fts_index_population</pre>\n\n<p><i><strong>例:</strong> Dave は、フルテキストインデックスの内容を表示したいと考えています。</i> &nbsp;</p>\n\n<pre class=\"prettyprint\">\nSELECT * FROM sys.dm_fts_index_keywords( DB_ID(&#39;AdventureWorksLT&#39;), OBJECT_ID(&#39;SalesLT.ProductDescription&#39;))</pre>\n\n<p>また、Azure Sql database で利用できるようになった <a href=\"https://azure.microsoft.com/en-us/documentation/articles/sql-database-xevent-db-diff-from-svr/\">xevent</a>を使用して、インデックス作成エラーやサポートされていないドキュメントの種類などの問題をトラブルシューティングすることもできます。 フルテキスト関連のエラーにアクセスするには、<a href=\"https://azure.microsoft.com/en-us/documentation/articles/sql-database-xevent-code-ring-buffer/\">ここ</a>で詳しく説明されているように sqlserver.fulltextlog_written イベントを使用 &nbsp; して、XEvent セッション &nbsp; を作成することができます。</p>\n\n<h2>Azure SQL Database の Full-Text 検索機能の現在の制限事項</h2>\n\n<p>V12 Full-Text の検索機能 Azure SQL Database <span style=\"color: rgb(0, 0, 0);\"><a href=\"https://msdn.microsoft.com/en-us/library/ms142571.aspx\">Microsoft SQL Server 2014 リリース</a></span>のサブセットであることに注意してください。ギャップの短い一覧を次に示します。</p>\n\n<ul>\n    <li>Office や .pdf など、サードパーティのフィルターのインストールや使用はサポートされていません。</li>\n    <li>お客様は fdhost のサービス設定を管理できません。すべての構成がサービスによって管理されています。</li>\n    <li>セマンティック検索、類義語辞典、および検索プロパティリストの構文は、まだ有効になっていません。</li>\n</ul>\n\n<h2>Full-Text 検索または Azure Search を Azure SQL Database しますか?</h2>\n\n<p>Azure Search は、開発者が web アプリケーションやモバイルアプリケーションに優れた検索エクスペリエンスを簡単に構築できるようにする、Microsoft Azure サービスです。 <a href=\"https://azure.microsoft.com/en-us/documentation/articles/search-howto-connecting-azure-sql-database-to-azure-search-using-indexers-2015-02-28/\">Azure SQL Database にインデクサー</a>を使用すると、ユーザーは Azure Search を使用して Azure SQL Database に格納されているデータを検索することができるようになりました。 重要な点として、Azure Search は SQL Database だけでなく、さまざまなデータソースからのデータをサポートしていることに注意してください。 顧客がデータ検索要件に Full-Text 検索または Azure Search を使用できるようにすると、1つの方法は、検索の範囲、機能の機能、データの場所、スケール、コストを下に強調表示されているかどうかによって異なります。</p>\n\n<table border=\"1\" cellpadding=\"0\" cellspacing=\"0\" width=\"677\">\n    <tbody>\n        <tr>\n            <td valign=\"top\" width=\"101\">&nbsp;</td>\n            <td valign=\"top\" width=\"287\">\n            <p align=\"center\"><b>Azure SQL Database Full-Text の検索方法</b></p>\n            </td>\n            <td valign=\"top\" width=\"287\">\n            <p align=\"center\"><b>Azure Search アプローチ</b></p>\n            </td>\n        </tr>\n        <tr>\n            <td valign=\"top\" width=\"101\"><strong>データの場所</strong></td>\n            <td valign=\"top\" width=\"287\">SQL Database に格納されている文字ベースのデータに対してクエリを実行します。</td>\n            <td valign=\"top\" width=\"287\">Azure SQL Database だけでなく、任意のデータソースからデータを検索します。</td>\n        </tr>\n        <tr>\n            <td valign=\"top\" width=\"101\"><strong>移行</strong></td>\n            <td valign=\"top\" width=\"287\">オンプレミス Full-Text 検索が有効になっているデータベースを Azure SQL Database にリフト &amp; シフトします。</td>\n            <td valign=\"top\" width=\"287\">該当なし</td>\n        </tr>\n        <tr>\n            <td valign=\"top\" width=\"101\"><strong>パフォーマンスのスケーリング &amp;</strong></td>\n            <td valign=\"top\" width=\"287\">データの結果とトランザクションデータを一緒に Full-Text 検索します。 たとえば、他のテーブルやビューと Full-Text の検索結果を結合します。</td>\n            <td valign=\"top\" width=\"287\">パフォーマンスとスケールに関する考慮事項について、OLTP ワークロードから検索ワークロードを分離します。</td>\n        </tr>\n        <tr>\n            <td valign=\"top\" width=\"101\"><strong>機能の違い</strong></td>\n            <td valign=\"top\" width=\"287\">Azure SQL Database に統合された機能。 検索機能は、追加のサービスのコストを正当化するのに十分な頻度では使用されません。</td>\n            <td valign=\"top\" width=\"287\">Web およびモバイルアプリケーション用の完全に管理された検索サービス。 カスタムスコアリングモデルを使用した豊富な検索エクスペリエンス、提案のオートコンプリート、ファセット検索、強調表示。</td>\n        </tr>\n    </tbody>\n</table>\n\n<h2>まとめ</h2>\n\n<p>大量のデータを管理するアプリケーションをユーザーが操作するための自然な方法になりました。 Azure SQL Database に格納されているテキストデータを管理するアプリケーションでは、データベースプラットフォームに統合された高速で堅牢な検索機能を提供することによって、Full-Text 検索によって大きな価値が加わります。</p>"
