### YamlMime:Yaml
ms.openlocfilehash: d0f61fa55ddcf79f7f8875119c788d23f7210063
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139890849"
Slug: developer-s-introduction-to-azure-iot
Title: 開発者向けAzure IoT
Summary: この投稿は、IoT ソリューションを意図した対象ユーザーに対して機能させる開発者のキャストとクルーを対象にしています。 これは、"モノ" だけでなく、すべての IoT ソリューションを機能する "インターネット" へのセキュリティで保護された接続に関するガイドです。
Content: >-
  <p>モノのインターネット (IoT&ldquo;&rdquo;) に関して書かれた膨大な数の記事、ガイド、意見については、光る新しいモノに注目しているようです。一方、ファンデーションの基盤的なインターネットは、スポットライトの中でその瞬間を待っています。&ldquo;&rdquo; 問題の真相は、現在知っている IoT では、アンサンブル キャストとクルーがショーを行う必要があるというのが実例です。 開発者は、背後で、デバイスをクラウドに接続する方法、使用できるプロトコルの決定方法、接続をセキュリティで保護する方法、および認証の最適な方法について、任意の数の決定を行うのに苦労しています。</p>


  <p>この投稿は、IoT ソリューションを意図した対象ユーザーに対して機能させる開発者のキャストとクルーを対象にしています。 これは&#39;&ldquo;&rdquo; &ldquo;&rdquo;モノだけでなく、すべての IoT ソリューションを利用するインターネットへのセキュリティで保護された接続に関するガイドです。</p>


  <h2>Azure IoT とは</h2>


  <p>Microsoft&rsquo; のエンドツーエンド IoT プラットフォームは、最も完全な IoT オファリングであり、企業は IoT ソリューションから価値を迅速かつ効率的に構築して実現できます。 Azure IoT Suite や Azure IoT Hub を含む IoT ソリューションは、企業向けの完全なクラウド、データ、開発者向けオファリングの機能を活用して、ハイパースケールの IoT サービス、豊富なデータと分析、および深い統合を提供します。 開発者は、IoT Hub を使用してカスタム ソリューションの構築を開始したり、Azure IoT Suite (Azure IoT Hub を含む) の包括的な事前構成済みソリューションをすぐに開始することができます。 この投稿では、主にハブのAzure IoTされます。</p>


  <p>開発者が IoT の力を活用し、すぐに始めるのを支援するために、Azure IoT では一連のオープン ソース SDK、サンプル、構成済みのソリューションとツールが提供されます。 Microsoft のエンジニアは、GitHub でこれらの SDK、ツール、サンプルに取り組み、コミュニティやパートナーと協力して機能を追加し、新しい言語、プロトコル、デバイスとプラットフォームをサポートし、バグを修正し、パフォーマンスを向上させます。</p>


  <p>Azure IoT<a href="https://azure.microsoft.com/en-us/develop/iot/">デベロッパー</a> センターは、Azure IoT を使って体験を始めるのに最適な場所です。この記事では、ジャンプ時に期待される機能の全体像を示します。</p>


  <h2>Azure IoT Hub 向け開発</h2>


  <p>Azure IoT Hub は、1 か月あたり数十億件のメッセージを送受信する何百万もの IoT デバイスに接続、プロビジョニング、管理するための簡単で安全な方法を提供します。 IoT Hubは、デバイスとクラウド内のソリューションの間のブリッジであり、そのデータをリアルタイムで格納、分析、および処理できます。 &mdash; &mdash; IoT Hub、IoT で既に広く使用されている MQTT、HTTPS、AMQPS などのオープン プロトコルを使用して、デバイスからクラウドとクラウドへの安全で信頼性の高い 2 つの方法で通信できます。</p>


  <p>開発者は、デバイスを IoT Hub に接続し、IoT Hub サービス自体を管理し、IoT Hub をクラウド内の全体的な IoT ソリューションに統合する、という 3 つの主な目標を見る必要があります。</p>


  <p>3 つすべてを実現するために、Azure IoT Hub サービスは REST API と AMQP および MQTT 通信のサポートを公開しますが、通信プロトコルの実装は、性質上簡単ではありません。 これらの&#39;複雑さを抽象化し、シンプルで簡単な API を公開するオープン ソース SDK とサンプルを使用して、サービスとデバイス クライアントの両方について説明しました。 すべてのクライアント SDK は、GitHubオープンソースであり、次の機能を提供します。</p>


  <ul>
   <li>デバイス クライアント: <ul>
    <li>C、<a href="https://github.com/Azure/azure-iot-sdk-c">JavaScript</a> <a href="https://github.com/Azure/azure-iot-sdk-node">(ノード)、</a>Python、<a href="https://github.com/Azure/azure-iot-sdk-python">Java</a>、 <a href="https://github.com/Azure/azure-iot-sdk-java"> </a><a href="https://github.com/Azure/azure-iot-sdk-csharp">C# のサポート</a></li>
    <li>deviceto-cloud 通信のための AMQP、AmQP over WebSockets、MQTT、HTTP/REST&ndash; のサポート</li>
    <li>SSL のサポート (openSSL や WolfSSL などのサードパーティの依存関係を使用)</li>
    <li>単純な API は次の操作を行います。 <ul>
     <li>セキュリティで保護された接続を確立IoT Hub</li>
     <li>メッセージを IoT Hub に送信する</li>
     <li>IoT Hub からメッセージを受信する</li>
    </ul>
    </li>
   </ul>
   </li>
   <li>サービス クライアント: <ul>
    <li><a href="https://github.com/Azure/azure-iot-sdk-csharp" style="margin: 0px; padding: 0px; outline: 0px; border: 0px rgb(95, 151, 175); border-image: none; text-align: left; color: rgb(95, 151, 175); text-transform: none; text-indent: 0px; letter-spacing: normal; font-size: 13px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; word-spacing: 0px; vertical-align: baseline; white-space: normal; orphans: 2; background-color: transparent; -webkit-text-stroke-width: 0px;">C#、</a><a href="https://github.com/Azure/azure-iot-sdk-node" style="margin: 0px; padding: 0px; outline: 0px; border: 0px rgb(95, 151, 175); border-image: none; text-align: left; color: rgb(95, 151, 175); text-transform: none; text-indent: 0px; letter-spacing: normal; font-size: 13px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; word-spacing: 0px; vertical-align: baseline; white-space: normal; orphans: 2; background-color: transparent; -webkit-text-stroke-width: 0px;">JavaScript (ノード)、</a>Python、<a href="https://github.com/Azure/azure-iot-sdk-python" style="margin: 0px; padding: 0px; outline: 0px; border: 0px rgb(95, 151, 175); border-image: none; text-align: left; color: rgb(95, 151, 175); text-transform: none; text-indent: 0px; letter-spacing: normal; font-size: 13px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; word-spacing: 0px; vertical-align: baseline; white-space: normal; orphans: 2; background-color: transparent; -webkit-text-stroke-width: 0px;">Java</a>、<a href="https://github.com/azure/azure-iot-sdk-c">およびC</a> <a href="https://github.com/Azure/azure-iot-sdk-java" style="margin: 0px; padding: 0px; outline: 0px; border: 0px rgb(95, 151, 175); border-image: none; text-align: left; color: rgb(95, 151, 175); text-transform: none; text-indent: 0px; letter-spacing: normal; font-size: 13px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; word-spacing: 0px; vertical-align: baseline; white-space: normal; orphans: 2; background-color: transparent; -webkit-text-stroke-width: 0px;">の</a>&nbsp;サポート</li>
    <li>単純な API は次の操作を行います。 <ul>
     <li>デバイス レジストリの管理 (作成、削除、更新、削除)</li>
     <li>データを読み取IoT Hub</li>
     <li>特定のデバイスにメッセージを送信する</li>
    </ul>
    </li>
   </ul>
   </li>
  </ul>


  <p>IoT Hub でサポートされているプロトコルと通信できないデバイスを接続する場合、選択したプロトコルと IoT Hub の間のブリッジとして機能<a href="https://azure.microsoft.com/en-us/documentation/articles/iot-hub-protocol-gateway/"></a>するクラウド プロトコル ゲートウェイのオープン ソース サンプルがあります。</p>


  <p>次の図は、オープン ソース SDK とサンプルを使用できる場所を示しています。</p>


  <p><img alt="Azure IoT Hub dev diagram" border="0" height="301" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/bc5a4ff0-d7b9-423c-91cb-c4dd08ebdd24.png" style="border-image: none; padding-top: 0px; padding-right: 0px; padding-left: 0px; display: inline; background-image: none;" title="Azure IoT Hub 開発図" width="610"></p>


  <h2>Azure IoT Hub に安全に接続する</h2>


  <p>Azure IoTハブには、デバイスを接続するためのセキュリティで保護されたメカニズムが用意されています。</p>


  <p>1 つ目は、アクセス制御の見なし方です。 Azure IoT Hub サービスは、一連のアクセス許可を使用してエンドポイントへのアクセスを許可します。 開発者は、サービス、アプリ、デバイスの共有アクセス ポリシーを使用してアクセス許可を設定し、サービスのデバイス ID レジストリ機能を利用してデバイスごとのセキュリティ資格情報を作成できます。</p>


  <p>次Azure IoTハブは、共有アクセス ポリシーとデバイス ID レジストリのセキュリティ資格情報に対してトークンを検証することで、エンドポイントを認証します。 対称キーなどのセキュリティ資格情報がネットワーク上で送信されることはありません。 セキュリティ トークンの生成は、デバイス クライアント SDK に実装されます。</p>


  <p>最後に、すべてのエンドポイントが TLS を使用して Azure IoT Hub に接続し、暗号化されていないチャネルまたはセキュリティで保護されていないチャネルでエンドポイントが公開されなかったことを確認します。</p>


  <p>デバイスの場合、デバイス クライアント SDK では、このすべてが実装されます。そのため、開発者は、プラムが堅牢でセキュリティで保護されているという信頼を持つ実際のソリューションの開発に集中できます。</p>


  <p>デバイスの接続は、次の C コード行と同じ単純な方法です。</p>


  <p><em>iotHubClientHandle = IoTHubClient_CreateFromConnectionString(connectionString, AMQP_Protocol);</em></p>


  <p>アプリケーションからサービスを管理するために、サービス クライアント SDK&rsquo; は、Azure IoT Hub に安全に接続するために必要なすべてのものも実装します。</p>


  <p>Azure IoT Hub の通信セキュリティの詳細については、サービス開発者ガイドのセキュリティ<a href="https://azure.microsoft.com/en-us/documentation/articles/iot-hub-devguide/#security"></a>に関するセクションを&rsquo;参照してください。</p>


  <h2>メッセージの送受信</h2>


  <p>デバイスからハブへのセキュリティで保護された接続Azure IoT、&rsquo;メッセージの送受信を行う必要があります。 Azure IoTハブには生のメッセージング インフラストラクチャが用意されています。つまり、メッセージの本文に必要な情報を入力できます。</p>


  <p>メッセージの送信は、次の C コード スニペットと同じ簡単です。</p>


  <p><em>msgHandle = IoTHubMessage_CreateFromByteArray(msgText, strlen(msgText));</em></p>


  <p><em>IoTHubClient_SendEventAsync(iotHubClientHandle, msgHandle, SendConfirmationCallback, NULL);</em></p>


  <p>また、デバイス上の Azure IoT Hub からメッセージを受信する場合は、次の C の例のようなコールバックを登録する必要があります。</p>


  <p><em>IoTHubClient_SetMessageCallback(iotHubClientHandle, ReceiveMessageCallback, NULL);</em></p>


  <p>また、SDK を使用すると、メッセージが受信された場合に、相手側で通知を受け取ります。</p>


  <p>各言語 (<a href="https://github.com/Azure/azure-iot-sdk-c" style="margin: 0px; padding: 0px; outline: 0px; border: 0px rgb(95, 151, 175); border-image: none; text-align: left; color: rgb(95, 151, 175); text-transform: none; text-indent: 0px; letter-spacing: normal; font-size: 13px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; word-spacing: 0px; vertical-align: baseline; white-space: normal; orphans: 2; background-color: transparent; -webkit-text-stroke-width: 0px;" target="_blank">C</a>、 <a href="https://github.com/Azure/azure-iot-sdk-node" style="margin: 0px; padding: 0px; outline: 0px; border: 0px rgb(95, 151, 175); border-image: none; text-align: left; color: rgb(95, 151, 175); text-transform: none; text-indent: 0px; letter-spacing: normal; font-size: 13px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; word-spacing: 0px; vertical-align: baseline; white-space: normal; orphans: 2; background-color: transparent; -webkit-text-stroke-width: 0px;">JavaScript (ノード)</a>、 <a href="https://github.com/Azure/azure-iot-sdk-python" style="margin: 0px; padding: 0px; outline: 0px; border: 0px rgb(95, 151, 175); border-image: none; text-align: left; color: rgb(95, 151, 175); text-transform: none; text-indent: 0px; letter-spacing: normal; font-size: 13px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; word-spacing: 0px; vertical-align: baseline; white-space: normal; orphans: 2; background-color: transparent; -webkit-text-stroke-width: 0px;">Python</a>、 <a href="https://github.com/Azure/azure-iot-sdk-java" style="margin: 0px; padding: 0px; outline: 0px; border: 0px rgb(95, 151, 175); border-image: none; text-align: left; color: rgb(95, 151, 175); text-transform: none; text-indent: 0px; letter-spacing: normal; font-size: 13px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; word-spacing: 0px; vertical-align: baseline; white-space: normal; orphans: 2; background-color: transparent; -webkit-text-stroke-width: 0px;">Java </a>、 <a href="https://github.com/Azure/azure-iot-sdk-csharp" style="margin: 0px; padding: 0px; outline: 0px; border: 0px rgb(95, 151, 175); border-image: none; text-align: left; color: rgb(95, 151, 175); text-transform: none; text-indent: 0px; letter-spacing: normal; font-size: 13px; font-style: normal; font-variant: normal; font-weight: 400; text-decoration: none; word-spacing: 0px; vertical-align: baseline; white-space: normal; orphans: 2; background-color: transparent; -webkit-text-stroke-width: 0px;">C#)</a> の SDK リポジトリのさまざまなサンプルで詳細を確認できます。</p>


  <h2>生活を容易にするパッケージ、ツール、ドキュメント、サンプル</h2>


  <p>開発者は、単純な API に加えて、SDK オープン ソース リポジトリのすべての部分であるバイナリ パッケージ、ツール、ドキュメント、サンプルの恩恵を受け、より迅速に作業を開始し、ソリューションを効率的に実装してデバッグすることができます。</p>


  <p>JavaScript 用の npm、C# 用の NuGet、一部の Linux ディストリビューションの apt-get、Java 用 Maven、Python 用 pip ホイールなどのバイナリ パッケージを使用すると、必要ない場合はターゲット デバイスで SDK プロジェクト全体をビルドしてコンパイルする必要が省きます。 これらのパッケージのいずれかを使用してデバイスでサンプルを実行するのは、簡単な手順です。</p>


  <p>Azure IoT Hub を使用して IoT ソリューションを作成およびデバッグするプロセスでは、IoT Hub サービスでアクセス資格情報を構成し、デバイス ID を作成し、デバイスからのメッセージを監視し、デバイスにメッセージを送信してコードをテストする必要があります。 これらのタスクを簡単に実行するには、次の優れたツールが用意されています。</p>


  <ul>
   <li>この <a href="https://github.com/azure/azure-iot-cli-extension">Azure CLI IoT </a>拡張機能では、2.0 IoT Hub ベースの Python に Azure に固有のAzure CLIが追加されます。</li>
   <li>Visual Studio Codeの開発オファ<a href="https://marketplace.visualstudio.com/items?itemName=vsciot-vscode.azure-iot-toolkit">リング</a>に役立つIoT Hub拡張機能があります&nbsp;</li>
   <li><a href="https://github.com/Azure/azure-iot-sdk-csharp/tree/master/tools/DeviceExplorer">Device Explorer</a>は、Windowsインターフェイスに付属する新しいアプリケーションです。</li>
  </ul>


  <p>ドキュメントに関しては、次の情報が表示されます。</p>


  <ul>
   <li>GitHub リポジトリ内のコードに近いドキュメント (各リポジトリのルートにある doc フォルダーを探します)。次のような記事があります。 <ul>
    <li><a href="https://github.com/Azure/azure-iot-sdk-c/blob/master/doc/SDK_cross_compile_example.md">C SDK をクロス コンパイルする方法</a></li>
    <li><a href="https://github.com/Azure/azure-c-shared-utility/blob/master/devdoc/porting_guide.md">C SDK を移植する方法</a></li>
   </ul>
   </li>
   <li><a href="https://docs.microsoft.com/en-us/azure/#pivot=products&amp;panel=iot" target="_blank">API リファレンス docs.microsoft.com チュートリアルなど、IoT</a> サービスとソリューションに関するドキュメント。</li>
  </ul>


  <p>最後に、SDK リポジトリで大量のオープン ソース サンプルを使用して、より迅速に開始できます。 単純なサンプルでは、言語ごとに、サポートされている各プロトコルがメッセージの送受信にどのように機能するか、さらに高度なサンプルでは、Azure IoT Suite に接続する方法や、単純な温度異常検出システムを実装する方法が示されています。&nbsp;</p>


  <p>エンド to エンドのサンプルは、さらに広範なコミュニティによって <a href="https://azure.microsoft.com/en-us/documentation/samples/?service=iot-hub">Azure</a> サンプル ポータルにも公開されています。このポータルも、その影響を受け取る可能性があります。</p>


  <h2>ハードウェアとソフトウェアの要件</h2>


  <p>さまざまなデバイスをハブに直接接続Azure IoTできます。 デバイスには、IP アドレスを持ち、TCP over SSL 接続を確立するのに十分なリソースが必要です。 デバイス クライアント SDK は、言語に応じてさまざまなプラットフォーム (マイクロコントローラー、リアルタイム OS、Linux、Windows など) をサポートします。サポートされている OS プラットフォーム、テスト済み HW プラットフォーム、プロトコルの完全な一覧は、こちらを参照<a href="https://azure.microsoft.com/en-us/documentation/articles/iot-hub-tested-configurations/">してください</a>。</p>


  <p>既に Azure IoT 接続をサポートしているハードウェアのショッピングを希望する場合は、サポートされているプラットフォームの<a href="https://catalog.azureiotsuite.com"></a>広範な一覧と、Azure IoT Hub 用に認定されたボードの一覧を確認してください。</p>


  <p>開発中の OS に関しては、ターゲットとするデバイスと、SDK を自分でコンパイルするか、バイナリ パッケージのいずれかを使用するかに応じて、Windows、Linux、または OSX で作業できます。 ご利用の開発環境を設定する方法の詳細については、さまざまなサンプル手順を参照してください。</p>


  <h2>Azure IoT Suite 向け開発</h2>


  <p>IoT Hubカスタマイズされた IoT ソリューションのすばらしい基礎サービスですが、これはほんの始めに過言ではありません。 Microsoft は、事前構成済みの IoT ソリューションを提供することで、構築ブロック サービスを超えています。そのため、顧客が構築するために数週間かっているものは、Azure IoT Suite を使用して数分で自動的にプロビジョニングできます。 Azure IoT Suite を使用すると、IoT Hub や他の Azure &mdash; サービスを含む、動作するエンドツーエンドの IoT ソリューションを迅速にプロビジョニングできます。また、シミュレートされたデバイスを含め、1 回のクリックデプロイでエンド to エンド ソリューションの迅速なプロトタイプ作成を開始するのに役立ちます。</p>


  <p>Azure IoT Suite 向け開発は、次の 2 つの簡単な手順で分かれています。</p>


  <ul>
   <li>デバイスをソリューションに接続します。これは、デバイスを Azure IoT Hub に接続し、デバイスが IoT Suite ソリューション インスタンスに対して適切な形式でデータを送信IoT Suiteします。 Azure IoT Suite の事前構成済みソリューションごとに、デバイスを接続するためのサンプル<a href="https://docs.microsoft.com/azure/iot-suite/iot-suite-connecting-devices">と手順</a>を確認できます。</li>
   <li>Azure IoT Suite 構成済みソリューションの一部としてデプロイされたサービスをカスタマイズする。 構成済みのソリューションはすべてソース コードとして提供されます。これにより、ソリューションのすべての部分を変更、適応、再デプロイできます。 詳細なドキュメントについては、こちらを参照 <a href="https://docs.microsoft.com/azure/iot-suite/">してください</a>。</li>
  </ul>


  <p>その他 &hellip;</p>


  <p>Azure IoT Hub と Azure IoT Suite は、エンド to エンド ソリューションを作成するときに使用して開発する必要がある唯一の機能ではありません。 IoT ソリューションを作成するために Azure で利用、メリット、およびスピンアップできる他のサービスは他にもあります。 エンド to エンドの IoT ソリューションの最初の実装の開始点として、Azure IoT Suite があります。これは、事前に構成され、数分で実行される一連のサービスを簡単にデプロイできる点です。</p>


  <h2>次&#39;は何ですか?</h2>


  <p>これは、モノ&ldquo;&rdquo;&ldquo;&rdquo;を安全にインターネットに接続し、メッセージを送受信し、IoT ソリューション、SDK、ツール、サンプル、ドキュメントをデバッグする、Azure IoT が開発者に提供する必要がある機能の概要にすぎりでした。 これにより、次の大きな&rsquo; IoT ソリューションである、明日のアイデアというカウントに集中できます。</p>


  <p><a href="https://azure.microsoft.com/en-us/develop/iot/">Azure IoT</a> デベロッパー センターにアクセスし、IoT Hub または <a href="https://catalog.azureiotsuite.com"></a><a href="https://azure.microsoft.com/en-us/documentation/services/iot-hub/">IoT Suite</a> の紹介ビデオの一部を確認し、認定ハードウェア<a href="https://azure.microsoft.com/en-us/documentation/suites/iot-suite/"></a>の一覧をスキャンし、チュートリアルとサンプルを試してみてください。質問、提案、問題<a href="https://azure.microsoft.com/en-us/documentation/samples/?service=iot-hub"></a>がある場合は、GitHub の Azure IoT 開発チームにお問い合わせください。</p>
