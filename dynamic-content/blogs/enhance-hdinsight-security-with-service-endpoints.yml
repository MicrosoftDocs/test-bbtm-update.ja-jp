### YamlMime:Yaml
ms.openlocfilehash: f244c36dbadd10198115b05d6dcb7e69e87770b5
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139895090"
Slug: enhance-hdinsight-security-with-service-endpoints
Title: サービスエンドポイントを使用して HDInsight のセキュリティを強化する方法
Summary: HDInsight 企業のお客様は、世界中で最も重要なデータの一部を使用できます。 また、ネットワーク層でもこのデータへのアクセスをロックダウンできるようにしたいと思います。 ただし、service...
Content: >-
  <p align="left">HDInsight 企業のお客様は、世界中で最も重要なデータの一部を使用できます。 また、ネットワーク層でもこのデータへのアクセスをロックダウンできるようにしたいと思います。 ただし、Azure データソースでは <a href="https://docs.microsoft.com/en-us/azure/virtual-network/virtual-network-service-endpoints-overview">サービスエンドポイント</a> を利用できますが、hdinsight のお客様は、hdinsight と他のデータストア間の相互運用性がないため、ビッグデータパイプラインに対してこの追加のセキュリティレイヤーを利用できませんでし &rsquo; た。 最近<a href="https://azure.microsoft.com/en-us/blog/enterprises-get-deeper-insights-with-hadoop-and-spark-updates-on-azure-hdinsight/">発表</a>したように、HDInsight は<b>Azure Blob Storage、Azure SQL データベース、および Azure Cosmos DB</b>のサービスエンドポイントをサポートするようになりました。</p>


  <p align="left">ネットワーク層でのこの強化されたセキュリティレベルにより、お客様は、ビッグデータストレージアカウントを指定した仮想ネットワーク (Vnet) にロックダウンできます。さらに、HDInsight クラスターをシームレスに使用して、そのデータにアクセスして処理することができます。</p>


  <p align="left">この記事の残りの部分では、サービスエンドポイントを有効にし、Azure Blob Storage、azure SQL DB、azure CosmosDB の重要な HDInsight 構成を指摘する方法について説明します。</p>


  <h2 align="left">Azure Blob Storage</h2>


  <p align="left">HDInsight で Azure Blob Storage を使用する場合は、Blob Storage のファイアウォール設定で、選択した vnet を<a href="https://docs.microsoft.com/en-us/azure/storage/common/storage-network-security">構成</a>できます。 これにより、これらのサブネットからのトラフィックのみがこのストレージアカウントにアクセスできるようになります。</p>


  <p align="left">[ &quot; <strong>信頼された Microsoft サービスがこのストレージアカウントにアクセスできるように</strong>する] をオンにすることが重要です。 &quot;これにより、HDInsight サービスがストレージアカウントにアクセスし、シームレスな方法でクラスターをプロビジョニングできるようになります。</p>


  <p align="left"><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/a2de8424-4750-4815-a10c-cd14b98afbec.jpg"><img alt="blobStorageSE4" border="0" height="757" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/148280ac-94b9-4f2d-ae9d-7a472cb3567d.png" style="border: 0px currentcolor; margin-right: auto; margin-left: auto; display: block; background-image: none;" title="blobStorageSE4" width="990"></a></p>


  <p align="left">&nbsp;</p>


  <p align="left">ストレージアカウントが HDInsight クラスターとは異なるサブスクリプションにある場合は、HDInsight リソースプロバイダーがストレージサブスクリプションに登録されていることを確認してください。 サブスクリプションでリソースプロバイダーを登録または再登録する方法の詳細については、「 <a href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-manager-supported-services">その他のリソースプロバイダーと種類</a>」を参照してください。 HDInsight リソースプロバイダーが適切に登録されていない場合、 <a href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-manager-register-provider-errors">このエラーメッセージ</a>が表示されることがあります。これは、リソースプロバイダーの登録によって解決できます。</p>


  <p align="left"><strong>注</strong>: HDInsight クラスターは、blob ストレージファイアウォールで許可されているいずれかのサブネットにデプロイする必要があります。 これにより、クラスター Vm からのトラフィックがストレージに接続できるようになります。</p>


  <h2 align="left">Azure SQL DB</h2>


  <p align="left">Hive または Oozie metastore に外部 SQL DB を使用している場合は、<a href="https://docs.microsoft.com/en-us/azure/sql-database/sql-database-vnet-service-endpoint-rule-overview">サービスエンドポイント</a>を構成できます。 &ldquo;HDInsight の観点からは、Azure サービス &rdquo; へのアクセスを許可する手順は必要ありません。これらのデータベースへのアクセスは、クラスターが作成され、vm が VNET に挿入された後に行われるためです。</p>


  <p align="left"><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/8b28137a-8744-46a2-8555-9a1a84d2648d.png"><img alt="sqlDBSE_thumb1" border="0" height="605" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/70aaead6-58ea-4998-920b-bafca1bd13a0.png" style="border: 0px currentcolor; margin-right: auto; margin-left: auto; display: block; background-image: none;" title="sqlDBSE_thumb1" width="580"></a></p>


  <p align="left"><strong>注</strong>: HDInsight クラスターは、SQL DB ファイアウォールで許可されているいずれかのサブネットにデプロイする必要があります。 これにより、クラスター vm からのトラフィックが SQL DB に接続できるようになります。</p>


  <h2 align="left">Azure Cosmos DB</h2>


  <p align="left"><a href="https://docs.microsoft.com/en-us/azure/cosmos-db/spark-connector">Azure Cosmos DB 用の spark コネクタ</a>を使用している場合は Cosmos DB ファイアウォール設定でサービスエンドポイントを有効にし、HDInsight クラスターからシームレスに接続することができます。</p>


  <p align="left"><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/b156fc1f-d867-4977-a6c3-742ed293759b.png"><img alt="cosmosDBSE_thumb" border="0" height="748" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/702800f9-f05b-4772-8008-b34d3edbe462.png" style="border: 0px currentcolor; margin-right: auto; margin-left: auto; display: block; background-image: none;" title="cosmosDBSE_thumb" width="978"></a></p>


  <p align="left">&nbsp;</p>


  <p align="left"><strong>注</strong>: HDInsight クラスターは Cosmos DB ファイアウォールで許可されているいずれかの vnet にデプロイする必要があります。 これにより、クラスター vm からのトラフィックが SQL DB に接続できるようになります。</p>


  <h2 align="left">今すぐ HDInsight を試す</h2>


  <p align="left">現在 &rsquo; の発表を最大限に活用し、Azure HDInsight で何を構築するかをご紹介します。 これらのパイプラインとアーキテクチャを Azure HDInsight に実装する方法の詳細については、<a href="https://azure.microsoft.com/en-us/blog/azure-hdinsight-training-resources-learn-about-big-data-using-open-source-technologies/">開発者ガイドを参照</a>し、クイックスタートガイドに従ってください。 最新の Azure HDInsight のニュースと機能については、Twitter <a href="https://twitter.com/search?q=%23HDInsight&amp;src=typd"> # HDInsight</a>と <a href="https://twitter.com/AzureHDInsight">@AzureHDInsight</a> に関する記事をご利用ください。 質問やフィードバックについては、まで <a href="https://mailto:AskHDInsight@microsoft.com/">AskHDInsight@microsoft.com</a> お問い合わせください。</p>


  <h2 align="left">HDInsight について</h2>


  <p align="left">Azure HDInsight は、Azure でオープンソースワークロードを実行するための Microsoft &rsquo; の premium マネージサービスです。 現在、さまざまな OSS フレームワークでいくつかの新機能を発表しています。</p>


  <p align="left">Azure HDInsight は、、製造、小売教育、非営利、政府、医療、メディア、銀行、電気通信、保険、およびその他多くの業界において、ETL からデータウェアハウスまで、Machine Learning から IoT などのさまざまな分野で、お客様 &rsquo; のミッションクリティカルなアプリケーションの一部を強化します。</p>
