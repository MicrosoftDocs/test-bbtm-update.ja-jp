### YamlMime:Yaml
ms.openlocfilehash: 7c019493e907adf40e9d22c89b359264277a1d6f
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139910155"
Slug: announcing-automatic-os-upgrades-for-azure-vm-scale-sets
Title: Azure VM スケール セットの OS の自動アップグレードの発表
Summary: インフラストラクチャの規模と複雑さ Azure 仮想マシン スケール セットが導入された場合、非常に大規模なクラウド インフラストラクチャのデプロイと管理が簡単に行えるのです。 継続的にを探しています...
Content: >-
  <h2>インフラストラクチャの規模と複雑さ</h2>


  <p>Azure <a href="https://docs.microsoft.com/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-overview" target="_blank">仮想マシン スケール セット</a> が導入された時点で、非常に大規模なクラウド インフラストラクチャを簡単にデプロイおよび管理できます。 クラウド インフラストラクチャを管理するための全体的なコストを削減する方法を継続的に探しています。 スケールに合って増加するコストの領域の 1 つは、アプリケーションの実行を維持しながら、最新の OS バージョンにパッチが適用された各仮想マシンを維持する方法です。 つまり、一度に 1 つの VM のバッチであるアップグレードをスムーズにロールアウトする方法を見つけることを意味します。 多くの OS プロバイダーは、毎月、または重要なセキュリティ修正のためにより頻繁に VM イメージの新しい修正プログラムが適用されたバージョンを作成しますが、これらのアップグレードを確認して手動で展開すると、クラウド インフラストラクチャ管理コストが上がっています。</p>


  <h2>スケール セットの新しいオートメーション機能の発表</h2>


  <p>現在、スケール セットの OS イメージのアップグレードを簡略化するための新しい自動化機能のセットを発表します。OS ライフサイクル メンテナンスに <em>set-it-and-forget-it</em> アプローチを採用できます。</p>


  <h2>OS イメージの自動アップグレード プレビュー</h2>


  <p>プレビューでは、Azure スケール セットの OS イメージの自動アップグレード機能により、スケール セット内のすべての VM が自動的に最新バージョンにアップグレードされます。 構成が完了すると、イメージパブリッシャーによって発行された最新の OS イメージが、ユーザーの介入なしにスケール セットに自動的に適用されます。</p>


  <p>アプリケーションのダウンタイムを最小限に抑えるために、アップグレードはマシンのバッチで実行されます。スケール セットの 20% 以下がいつでもアップグレードされます。 さらに、Azure Load Balancer アプリケーションの正常性プローブを統合するオプションもあります。 これは、アプリケーションのハートビートを組み込み、アップグレード プロセスのバッチごとにアップグレードの成功を検証することを強くお勧めします。</p>


  <p>アプリケーション全体で最新の OS&rsquo; バージョンの一貫性と準拠を維持するために、Azure Resource Manager ポリシーを構成して、サブスクリプション内のすべてのスケール セットに対して自動イメージ アップグレードを適用する (および推奨される) 場合があります。</p>


  <p>アップグレードは、VM の OS ディスクを、最新のイメージ バージョンを使用して作成された新しいものに置き換えるによって機能します。 永続化されているデータ ディスクは保持されたまま、すべての構成済みの拡張機能とカスタム データ スクリプトが実行されます。 自動アップグレードは、いつでもオプトアウトするか、手動でアップグレードを開始できます。</p>


  <p><strong>メモ：</strong>仮想マシンまたはスケール セットのサイズに制限はありません。また、自動 OS アップグレードは、仮想マシンと Linux VM の両方Windows機能します。</p>


  <h2>OS の自動アップグレードの対象となるオペレーティング システムは何ですか?</h2>


  <p>最初は、次のオペレーティング システムが自動 OS アップグレード プレビューの対象となります。</p>


  <ul>
      <li>Windows Server 2016 Datacenter</li>
      <li>Windows Server 2012 Datacenter R2</li>
      <li>Ubuntu Server 16.04-LTS</li>
  </ul>


  <p>先&rsquo;に進む間に OS ファミリを追加します。</p>


  <h2>OS の自動アップグレードが行うのは、いつですか?</h2>


  <p>OS の自動アップグレードは、OS の発行元が新しいイメージ バージョンをリリースした直後にトリガーされます。</p>


  <h2>イメージの自動アップグレードと VM 内アップグレード オプション (Windows Update など) は異なりますか。</h2>


  <p>イメージのアップグレードでは、各 VM のオペレーティング システム ディスクが一度に 1 つのバッチで置き換わる。 これは、OS ディスクにアプリケーションの状態を保持しないステートレス アプリケーションや、状態データの冗長コピーを保持するアプリケーションに対して適切に機能します。 新しいイメージは、発行元が管理および認定されます。 更新プログラムは、azure セーフデプロイ プラクティスを使用して適用されます。たとえば、geo ペアリージョンでは同時に行う必要があります。</p>


  <p>WINDOWS Update&rdquo; のような VM &ldquo;内アップグレード オプションでは、OS ディスクを交換せずにオペレーティング システムの修正プログラムを適用します。 これは、OS ディスク上でアプリケーションの状態を維持するステートフル アプリケーションに対して適切に機能しますが、パッチをすべての VM に同時に適用できるので、アプリケーションのダウンタイムが発生するリスクもあります。 また、仮想マシンの OS&rsquo; ディスクは、スケール セットのソース イメージの前にますます進みます。つまり、新しい VM (スケール セットがスケールアウトされた場合など) は、作成時にパッチ サイクルが長くなります。</p>


  <h2>作業の開始</h2>


  <p>プレビュー用にサブスクリプションを登録する方法と開始する方法の詳細については、Azure 仮想マシン スケール セットの自動 OS アップグレードに関する <a href="https://docs.microsoft.com/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-automatic-upgrade" target="_blank"><em>ページを参照してください</em></a>。</p>


  <p>ロード バランサーの正常性プローブの構成、アップグレード ポリシーの適用、アップグレードの状態の確認、Azure テンプレートの例を確認して開始する手順について説明します。</p>
