### YamlMime:Yaml
ms.openlocfilehash: 2c268a3d01c3bc15f816a8e8297eeff23c2084bc
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139890225"
Slug: azure-stack-iaas-part-ten
Title: IaaS の Azure Stack –パート10
Summary: Azure または Azure Stack で Vm を実行する場合の優れた点の1つは、クラウドによって提供されるサービスを利用して、仮想マシン (Vm) の最新化を開始できることです。
Content: >-
  <p><em>このブログは、Andrew Westgarth、シニアプログラムマネージャー、Azure Stack によって共同作成されています&nbsp;</em></p>


  <h2>PaaS への道のり</h2>


  <p>Azure または Azure Stack で Vm を実行する場合の優れた点の1つは、クラウドによって提供されるサービスを利用して、仮想マシン (Vm) の最新化を開始できることです。 サービスとしてのプラットフォーム (PaaS) とは、多くの場合、これらの機能を自分で構築および管理する負担なしで、アプリケーションで使用できる機能に適用される用語です。 実際、クラウド IaaS 自体は PaaS です。これは、基になるハイパーバイザー、ソフトウェアで定義されたネットワークとストレージ、またはセルフサービス API とポータルも作成または維持する必要がないためです。 さらに、Azure と Azure Stack には、アプリケーションの最新化に使用できる PaaS サービスが用意されています。</p>


  <p>アプリケーションを最新化する必要がある場合は、クラウドプラットフォームによって提供されるクラウドのネイティブテクノロジと事前に構築されたサービスを活用することができます。 多くのチームは、新しい機能を既存のアプリに追加するときに、これらの機能を利用することを選択しています。 こうすることで、クラウドの利便性を向上させると同時に、アプリケーションの成熟した部分を Vm に保持できます。</p>


  <p>この記事では、PaaS への移行の一環として、web apps、サーバーレス関数、blob storage、Kubernetes でアプリケーションを最新化する方法について説明します。</p>


  <h2>Azure アプリ Services を使用した Web アプリ</h2>


  <p>仮想化の時代に戻って、VM の数が増加しました。 そのため、多くの Vm は1つの目的を果たすためだけにリソースを占有していました。 最も一般的なのは、web サイトをホストするためだけの VM 全体でした。 VM 全体を使用することは、リソースの観点からは無駄ではなく、継続的な管理でも無駄になります。 Azure アプリ Services は新しいオプションを提供します。 VM を作成して web サーバーをインストールする代わりに、プラットフォーム上で直接 web サイトを作成することができます。 Azure Stack ポータルで web アプリを作成するのはとても簡単です。 実際に提供する必要がある主なのは、Azure と同じように、DNS 名全体の一部になる web サイトの名前ですが、ネットワーク上には Azure Stack がインストールされています。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/254b8a4b-dab0-4a83-9e73-bf9ea1cb12d1.png"><img alt="Screenshot showing how to create a web app in the Azure Stack portal" border="0" height="632" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/f2daf7a9-7b4e-4512-9cf8-c865092e95bc.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="Azure Stack ポータルで web アプリを作成する方法を示すスクリーンショット" width="800"></a></p>


  <p>Web アプリがデプロイされると、FTP または web deploy を使用して、またはリポジトリから web サイトにプッシュすることができます。 これにアクセスするには、web アプリのデプロイオプションにアクセスします。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/63a8a630-34a5-4171-8c8e-e3e19e6c1227.png"><img alt="Screenshot showing how to access the deployment options of the web app" border="0" height="425" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/bde55dec-f867-482e-a5ac-7486f7dd469e.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="Web アプリのデプロイオプションにアクセスする方法を示すスクリーンショット" width="800"></a></p>


  <p>また、web アプリのカスタムドメインを作成して、ユーザーがよりわかりやすい名前で web サイトにアクセスできるようにすることもできます。 そのため、 <strong>timecard.appservice.midwest.azurestack.corp.contoso.com</strong> のような URL は、 <strong>timecard.contoso.com</strong> またはその他のドメイン全体になることがあります。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/b0a73310-62af-4b18-b0a8-e242be64a6c9.png"><img alt="Screenshot showing how to create a custom domain" border="0" height="420" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/3641b862-aee9-4dc7-b078-6e0800c73b9d.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="カスタムドメインを作成する方法を示すスクリーンショット" width="800"></a></p>


  <p>Azure アプリサービスの詳細については Azure Stack を参照してください。</p>


  <ul>
   <li><a href="https://docs.microsoft.com/en-us/azure-stack/operator/azure-stack-app-service-overview" target="_blank">Azure Stack (オペレーター用) の App Services</a></li>
   <li><a href="https://docs.microsoft.com/en-us/Azure/app-service/app-service-web-tutorial-custom-domain#map-your-domain" target="_blank">カスタムドメインの App Service</a></li>
   <li><a href="https://docs.microsoft.com/en-us/azure/app-service/" target="_blank">App Service のドキュメント</a></li>
   <li><a href="https://docs.microsoft.com/en-us/azure/app-service/app-service-web-get-started-html" target="_blank">App Services のクイックスタートガイド</a></li>
  </ul>


  <h2>Azure Functions を使用したサーバーレス関数</h2>


  <p>Web サイトよりも小さいものがある場合、なぜ VM 全体を作成するのでしょうか。 Azure Functions では、プラットフォームでコードをホストするだけで、VM は必要ありません。 Azure Functions の候補の例としては、スケジュールに基づいて実行する必要があるスクリプトや、web 要求によってトリガーされるスクリプトなどがあります。 &rsquo;関数を使用して、リソースの使用状況を定期的に測定したり、適切な応答があるかどうかを確認したり、条件が満たされていることを別のシステムに通知したりしました。 Azure Stack は、CSharp、JavaScript、Fsharp.core、PowerShell *、Python*、TypeScript *、PHP*、および Batch * (* は実験的な言語を示します) で記述された関数をサポートしています。</p>


  <p>関数は、ポータルで直接作成するのが簡単です。 単に、関数の名前を指定し、次にシナリオテンプレートを選択して開始する必要があります。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/2470d891-8f79-4508-804e-e51ec6cafedf.png"><img alt="Screenshot showing how to create functions directly into the poral" border="0" height="492" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/4b84419f-fc4b-4682-b929-1c06ba1306db.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="関数を直接作成する方法を示すスクリーンショット" width="800"></a></p>


  <p>Azure Stack ポータルで関数を直接テストおよび実行することもできます。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/352707cf-7c8d-4418-84bb-189b330c809f.png"><img alt="Screenshot showing how to test and run functions directly in the Azure Stack portal" border="0" height="423" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/24a5430e-b32d-41c5-999e-be36f57cbad7.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="Azure Stack ポータルで関数を直接テストおよび実行する方法を示すスクリーンショット" width="800"></a></p>


  <p>詳細情報:</p>


  <ul>
   <li><a href="https://docs.microsoft.com/en-us/azure/azure-functions/functions-overview" target="_blank">Azure Functions の概要</a></li>
   <li><a href="https://docs.microsoft.com/en-us/azure/azure-functions/functions-create-first-azure-function" target="_blank">Azure Portal で初めての関数を作成する</a></li>
  </ul>


  <h2>Azure Storage を使用したサービスとしての Storage</h2>


  <p>仮想化の日で Vm が頻繁に使用されていない場合は、ストレージが使用されていました。 web アプリ &rsquo; のイメージまたはドキュメントの共有用に独自のファイルサーバーをセットアップ Teams ます。 Azure Stack を使用すると、組み込みのプラットフォームストレージ機能を利用できます。 Azure Stack の Azure Storage は、次の4つのストレージオプションを提供します。</p>


  <ul>
   <li>ファイルシステムオブジェクトではなく、コードフレンドリな URL でアクセスできる、web イメージ、ファイル、ログなどの非構造化データの blob。</li>
   <li>Web フレンドリ REST API 経由でアクセスできる永続的なメッセージキューのキュー。</li>
   <li>OData ベースのクエリを使用した JSON などの半構造化 XML データのテーブル。</li>
   <li>Azure Virtual Machines をサポートするための永続ストレージ用のディスク。</li>
  </ul>


  <p>Azure Storage を開始するには、Azure Stack サブスクリプションでストレージアカウントを作成します。 ストレージアカウントを作成したら、blob、テーブル、またはキューを作成できます。 ここでは、チームが参加を開始するためにサインアップしたときにキューから除外できるようにするための項目のキューを作成しました。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/3bf6be49-fea3-4231-8c10-d280b36ec6ac.png"><img alt="Screenshot of an example storage account creating queues" border="0" height="441" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/a319c2d0-3edb-4e3d-8842-ea3080ee8138.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="キューを作成するストレージアカウント例のスクリーンショット" width="800"></a></p>


  <p>Azure Table Storage を使用すると、柔軟なデータスキーマを必要とするアプリに対して、ストアの半構造化データを格納し、クエリを実行することが Azure Stack できます。 このデータには Azure Storage SDK を使用してアクセスするか、 <a href="https://www.storageexplorer.com/" target="_blank">Azure Storage Explorer</a>や Microsoft Excel などのツールを使用してデータを表示および編集することができます。 Azure Storage Explorer から表示 Table Storage Azure に格納されている野球の名簿を次に示します。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/2257bc29-1f16-453e-9763-421ff1c5f688.png"><img alt="Screenshot of a baseball roster stored in Azure Table Storage viewed from Azure Storage Explorer" border="0" height="549" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/1a3d3837-6883-4a96-9808-64ae1db8efc8.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="Azure に格納されている野球名簿のスクリーンショット Azure Storage Explorer から表示 Table Storage" width="800"></a></p>


  <p>Microsoft Excel からアクセスされる同じデータを次に示します。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/5ed3e697-80c8-421c-a59d-60178653d51a.png"><img alt="Screenshot of a baseball roster in Microsoft Excel" border="0" height="483" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/b8ff8c9c-86b2-4cae-abc7-30d3903dae60.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="Microsoft Excel の野球名簿のスクリーンショット" width="800"></a></p>


  <p>非構造化データの共有も簡単です。 ここには、IoT デバイスが作成しているすべてのログが記載されています。 Blob の URL を使用して、ポータルまたはコードでログをダウンロードまたはアップロードすることができます。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/54b23865-b8c7-4a86-b230-e42da1a24231.png"><img alt="Screenshot of sharing unstructured data" border="0" height="474" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/62715daf-dc27-4b75-9bc1-a439ee97d275.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="非構造化データの共有のスクリーンショット" width="800"></a></p>


  <p>詳細情報:</p>


  <ul>
   <li><a href="https://azure.microsoft.com/en-us/services/storage/blobs/" target="_blank">Azure Blob Storage</a></li>
   <li><a href="https://azure.microsoft.com/en-us/services/storage/disks/" target="_blank">Azure Disk Storage</a></li>
   <li><a href="https://azure.microsoft.com/en-us/services/storage/tables/" target="_blank">Azure Table Storage</a></li>
   <li><a href="https://azure.microsoft.com/en-us/services/storage/queues/" target="_blank">Azure Queue Storage</a></li>
   <li><a href="https://docs.microsoft.com/en-us/azure-stack/user/azure-stack-storage-connect-se" target="_blank">Connect Azure Storage Explorer Azure Stack</a></li>
   <li><a href="https://support.office.com/en-us/article/Connect-to-Microsoft-Azure-Table-Storage-Power-Query-4ba56e50-2c4c-468e-887c-8de9b49fd22e" target="_blank">Azure Table Storage への Microsoft Excel の Connect</a></li>
  </ul>


  <h2>KeyVault を使用したシークレット</h2>


  <p>仮想化の日にパスワードと証明書のシークレットを保持する方法を教えてください。 常にベストプラクティスとは限りません。 KeyVault は、機密情報を保持するための安全な場所を提供する、組み込みの Azure platform service です。 KeyVault に保持されているシークレットを使用して Azure Stack 上に VM を作成できます。 このようにして、VM のデプロイに使用するテンプレートにパスワードやその他のシークレットをクリアテキストで入力する必要は&#39;ありません。 &nbsp; これは、Azure platform サービスを利用して Vm を最新化する方法の一例にすぎません。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/0966e5ee-21f8-49ae-83cf-3e343a6943d9.png"><img alt="Screenshot example of how you can modernize your VMs by taking advantage of the Azure platform services" border="0" height="502" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/6cf9fc2f-76f1-4191-a538-ca39356c2a63.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="Azure platform サービスを利用して Vm を最新化する方法のスクリーンショットの例" width="800"></a></p>


  <p>詳細情報:</p>


  <ul>
   <li><a href="https://azure.microsoft.com/en-us/services/key-vault/" target="_blank">Azure KeyVault の概要</a></li>
   <li><a href="https://docs.microsoft.com/en-us/azure-stack/user/azure-stack-key-vault-deploy-vm-with-secret" target="_blank">KeyVault でセキュリティで保護されたパスワードを使用して Azure Stack に VM を作成する</a></li>
  </ul>


  <h2>Kubernetes でのコンテナー</h2>


  <p>アプリケーションを最新化するもう1つの優れた方法は、コンテナーを利用することです。 Azure Stack には、Kubernetes クラスターでコンテナーをホストするオプションが用意されています。 この Kubernetes クラスターは、azure Kubernetes Service (AKS) エンジンを使用して作成されます。これにより、Azure の AKS と Kubernetes Azure Stack クラスターの間でアプリケーションを簡単に移動できます。 Kubernetes クラスターを作成するのは簡単で、ポータル &rsquo; の marketplace からデプロイするだけで、簡単に Azure Stack できます。<br>

  Azure Stack Kubernetes クラスターは、現在パブリックプレビューの段階です。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/647ddd28-4f7a-4378-b84d-0c614a59d9e8.png"><img alt="Screenshot of a Kubernetes Cluster preview" border="0" height="628" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/3ad681e7-223e-4dd4-990d-9e9e5a35a179.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="Kubernetes クラスタープレビューのスクリーンショット" width="800"></a></p>


  <p>詳細情報:</p>


  <ul>
   <li><a href="https://docs.microsoft.com/en-us/azure-stack/user/azure-stack-solution-template-kubernetes-deploy" target="_blank">Azure Stack でコンテナーを使用するための Kubernetes をデプロイする</a></li>
   <li><a href="https://docs.microsoft.com/en-us/azure-stack/operator/azure-stack-solution-template-kubernetes-cluster-add" target="_blank">Kubernetes を Azure Stack Marketplace に追加する (演算子の場合)</a></li>
   <li><a href="https://github.com/Azure/aks-engine" target="_blank">Azure AKS Engine</a></li>
  </ul>


  <h2>Vm だけでなく、アプリのプラットフォーム</h2>


  <p>仮想化プラットフォームの主な目的は、インフラストラクチャチームのライフサイクルの向上に役立ちます。 しかし、クラウドプラットフォームでは、ビジネスユニットと開発者の生活を向上させることに重点を置いています。 仮想化 Vm ではこれまでにのみ実行されます。 ただし、Azure または Azure Stack のクラウド IaaS に Vm を移行するときに、クラウドのリズムを期待しているユーザーに最新の状態を維持するために、アプリを最新化することができます。 ネイティブの PaaS サービスを活用することで、インフラストラクチャとアプリのビジネスを活用できます。</p>


  <h3>このブログシリーズの記事</h3>


  <p>今後、このブログシリーズの投稿を読むことをお待ちしております。 これまでのトピックの一部を次に示します。</p>


  <ul>
   <li><a href="https://azure.microsoft.com/en-us/blog/azure-stack-iaas-part-one/" target="_blank">コアの Azure Stack は、サービスとしてのインフラストラクチャ (IaaS) プラットフォームです。</a></li>
   <li><a href="https://azure.microsoft.com/en-us/blog/azure-stack-laas-part-two/" target="_blank">既存のものから始める</a></li>
   <li><a href="https://azure.microsoft.com/en-us/blog/azure-stack-iaas-part-3/" target="_blank">IaaS の基礎</a></li>
   <li><a href="https://azure.microsoft.com/en-us/blog/azure-stack-iaas-part-four/" target="_blank">自分の内容を保護する</a></li>
   <li><a href="https://azure.microsoft.com/en-us/blog/azure-stack-iaas-part-five/" target="_blank">自分で実行する</a></li>
   <li><a href="https://azure.microsoft.com/en-us/blog/azure-stack-iaas-part-six/" target="_blank">使用した分の支払い</a></li>
   <li><a href="https://azure.microsoft.com/en-us/blog/azure-stack-iaas-part-seven/" target="_blank">チームを取得する</a></li>
   <li><a href="https://azure.microsoft.com/en-us/blog/azure-stack-iaas-part-seven-2/" target="_blank">頻繁に実行する場合は、自動化します。</a></li>
   <li><a href="https://azure.microsoft.com/en-us/blog/azure-stack-iaas-part-nine/" target="_blank">他のユーザーの成功に応じて構築する</a></li>
  </ul>
