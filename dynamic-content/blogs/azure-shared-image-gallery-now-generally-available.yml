### YamlMime:Yaml
ms.openlocfilehash: 2c8e25188c991096d43e07b1846f372760ab4e2a
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139890532"
Slug: azure-shared-image-gallery-now-generally-available
Title: Azure 共有イメージギャラリーの一般提供開始
Summary: "Microsoft ビルド2019では、azure 共有イメージギャラリーの一般提供が発表されたため、Azure でのカスタム仮想マシン (VM) イメージの管理、共有、および配布が簡単になりました。 \n"
Content: >-
  <p>Microsoft ビルド2019では、 <a href="https://docs.microsoft.com/en-us/azure/virtual-machines/windows/shared-image-galleries" target="_blank">Azure 共有イメージギャラリー</a>の一般提供が発表され、azure でのカスタム仮想マシン (VM) イメージの管理、共有、およびグローバル配布が簡単になりました。</p>


  <p>共有イメージギャラリーは、アプリケーションを組織内の他のユーザーと共有するための簡単な方法を提供します。これには、Azure Active Directory (AD) のテナントやリージョン内、またはその両方を使用できます。 これにより、リージョンの拡張や DevOps プロセスを迅速化し、リージョン間の HA/DR のセットアップを簡素化することができます。</p>


  <p>共有イメージギャラリーでは、大規模な展開もサポートされています。 スケールセット内に最大1000の仮想マシンインスタンスをデプロイできるようになりました。これは、管理対象イメージを含む600からです。</p>


  <p>次に、この機能について説明する必要がある顧客の例を示します。</p>


  <p><em>&ldquo;共有イメージギャラリーを使用すると、1つの Azure DevOps パイプラインからすべての VM イメージを構築し、任意のリージョンの任意のテナントの任意のサブスクリプションでこれらのイメージから IaaS vm をデプロイすることができます。これにより、管理対象のイメージや vhd を複数のサブスクリプションまたはリージョンにわたって管理して配布する手間が軽減されます &rdquo; </em></p>


  <p align="right">&ndash; オランダベースの保険会社である VIVAT のインフラストラクチャエンジニアであるスタンリー、</p>


  <h2>リージョン別の提供状況</h2>


  <p>共有イメージギャラリーでは、ターゲットリージョンとしてのすべての Azure パブリッククラウドリージョンと、一般公開されているすべての Azure パブリッククラウドリージョンがサポートされるようになりました。ただし、南アフリカリージョンをソースリージョンとして使用することはできません。 <a href="https://docs.microsoft.com/en-us/azure/virtual-machines/windows/shared-image-galleries" target="_blank">ソースリージョンとターゲットリージョンの一覧</a>を確認します。<br>

  今後数か月の間、この機能はソブリンクラウドでも利用できるようになります。</p>


  <h2>Quota</h2>


  <p>共有イメージギャラリーリソースでサポートされている既定のクォータは次のとおりです。</p>


  <ul>
   <li>100共有イメージギャラリー (リージョンごとのサブスクリプションあたり)</li>
   <li>1000リージョンごとのサブスクリプションごとのイメージ定義</li>
   <li>1万リージョンあたりのサブスクリプションあたりのイメージバージョン数</li>
  </ul>


  <p>ユーザーは、要件に基づいてより高いクォータを要求できます。 <a href="https://docs.microsoft.com/en-us/azure/networking/check-usage-against-limits" target="_blank">サブスクリプションの使用状況を追跡</a>する方法について説明します。</p>


  <h2>価格</h2>


  <p>共有イメージ ギャラリー サービスを使用するための追加料金はかかりません。 次の場合にのみ、支払いが行われます。</p>


  <ol>
   <li>ソースとターゲットの各リージョンのイメージバージョンとレプリカの Storage 料金</li>
   <li>リージョン間のレプリケーションのネットワーク送信料金</li>
  </ol>


  <h2>作業の開始</h2>


  <ul>
   <li><a href="https://docs.microsoft.com/en-us/azure/virtual-machines/linux/shared-images" target="_blank">CLI</a></li>
   <li><a href="https://docs.microsoft.com/en-us/azure/virtual-machines/windows/shared-images" target="_blank">PowerShell</a></li>
   <li><a href="https://docs.microsoft.com/en-us/azure/virtual-machines/linux/shared-images-portal" target="_blank">Azure Portal</a></li>
   <li><a href="https://docs.microsoft.com/en-us/rest/api/compute/galleries" target="_blank">API</a></li>
   <li><a href="https://azure.microsoft.com/en-us/resources/templates/?term=shared%20image%20gallery" target="_blank">クイック スタート テンプレート</a></li>
   <li><a href="https://github.com/Azure/azure-libraries-for-net" target="_blank">.NET</a></li>
   <li><a href="https://github.com/Azure/azure-libraries-for-java" target="_blank">Java</a></li>
  </ul>


  <p>共有イメージギャラリーでできることを簡単に見てみましょう &rsquo; 。</p>


  <h2>イメージをより適切に管理する</h2>


  <p>機能 &mdash; ギャラリー、イメージ定義、およびイメージバージョン &mdash; の一部として、3つの新しい Azure Resource Manager リソースが導入されました。これは、論理グループ内のイメージを整理するのに役立ちます。 また、アプリケーションを更新または修正するときに、イメージの複数のバージョンをとして発行することもできます。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/f5f4b0f6-95dc-47b6-888c-97945eb9d843.png"><img alt="Hierarchy of resources in Azure Shared Image Gallery." border="0" height="480" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/63e207bd-463e-4adf-ad49-442c3c447e87.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="Azure 共有イメージギャラリーのリソース階層 " width="510"></a></p>


  <h2>サブスクリプションと Azure Active Directory テナント間での画像の共有</h2>


  <p>共有イメージギャラリーに用意されている主な機能の1つは、サブスクリプション間でイメージを共有する方法です。 新しく導入された3つのすべてのコンストラクトはリソースを Azure Resource Manager ため、 <a href="https://docs.microsoft.com/en-us/azure/active-directory/role-based-access-control-what-is" target="_blank">Azure のロールベースのアクセス制御</a>(RBAC) を使用して、ギャラリーまたはイメージの定義を他のユーザーと共有できます。他のユーザーは、サブスクリプション内に vm をデプロイすることができます。これには、Azure Active Directory のテナント間でも同様です。</p>


  <p>テナント間でのイメージの共有が役に立ついくつかの一般的なシナリオを次に示します。</p>


  <ol>
   <li>企業が別の企業を獲得し、突然 Azure インフラストラクチャが Azure AD のテナントに分散されています。</li>
   <li>Azure を使用する複数の子会社を持つ企業は、複数の Azure AD テナントを持つ可能性があります。</li>
  </ol>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/308e20ec-683c-400f-bea9-c2b340266d56.png"><img alt="Virtual machine image sharing across Azure Active Directory tenants" border="0" height="480" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/aade449c-34a5-46c7-a497-51b3b206daf6.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="Azure Active Directory テナント間での仮想マシンイメージの共有" width="604"></a></p>


  <p><a href="https://docs.microsoft.com/en-us/azure/virtual-machines/linux/share-images-across-tenants" target="_blank">テナント間でイメージを共有する方法</a>の詳細については、こちらを参照してください。</p>


  <h2>画像をグローバルに配布する</h2>


  <p>ビジネスはグローバルな規模で行われることを理解しており、組織がプラットフォームによって制限されないようにしたいと &rsquo; 考えています。 共有イメージギャラリーには、組織のニーズに基づいてイメージをグローバルに配布する方法が用意されています。 ターゲットリージョンを指定するだけで、共有イメージギャラリーによって、指定されたリージョンにイメージのバージョンがレプリケートされます。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/58b5f5ff-f591-41d6-bd3a-e4fa8f4ba7cc.png"><img alt="Global replication of virtual machine images" border="0" height="1071" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/74cb21ee-24d2-46eb-820b-37ddff6476b3.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="仮想マシンイメージのグローバルレプリケーション" width="1859"></a></p>


  <h2>デプロイをスケーリングする</h2>


  <p>共有イメージギャラリーを使用すると、VM スケールセット内に最大1000の VM インスタンスをデプロイできるようになりました。これは、管理対象イメージを使用した600から増加します。 また、展開のパフォーマンス、信頼性、および整合性を向上させるために、イメージレプリカの概念も導入しました。 リージョンスケールのニーズに基づいて、各ターゲットリージョンに異なるレプリカ数を設定できます。 各レプリカはイメージの詳細コピーであるため、追加のレプリカと管理対象イメージを使用してデプロイを直線的に拡張できます。</p>


  <p><a href="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/628dda96-f88f-4044-97ef-9299778777e5.png"><img alt="Distribution of virtual machine create calls across replicas" border="0" height="299" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/8f7f9809-2108-4390-9e70-595433420411.png" style="border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;" title="仮想マシンのレプリカ間での呼び出しの作成" width="640"></a></p>


  <p>詳細について <a href="https://docs.microsoft.com/en-us/azure/virtual-machines/linux/shared-image-galleries#scaling" target="_blank">は、レプリカの使用方法</a>に関するページを参照してください。</p>


  <h2>イメージの高可用性化</h2>


  <p>共有イメージギャラリーが一般公開されているので、ゾーン冗長ストレージ (ZRS) アカウントにイメージを保存することを選択できます。これには Availability Zones があります。 また、ターゲットリージョンごとにストレージアカウントの種類を指定することもできます。 <a href="https://docs.microsoft.com/en-us/azure/storage/common/storage-redundancy-zrs" target="_blank">ゾーン冗長ストレージのリージョンの可用性</a>を確認します。</p>
