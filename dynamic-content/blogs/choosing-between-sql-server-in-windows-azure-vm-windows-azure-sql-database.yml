### YamlMime:Yaml
ms.openlocfilehash: f093cc41184964f50048d2de39e8bff3f2268826
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139909288"
Slug: choosing-between-sql-server-in-windows-azure-vm-windows-azure-sql-database
Title: Windows Azure VM & の SQL Server を選択する Windows Azure SQL Database
Summary: >-
  このブログ投稿は最新ではありません。 最新の情報については、 を参照してください。

      Understanding Azure SQL Database and SQL Server in Azure VMs
      Azure SQL Database
      SQL Server in Azure Virtual Machines

  &...
Content: >-
  <strong>このブログ投稿は最新ではありません。最新情報については、以下を参照してください。</strong>

  <ul>
   <li><a href="https://azure.microsoft.com/en-us/documentation/articles/data-management-azure-sql-database-and-sql-server-iaas/">Azure VM の Azure SQL Database と SQL Server について</a></li>
   <li><a href="https://msdn.microsoft.com/en-us/library/azure/ee336279.aspx">Azure SQL Database</a></li>
   <li><a href="https://msdn.microsoft.com/en-us/library/azure/jj823132.aspx">Azure Virtual Machines における SQL Server</a></li>
  </ul>

  &nbsp;


  <strong>エディターのメモ:</strong>この投稿は、SQL Server クラウドインフラストラクチャチームから Madhan arumBowerman と Guy によって共同で作成されました。


  <strong>はじめに</strong>


  Windows azure では、SQL データをホストする場所を選択できます。 VM で両方の SQL Server を実行し (その後は SQL/VM と呼ばれます)、Windows azure SQL database (その後は SQL DB と呼ばれます) を使用します。 SQL/VM と SQL DB は1つのコードベースからのものであり、クラウドデプロイに関しては、各サービスに独自の強みがあります。 この記事では、 <a href="" target="_blank">azure 仮想マシンと SQL Database Windows の SQL Server</a>に関する前述のブログ記事を基に、アプリケーション/サービスに Windows azure で最適な SQL データベースソリューションを選択するための単純なデシジョンツリーを提供します。 Windows Azure SQL DB は、数年間運用環境にある Microsoft のサービスとしてのプラットフォーム (PaaS) です。 Windows Azure 仮想マシンは、統合されたデータベースサーバーインスタンスを備えた Microsoft Infrastructure as a Service (IaaS) オファリングであり、事前に構成された一連のプラットフォームイメージとして使用できます。 SQL Server Azure 仮想マシンの Windows は、現在、パブリックプレビュー段階にあります。


  この投稿は、BI やレポートではなく SQL エンジンに重点を置いています。 今後の投稿では、BI/レポートの選択肢をさらに詳しく見ていきます。


  <strong>SQL のために Azure を選択する理由</strong>


  Windows Azure は、SharePoint や Active Directory などのアプリケーション間など、Microsoft stack 全体にわたる緊密な統合を提供します。また、統合された開発者エクスペリエンスを備えたさまざまなデプロイメントモデル間でのライセンスの統合も提供します。 このレベルの統合は、連携して動作する Microsoft 製品の広範なテストに基づいて構築およびサポートされています。 また、極めて高いレベルの相互運用性も提供します。 Linux Windows を含む複数のオペレーティングシステムをサポートするだけでなく、azure vm は標準の VHD 形式に基づいているため、azure 環境からのインポートとエクスポートが簡単になります。


  このレベルの統合、標準化、および相互運用性により、Azure は SQL Server を実行するための理想的なクラウド環境となり、従来のオンプレミス、プライベートクラウド、パブリッククラウドにわたる Microsoft の資産間でシームレスかつ一貫したエクスペリエンスを提供します。


  SQL/VM と SQL DB の継続的なイノベーションにより、既存のアプリケーション/サービスを管理するための tco を削減し、クラウドアプリケーション/サービスの新しい世代に対して効率的なプラットフォームを実現できます。 さらに、同じホステッドサービスに既存のアプリケーションと新しいアプリケーションを混在させたり、ハイブリッドモデルのオンプレミスのアプリケーションやネットワークと統合したりすることにより、柔軟性が大幅に向上します。


  <strong>適切データベースソリューションの選択</strong>


  オンプレミスの物理マシン、プライベートクラウド環境、<sup>サードパーティの</sup>ホストされたプライベートクラウド環境、およびパブリッククラウドを通じて利用可能な Microsoft データベース製品の範囲により、SQL Server オファリングがクラウド内の、よっのない柔軟でオープンなデータプラットフォームに提供されます。


  <img style="display: block; margin-left: auto; margin-right: auto;" alt="" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/3157.sql-databsae.png" width="550" />


  各オファリングは、インフラストラクチャに対する制御レベルと、データベースレベルの統合と自動化によって実現されるコスト効率によって特徴付けられます。 これらのオファリングには、互換性などの特性を持たせる他のディメンションがあります。これについては、以下のデシジョンツリーで詳しく説明します。


  この投稿では、SQL/VM と SQL DB の違いに焦点を当て、必要なレベルのコスト効率と制御に適したデータベースサービスを選択するためのパスを提供します。


  <strong>デシジョンツリー</strong>


  このデシジョンツリーでは、次の主要なアプリケーション/サービス固有の決定ポイントを調べます。

  <ol>
   <li><strong>新規または既存のアプリケーション/サービス:</strong> 既存のアプリケーション ("リフトアンドシフト") を移行するには、通常、必要のない新しいアプリケーションよりも、オンプレミスのアプリケーションの動作をエミュレートする必要があります。</li>
   <li><strong>アプリケーション/サービスの要件:</strong>この決定ポイントは、VM で SQL Server を必要とする可能性のある互換性、ネットワーク、またはセキュリティの要件を確認します。 詳細については<a href="" target="_blank">Windows 「Azure 仮想マシンと SQL Database の SQL Server</a> 」を参照してください。 SQL DB と SQL/VM の機能の互換性の違いの完全な一覧については、MSDN の記事「<a href="https://msdn.microsoft.com/en-us/library/ff394102.aspx" target="_blank">ガイドラインと制限事項」を参照してください WindowsAzure SQL Database)</a>。</li>
   <li><strong>データベースサイズ</strong>: <a href="https://msdn.microsoft.com/en-us/library/ee336245.aspx#dcasl" target="_blank">SQL Database エディションによってサイズが制限</a>されており、1つの Azure SQL DB の現在の最大サイズは 150 GB です。 SQL/VM の場合、現在の最大 VM サイズは ExtraLarge (8 CPU コア、14 GB RAM、最大 16 TB のディスク領域) です。 VM サイズの詳細については、MSDN の記事「 <a href="https://msdn.microsoft.com/en-us/library/ee814754.aspx" target="_blank">仮想マシンのサイズの構成方法</a> 」を参照してください。</li>
   <li><strong>スケールの経済に対する意思決定 (再設計/パーティション分割)</strong>: この決定ポイントは、Windows Azure SQL Database のフェデレーションなどの SQL DB スケールアウトテクノロジを使用して満たすことのできる弾力性とスケールアウトの要件を確認します。 通常、SQL DB によって提供されるスケールと弾力性の機能のメリットを最大限に活用するには、再アーキテクチャが必要になります (SQL DB でのスケールアウトの設計上の考慮事項に関するページを参照してください)。</li>
  </ol>

  <div><img style="display: block; margin-left: auto; margin-right: auto;" alt="" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/5270.decision-tree.png" width="550" /></div>

  <div><strong>その他の考慮事項</strong></div>

  これらの高レベルの意思決定ポイントを超えると、データベースソリューションの選択に影響する可能性のある、低いレベルの設計条件とサイズの予測が得られる場合があります。たとえば、新しいアプリケーションには SQL DB では使用できない特定の機能要件がある場合があります。 このデシジョンツリーの目的は、アプリケーションのニーズを迅速に評価するための使いやすいフレームワークを提供することです。


  重要な考慮事項は、IaaS および PaaS データベースソリューションによって提供される SLA です。 たとえば、IaaS の Windows Azure には、すべての VM ストレージを対象とする SLA があります。 Windows azure vm が一般公開されると、可用性セット内の2つ以上のインスタンスに対して、Windows azure vm レベルの SLA が99.95% の可用性となります。 SQL DB では、データベースレベルの可用性 SLA があります。 詳細については、「」を <a href="https://azure.microsoft.com/en-us/support/legal/sla/" target="_blank">https://azure.microsoft.com/en-us/support/legal/sla/</a> 参照してください。 SLA でカバーされていないすべての操作は、お客様の責任になります。


  アプリケーション/サービスは、IaaS または PaaS 間でのみ選択する必要はありません。 PaaS と IaaS サービスの両方を含む混合モードのアプリケーションパターン (たとえば、SQL DB と Azure での SQL/VM) は、アプリケーションを開発およびデプロイして、アプリケーションが、オンプレミスから移行された BI やアプリケーションなどの互換性と制御を必要とする vm でのコンポーネントの実行を可能にし、DBA とデータベース SQL のコストを最小限に抑えるために


  <strong>まとめ</strong>


  Windows azure SQL DB と Windows azure virtual machines で実行されている SQL Server はどちらも、データベースアプリケーションの個別のニーズを満たすための有効な方法です。


  [概要] で、[SQL/VM if] を選択します。

  <ul>
   <li>オンプレミス SQL Server との完全な互換性が必要です。</li>
   <li>既存のアプリケーションに最小限の変更を加える場合。</li>
   <li>インフラストラクチャレベルの分離が必要です。</li>
   <li>アプリケーション/サービスは、"計画的なデータベーススケール" (スケールアップ) 向けに設計されています。</li>
  </ul>

  次の場合は SQL DB を選択します。

  <ul>
   <li>新しいクラウドベースのアプリケーションを構築しています。</li>
   <li>データベース管理のコストを削減し、アプリケーション層に専念する必要がある。</li>
   <li>データベースレベルの分離が必要です。</li>
   <li>アプリ/サービスは、"計画外 &amp; の無制限のデータベーススケール" (scale out による弾力性) 向けに設計されています。</li>
  </ul>

  <div><strong>参照</strong></div>

  <div>


  Azure 仮想マシンと SQL Database Windows の SQL Server に関する Gregory のブログ記事をご覧ください。<a href="" target="_blank"></a>


  <a href="https://msdn.microsoft.com/en-us/library/ff394102.aspx" target="_blank">ガイドラインと制限事項 (Windows Azure SQL データベース)</a>


  hyper-v 以外の仮想化された環境をカバーする仮想化サポートステートメント SQL Server:<a href="https://support.microsoft.com/kb/956893" target="_blank">https://support.microsoft.com/kb/956893</a>


  </div>
