### YamlMime:Yaml
ms.openlocfilehash: f3948cf757211e93b003527f0fb1cd249a729c1f
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139904968"
Slug: azure-stream-analytics-now-supports-match-recognize
Title: Azure Stream Analytics は MATCH_RECOGNIZE をサポートするようになりました
Summary: Azure Stream Analytics の MATCH_RECOGNIZE を使用すると、アラートやさらにデータを計算するための一連のイベントに一致するクエリの作成、変更、および管理に関連する複雑さとコストを大幅に削減できます。
Content: >-
  <p>Azure Stream Analytics の MATCH_RECOGNIZE を使用すると、アラートやさらにデータを計算するための一連のイベントに一致するクエリの作成、変更、および管理に関連する複雑さとコストを大幅に削減できます。</p>


  <h2>Azure Stream Analytics とは</h2>


  <p>Azure Stream Analytics は、Azure 上で完全に管理されたサーバーレス PaaS サービスであり、お客様はデータの高速移動ストリームを分析および処理し、ミッションクリティカルなシナリオに対してリアルタイムの洞察を提供できます。 開発者は、簡単な SQL 言語を使用して、カスタムコードを含めることができます。強力な分析処理ロジックを作成してデプロイすることで、スケールアップとスケールアウトによって、ミリ秒の待機時間で洞察を得ることができます。</p>


  <h2>ストリーム処理でパターンマッチングを組み込む従来の方法</h2>


  <p>多くのお客様は Azure Stream Analytics を使用して、大量のデータを継続的に監視し、イベントのシーケンスを検出し、アラートを生成したり、それらのイベントからデータを集計したりします。 これは基本的に、パターンマッチングです。</p>


  <p>パターンマッチングでは、従来は複数の結合に依存しており、それぞれが特定の1つのイベントを検出していました。 これらの結合は、一連のイベント、計算結果、またはアラートを作成するために組み合わされます。 パターンマッチングのためのクエリの開発は複雑なプロセスであり、エラーが発生しやすく、保守とデバッグが困難です。 また、Kleene スター、Kleene Plus、またはワイルドカードなど、より複雑なパターンを表現する場合も制限があります。</p>


  <p>これらの問題に対処し、カスタマーエクスペリエンスを向上させるために、Azure Stream Analytics には、一致するイベントのパターンと計算値を定義するための MATCH_RECOGNIZE 句が用意されています。 MATCH_RECOGNIZE 句を利用すると、読み取り、書き込み、保守が簡単になるため、ユーザーの生産性が向上します。</p>


  <h2>MATCH_RECOGNIZE の一般的なシナリオ</h2>


  <p>イベント照合は、データストリーム処理の重要な側面です。 データストリーム内のパターンを表現して検索する機能により、ユーザーは、特定のイベントシーケンスが検出されたときにアラートまたは計算値をトリガーできる、シンプルで強力なアルゴリズムを作成できます。</p>


  <p>シナリオ例としては、複数の cookers を持つ食品準備施設があり、それぞれに独自の温度モニターがあります。 気温が5分以内に倍増する場合は、特定の cooker のシャットダウン操作を生成する必要があります。 この場合、気温が急速に増加し、食べ物に書き込んだり、火災の危険を引き起こしたりする可能性があるため、cooker をシャットダウンする必要があります。</p>


  <pre>

  Query

  SELECT * INTO ShutDown from Temperature

  MATCH_RECOGNIZE (
       LIMIT DURATION (minute, 5)
       PARTITION BY cookerId
       AFTER MATCH SKIP TO NEXT ROW
       MEASURES
           1 AS shouldShutDown
       PATTERN (temperature1 temperature2)
       DEFINE
           temperature1 AS temperature1.temp &gt; 0,
           temperature2 AS temperature2.temp &gt; 2 * MAX(temperature1.temp)
  ) AS T</pre>


  <p>上の例では、MATCH_RECOGNIZE は、5分の制限期間、一致が見つかったときに出力するメジャー、一致するパターン、および各パターン変数を定義する方法を定義しています。 一致が見つかると、 <strong>メジャー</strong> の値を含むイベントが <strong>シャットダウン</strong>に出力されます。 この一致は、 <strong>cookerId</strong> によってすべての cookers に対してパーティション分割され、相互に独立して評価されます。</p>


  <p>MATCH_RECOGNIZE を使用すると、パターンマッチングを簡単に表現でき、パターンマッチングクエリの記述と維持にかかる時間が短縮され、以前に記述またはデバッグすることのできない、より高度なシナリオを実現できます。</p>


  <h2>Azure Stream Analytics の概要</h2>


  <p>Azure Stream Analytics を使用すると、IoT デバイス、アプリケーション、clickstreams、およびその他のデータストリームからのデータの高速移動ストリームをリアルタイムで処理できます。 作業を開始するには、 <a href="https://docs.microsoft.com/en-us/azure/stream-analytics/">Azure Stream Analytics のドキュメント</a>を参照してください。</p>
