### YamlMime:Yaml
ms.openlocfilehash: bd1c969419855f004e8bc331c405329b97122c63
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139892918"
Slug: managing-ssh-enabled-linux-hosts-with-azure-automation
Title: Azure Automation を使用した SSH-Enabled Linux ホストの管理
Summary: 私たちのチームは、Windows ホストだけでなく linux ホストも管理するために Azure Automation を使用して、ワークロードを統合することに関心をお持ちのお客様による linux サポートについてよく寄せられます。 本日、この機能をサポートするための最初の手順をお知らせします。
Content: "<p>[更新: この機能は削除されました。 戻ってきたように&#39;した場合は、お客様にとって重要 <a href=\"https://feedback.azure.com/forums/246290-azure-automation/suggestions/9776280-make-ssh-calls-from-runbooks\" target=\"_blank\">である&#39;ことを </a>お知らせください。 Automation で SSH を自分で設定するには、<a href=\"https://channel9.msdn.com/Shows/Azure-Friday/Azure-Automation-104-managing-Linux-and-creating-Modules-with-Joe-Levy\" target=\"_blank\">このプレゼンテーション</a>で &nbsp; 説明されている<a href=\"https://gallery.technet.microsoft.com/scriptcenter/SSH-PowerShell-Module-17616e1a\" target=\"_blank\">このモジュール</a> <a href=\"https://gallery.technet.microsoft.com/scriptcenter/SSH-PowerShell-Module-17616e1a\">&nbsp;</a> を使用してください。]</p>\n\n<p>私たちのチームは、Windows ホストだけでなく linux ホストも管理するために Azure Automation を使用して、ワークロードを統合することに関心をお持ちのお客様による linux サポートについてよく寄せられます。 本日、この機能をサポートするための最初の手順をお知らせします。 &rsquo;最近 Azure Automation を使用したことがある場合は、Automation アカウント &ndash; <code>Orchestrator.SshClient.Cmdlets</code> のモジュールに新しいモジュールが表示されている可能性があります。 これは最新 &ldquo; のグローバルモジュール &rdquo; です。つまり、チームによってすべてのユーザーにロールアウトされています。 現在、1つのコマンドレット <code>Invoke-AutomationSshCommand</code> が含まれています。これは、推測に &ndash; 使用できます。 &ndash; アクセス可能な SSH ポートを持つ任意のホストでコマンドを呼び出します。 このコマンドレットを使用する簡単な例を次に示しますが、Linux ホストで使用することに慣れているコマンドを実行するために使用することもできます。 また、 &rsquo; モジュールとコマンドレットは、現在、お客様が役に立つと思われる最小限の機能を実装していることに注意してください。 機能の追加を続けて<strong>いる間に、この<a href=\"https://microsoft.qualtrics.com/jfe/form/SV_en5jS3xwHEBRKWF\" target=\"_blank\">アンケート</a>に記入することで重要なその他の機能</strong>についてご意見をお寄せください。</p>\n\n<h2>例</h2>\n\n<p><code>Invoke-AutomationSshCommand</code>コマンドレットは、PowerShell core &rsquo; s <code>Invoke-Command</code> コマンドレットとほぼ同じように機能します。 パラメーターを使用してホストを識別し、 <code>Credential</code> そのホストに対する認証に使用される PowerShell 資格情報オブジェクトを受け取るパラメーターと <code>Command</code> 、そのホストで実行されるスクリプトブロックを受け取るパラメーターを受け取り <code>ComputerName</code> ます。 SSH の標準22以外のポート番号を使用している場合は、必要に応じてパラメーターを指定 <code>Port</code> することもできます。 コマンドレットの例を次 &rsquo; に示します。 これは、Linux ホスト上のテキストをエコーし、その結果を返す runbook です。</p>\n\n<pre class=\"prettyprint\">\nworkflow Say-Hello\n{ \n    #a linux host name\n    $host = Get-AutomationVariable -Name linux-host-dns-name\n    #admin credentials to the host\n    $cred = Get-AutomationPSCredential -Name linux-host-admin\n    $result = Invoke-AutomationSshCommand -ComputerName $host -Credential $cred -Command {\n        echo &#39;Hello there!&#39;;\n        }\n    Write-Output $result\n}\n</pre>\n\n<p><code>Invoke-AutomationSshCommand</code> は、指定されたスクリプトブロックの実行が完了するまでブロックします。 この場合、ホスト上のエラーストリームに書き込まれたものも、runbook &rsquo; s エラーストリームに書き込まれます。 標準出力は文字列として返されます。 そのため、上記の runbook &ldquo; の出力はこんにちは &rdquo; 。</p>\n\n<h2>まとめ</h2>\n\n<p>これで終わりです。 ここでは、Azure Automation を使用して SSH 経由で Linux ホストでコマンドを実行する方法について説明しました。 この機能についてご関心があり、今後の投資にも影響を与える場合は、 <a href=\"https://microsoft.qualtrics.com/jfe/form/SV_en5jS3xwHEBRKWF\" target=\"_blank\">アンケート</a> にご記入ください。 Azure Automation を使用するための便利な方法については、「 &nbsp; <a href=\"https://azure.microsoft.com/blog/topics/it-pro-devops/\">Azure IT Pro/DevOps」カテゴリ</a>にある他の投稿 &nbsp; をご覧ください。 自動化をお楽しみください。 Azure Automation を使い始めたばかりですか? <a href=\"https://aka.ms/Q2p1ap\" target=\"_blank\">ここで</a>サービスについて説明し、 <a href=\"https://twitter.com/AzureAutomation\" target=\"_blank\">Twitter</a>の Azure Automation に従います。</p>"
