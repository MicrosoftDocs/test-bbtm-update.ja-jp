### YamlMime:Yaml
ms.openlocfilehash: 73e31e9a86b6f2ea84b7f4a0f622e38283a24c91
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139892319"
Slug: sql-azure-and-session-tracing-id
Title: SQL Azure とセッショントレース ID
Summary: '[この記事は SQL Azure チームによって提供されました。]注意を払っている場合は、SQL Server Management Studio 2008 R2 が接続用の新しいプロパティを追加しました。'
Content: '<p>[この記事は SQL Azure チームによって提供されました。]</p><p>注意を払っている場合は、SQL Server Management Studio 2008 R2 が SQL Azure に接続するための新しいプロパティを追加したことに注意してください。セッショントレース ID。</p>  <p>セッショントレース識別子は、SQL Azure へのすべての接続に対して生成される一意の GUID です。 サーバー側では、SQL Azure チームは、セッショントレース Id およびその接続から発生したすべてのエラーによって、すべての接続を追跡してログに記録します。 つまり、セッション識別子がわかっていて、エラーが発生した場合、Azure Developer サポートでは、その原因を特定するためにエラーを調べることができます。</p>  <h2>SQL Server Management Studio</h2>  <p>SQL Server Management Studio では、接続の [プロパティ] ウィンドウでセッショントレース識別子を取得できます。</p>  <p><a href=""><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="clip_image002 [4]" border="0" alt="clip_image002[4]" src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/8664.clip_5F00_image0024_5F00_thumb_5F00_7B2DD659.jpg" width="509" height="517"></a></p>  <h2>Transact-SQL</h2>  <p>また、次のクエリを使用して、セッショントレース ID を直接 SQL transact-sql で要求することもできます。</p>  <pre class="csharpcode"><span class="kwrd">SELECT</span> <span class="kwrd">CONVERT</span>(NVARCHAR(36), CONTEXT_INFO())</pre>      <h2>C#</h2>    <p>または、次の C# コードを使用することもできます。</p>    <pre class="csharpcode"><span class="kwrd">using</span> (SqlConnection conn = <span class="kwrd">new</span> SqlConnection(…))  {      <span class="rem">// Grab sessionId from new connection</span>      <span class="kwrd">using</span> (SqlCommand cmd = conn.CreateCommand())      {          conn.Open();           cmd.CommandText = <span class="str">&quot;SELECT CONVERT(NVARCHAR(36), CONTEXT_INFO())&quot;</span>;          sessionId = <span class="kwrd">new</span> Guid(cmd.ExecuteScalar().ToString());      }  }</pre>      <p>セッショントレース ID はサーバーへの接続ごとに、クライアント側では ADO.NET プール接続であることに注意する必要があります。 つまり、 <b>SqlConnection</b> の一部のインスタンスは同じセッショントレース Id を持つことになります。これは、それらが表す接続が接続プールからリサイクルされるためです。</p>    <h2>まとめ</h2>    <p>セッションのトレース ID と、Azure Developer サポートを呼び出すときのおおよその時間がある場合は、デバッグプロセスを迅速に実行して、貴重な時間を節約することができます。 質問、懸念事項、コメントがありますか。 これらを下に投稿してください。</p>'
