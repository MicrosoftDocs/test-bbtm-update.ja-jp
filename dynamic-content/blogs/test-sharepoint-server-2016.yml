### YamlMime:Yaml
ms.openlocfilehash: 4a2855a019c7ce32a3091cdb887fa3c84104aba7
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139909518"
Slug: test-sharepoint-server-2016
Title: Azure SharePoint Server 2016 のテスト
Summary: Azure 仮想マシン ギャラリー イメージは、SharePoint Server 2016 に使用します。
Content: >-
  <p>Microsoft は最近、Server 2016 SharePoint&nbsp;の一般提供を発表しました。 この新しいバージョンの SharePoint を簡単にインストールしてテストするために、SharePoint 製品チームは、SharePoint Server 2016 とその前提条件が事前にインストールされた新しい Microsoft Azure 仮想マシン ギャラリー イメージを作成しました。</p>


  <p>これは、Azure インフラストラクチャ サービスの最適な使用です。仮想マシンを迅速かつ簡単にスピンアップし、Microsoft または他のベンダーによって提供される主要なサーバー製品の新しいバージョンを評価してテストします。</p>


  <p>イメージには、SharePoint Server 2016 の試用版の完全なインストールが含まれている。 A5 (ExtraLarge)、A6、または A7 仮想マシンのサイズを使用することをお勧めします。 Service Pack 1 または SQL Server 2016 CTP 2.2 以降で SQL Server 2014 を実行している別の仮想マシンも必要です。</p>


  <p>仮想マシンを作成したら、次の手順に従って、SharePoint 2016 製品構成ウィザードを使用してその役割を構成スタート画面。 追加の構成と管理を行う場合は、SharePoint 2016 サーバーの全体管理と SharePoint 2016 管理シェルを使用します。スタート画面。</p>


  <p>TechNet SharePoint公開されている現在のドキュメント セットについては、「SharePoint <a href="https://technet.microsoft.com/library/cc303422(v=office.16).aspx">Server 2016</a>」を参照してください。</p>


  <h2>デプロイ Resource Managerモデル</h2>


  <p>PowerShell または Azure コマンド ライン インターフェイス (CLI) を使用して、SharePoint Server 2016 Trialimage&nbsp; を使用して、Resource Manager ベースの仮想マシンを作成できます。 仮想マシンのイメージを指定Resource Manager、イメージの発行元、オファー、SKU を識別する必要があります。 次に、SharePoint Server 2016Trial&nbsp; イメージの値を示します。</p>


  <ul>
   <li>Publisher: MicrosoftSharePoint</li>
   <li>オファー: MicrosoftSharePointServer</li>
   <li>SKU: 2016</li>
  </ul>


  <p>このイメージを使用して&nbsp;新しい Resource Manager ベースの仮想マシンをAzure PowerShell 1.0&nbsp; の場合の setcommand&nbsp; の例を次に示します。</p>


  <h4>コマンド Azure PowerShellの例</h4>


  <p>Server 2016 で実行されているSharePointが必要です。</p>


  <ul>
   <li>SP2016Test という名前です。</li>
   <li>AZDatacenter 仮想ネットワークの FrontEnd サブネット (サブネット インデックス 0) 内にいます。</li>
   <li>既存の SPFarm リソース グループと、既存の可用性SP_WFE_ASに含みます。</li>
  </ul>


  <p>この仮想マシンを作成するための対応する Azure PowerShell コマンド セットは次のとおりです。</p>


  <pre class="prettyprint">

  # Set values for existing resource group and storage account names

  $rgName=&quot;SPFarm&quot;

  $locName=&quot;West US&quot;

  $saName=&quot;contosospfarmserverssa&quot;


  # Set the existing virtual network and subnet index

  $vnetName=&quot;AZDatacenter&quot;

  $subnetIndex=0

  $vnet=Get-AzureRMVirtualNetwork -Name $vnetName -ResourceGroupName $rgName


  # Create the NIC

  $nicName=&quot;SP2016Test-NIC&quot;

  $dnsName=&quot;contoso-vm-sp2016test&quot;

  $pip=New-AzureRMPublicIpAddress -Name $nicName -ResourceGroupName $rgName -DomainNameLabel $dnsName -Location $locName -AllocationMethod Dynamic

  $nic=New-AzureRMNetworkInterface -Name $nicName -ResourceGroupName $rgName -Location $locName -SubnetId $vnet.Subnets[$subnetIndex].Id -PublicIpAddressId $pip.Id


  # Specify the name, size, and existing availability set

  $vmName=&quot;SP2016Test&quot;

  $vmSize=&quot;Standard_A6&quot;

  $avName=&quot;SP_WFE_AS&quot;

  $avSet=Get-AzureRMAvailabilitySet &ndash;Name $avName &ndash;ResourceGroupName $rgName

  $vm=New-AzureRMVMConfig -VMName $vmName -VMSize $vmSize -AvailabilitySetId $avset.Id


  # Specify the image and local administrator account, and then add the NIC

  $pubName=&quot;MicrosoftSharePoint&quot;

  $offerName=&quot;MicrosoftSharePointServer&quot;

  $skuName=&quot;2016&quot;

  $cred=Get-Credential -Message &quot;Type the name and password of the local administrator account.&quot;

  $vm=Set-AzureRMVMOperatingSystem -VM $vm -Windows -ComputerName $vmName -Credential $cred -ProvisionVMAgent -EnableAutoUpdate

  $vm=Set-AzureRMVMSourceImage -VM $vm -PublisherName $pubName -Offer $offerName -Skus $skuName -Version &quot;latest&quot;

  $vm=Add-AzureRMVMNetworkInterface -VM $vm -Id $nic.Id


  # Specify the OS disk name and create the VM

  $diskName=&quot;OSDisk&quot;

  $storageAcc=Get-AzureRMStorageAccount -ResourceGroupName $rgName -Name $saName

  $osDiskUri=$storageAcc.PrimaryEndpoints.Blob.ToString() + &quot;vhds/&quot; + $vmName + $diskName  + &quot;.vhd&quot;

  $vm=Set-AzureRMVMOSDisk -VM $vm -Name $diskName -VhdUri $osDiskUri -CreateOption fromImage

  New-AzureRMVM -ResourceGroupName $rgName -Location $locName -VM $vm

  </pre>


  <p>追加のデータ ディスクや静的 IP アドレスなど、追加の構成を含む独自の Azure PowerShell コマンド セットを構築するには、「Resource Manager と Azure PowerShell を使用して <a href="https://azure.microsoft.com/en-us/documentation/articles/virtual-machines-ps-create-preconfigure-windows-resource-manager-vms/">Windows 仮想</a>マシンを作成して事前構成する」を参照してください。</p>


  <p>azure コマンド ライン インターフェイス (CLI) を使用して SharePoint Server 2016Trial&nbsp; イメージを使用して Resource Manager 仮想マシンを作成するには、「TASK<a href="https://azure.microsoft.com/en-us/documentation/articles/virtual-machines-deploy-rmtemplates-azure-cli/#quick-create-a-vm-in-azure">: Quick-create a VM in Azure</a>」を参照してください。</p>


  <p>SharePoint ファームが稼働したら、SharePoint Web サイトまたはサーバーの全体管理へのインターネット アクセスを許可するには、SharePoint サーバー仮想マシンのロード バランサーと受信 NAT 規則を構成する必要があります。 詳細については、「概要を使用してインターネットに接続するロード バランサーを構成する」 <a href="https://azure.microsoft.com/en-us/documentation/articles/load-balancer-arm-powershell/">をAzure Resource Manager</a>。</p>


  <h2>クラシック デプロイ モデル</h2>


  <p>クラシック Azure 仮想マシンの場合は、[ギャラリーから新しいコンピューティング仮想マシン] をクリックして、Azure <b>&gt; &gt; &gt;</b>クラシック ポータルで SharePoint Server 2016Trial&nbsp; イメージを指定できます。 左側のツリーで、[インストール] を<b>クリックSharePoint</b> Server <b>2016 試用版SharePointをクリックします</b>。 右矢印ボタンをクリックして、新しい仮想マシンの構成を続行します。</p>


  <p>SharePoint Server 2016Trial&nbsp; イメージを使用して、Azure PowerShell または Azure CLI を使用してクラシック仮想マシンを作成することもできます。</p>


  <p>このAzure PowerShell、<b>New-AzureVMConfig</b> コマンドレットに必要な SharePoint Server 2016Trial&nbsp; イメージの名前を指定する必要があります。 最新のイメージの名前を取得し、それを $image変数に格納するには、次のコマンドを使用します。</p>


  <pre class="prettyprint">

  $family=&quot;SharePoint Server 2016 Trial&quot;

  $image=Get-AzureVMImage | where { $_.ImageFamily -eq $family } | sort PublishedDate -Descending | select -ExpandProperty ImageName -First 1

  </pre>


  <p>このイメージを使用して&nbsp;&nbsp;新しいクラシック仮想マシンAzure PowerShell 1.0&nbsp; 以降に対して設定された例を次に示します。</p>


  <h4>コマンド Azure PowerShellの例</h4>


  <p>Server 2016 で実行されているSharePointが必要です。</p>


  <ul>
   <li>SP2016Test という名前です。</li>
   <li>corp.contoso.com ドメインのメンバーである。</li>
   <li>AZDatacenter 仮想ネットワークの FrontEnd サブネットに属している。</li>
   <li>既存のクラウド サービスAzure-TailspinToysにあります。</li>
  </ul>


  <p>この仮想マシンを作成するための対応する Azure PowerShell コマンド セットは次のとおりです。</p>


  <pre class="prettyprint">

  $family=&quot;SharePoint Server 2016 Trial&quot;

  $image=Get-AzureVMImage | where { $_.ImageFamily -eq $family } | sort PublishedDate -Descending | select -ExpandProperty ImageName -First 1

  $vmname=&quot;SP2016Test&quot;

  $vmsize=&quot;ExtraLarge&quot;

  $vm1=New-AzureVMConfig -Name $vmname -InstanceSize $vmsize -ImageName $image


  $cred1=Get-Credential &ndash;Message &quot;Type the name and password of the local administrator account.&quot;

  $cred2=Get-Credential &ndash;Message &quot;Now type the name (not including the domain) and password of an account that has permission to add the machine to the domain.&quot;

  $domaindns=&quot;corp.contoso.com&quot;

  $domacctdomain=&quot;CORP&quot;

  $vm1 | Add-AzureProvisioningConfig -AdminUsername $cred1.GetNetworkCredential().Username -Password $cred1.GetNetworkCredential().Password -WindowsDomain -Domain $domacctdomain -DomainUserName $cred2.GetNetworkCredential().Username -DomainPassword $cred2.GetNetworkCredential().Password -JoinDomain $domaindns


  $vm1 | Set-AzureSubnet -SubnetNames &quot;FrontEnd&quot;


  $svcname=&quot;Azure-TailspinToys&quot;

  $vnetname=&quot;AZDatacenter&quot;

  New-AzureVM &ndash;ServiceName $svcname -VMs $vm1 -VNetName $vnetname

  </pre>


  <p>追加のデータ ディスクや静的 IP アドレスなど、追加の構成を含む独自の Azure PowerShell コマンド セットを構築するには、「Azure PowerShell を使用して、Windows ベースの構成を作成および事前構成する」を参照<a href="https://azure.microsoft.com/documentation/articles/virtual-machines-ps-create-preconfigure-windows-vms/">Virtual Machines</a>。</p>


  <p>Azure CLI で SharePoint Server 2016Trial&nbsp; イメージを使用してクラシック仮想マシンを作成するには、「Azure 仮想マシンを管理するためのコマンド」を<a href="https://azure.microsoft.com/en-us/documentation/articles/virtual-machines-command-line-tools/#commands-to-manage-your-azure-virtual-machines">参照してください</a>。</p>


  <p>SharePoint ファームが稼働したら、SharePoint Web サイトまたはサーバーの全体管理へのインターネット アクセスを許可するには、SharePoint サーバー仮想マシンのエンドポイントを構成する必要があります。 詳細については、「<a href="https://azure.microsoft.com/documentation/articles/virtual-machines-set-up-endpoints/">Azure での仮想マシンに対するエンドポイントの設定</a>」をご覧ください。</p>


  <h2>2016 SharePoint/テスト ファームを作成する</h2>


  <p>単<a href="https://technet.microsoft.com/library/mt723354(v=office.16).aspx">一サーバー </a>SharePoint 2016 開発/テスト環境を構築する手順については、この記事を参照してください。ドメイン コントローラーと SQL サーバーを使用して完了します。</p>


  <p>&nbsp;</p>


  <p><img src="https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/9e3446b6-caae-4997-87d7-208dbb26f1b5.png"></p>


  <p>太字にします。 先に進む。 この仮想マシン イメージを使用して、新しい世代の仮想マシン をSharePoint。</p>
