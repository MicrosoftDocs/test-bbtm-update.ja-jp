### YamlMime:Yaml
ms.openlocfilehash: 5a5adae719109992f43fd01798fb1ce3d4418069
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139889922"
Slug: azure-sql-databases-disaster-recovery-101
Title: Azure SQL データベースのディザスターリカバリー101
Summary: Azure DB には1つだけでなく、Geo リストアと Geo レプリケーションという2つの異なるソリューションがあります。
Content: >-
  <h2>なぜ注意すべきでしょうか。</h2>


  <p>Azure SQL は、PaaS サービスとして、すべてのデータベースの自動バックアップを提供します。 これにより、ユーザーはシステムエラーまたは人的エラーからデータを回復し、保有期間中の任意の時点にデータベースを復元できます。 しかし、一部の極端なケースでは、データが常に利用可能であることを保証して &rsquo; います。 異星人 invaded はデータセンターの1つであり、すべてを破棄しています。また、現実的には、極端な気象があるほど、停電が発生します。 Imagine ハリケーン Irma または Marina の内容を確認します。 よくあることです。</p>


  <p>幸い、Azure DB はこのように準備されています。 このような災害のデータを回復するには、Geo リストアと Geo レプリケーションという2つの異なるソリューションを提供します。</p>


  <p>次の5分間で次のことを学習します。</p>


  <ul>
      <li>これらの機能にはどのような機能がありますか。</li>
      <li>これらの2つの違いは何ですか。</li>
      <li>これらの2つのうちのいずれかを選択操作方法ますか?</li>
  </ul>


  <p>これらの質問に対する回答が既にある場合、または Azure DB のビジネス継続性とディザスターリカバリーの詳細については、 <a href="https://docs.microsoft.com/en-us/azure/sql-database/sql-database-business-continuity">オンラインドキュメント</a>を参照してください。</p>


  <h2>これらの機能にはどのような機能がありますか。</h2>


  <p>Geo リストアを使用すると、バックアップとは別のリージョンにデータベースを復旧できます。 すべての Azure データベースの自動バックアップは、バックグラウンドでセカンダリリージョンにレプリケートされます。 Geo リストアでは、セカンダリリージョンに格納されているバックアップファイルのコピーからデータベースが常に復元されます。</p>


  <p>Geo レプリケーションでは、1つまたは複数のセカンダリリージョン (最大4つのセカンダリレプリカ) にデータベースの連続コピーが作成されます。 災害が発生した場合は、セカンダリリージョンのいずれかにフェールオーバーして、データベースをオンラインに戻すことができます。 また、データベースを自動的に復旧するように <a href="https://docs.microsoft.com/en-us/azure/sql-database/sql-database-geo-replication-overview">フェールオーバーグループ</a> を構成することもできます。</p>


  <h2>これらの2つの違いは何ですか。</h2>


  <p><strong>データ損失</strong>、<strong>復旧時間</strong>、<strong>コスト</strong>という3つの大きな違いがあります。</p>


  <ul>
      <li><strong>データ損失</strong> &ndash; バックアップファイルは、実現プロセスのセカンダリリージョンにレプリケートされます。 つまり、障害が発生する前に、最新のバックアップをコピーする機会が得られない可能性があります。 Azure DB では、geo リストア (回復ポイントの目標、 &rsquo; SLA はありません) の RPO は1時間です。 同時に、geo レプリケーションでは5秒の RPO が提供されます。</li>
      <li><strong>復旧時間</strong> &ndash; Geo リストアでは、基本的に、バックアップファイルからデータベースが復元されます。 復旧時間は、データベースのサイズ、データベースが復元されているサービス階層、バックアップファイルの場所、回復しようとしているデータベースの数、データベース &hellip; を回復しようとしているユーザーの数 (推定復旧時間) は12時間という複数の要因によって影響を受ける可能性があります。 ただし、場合によっては、特に大規模なデータベースの場合は、それよりも長く実行される可能性があります。 Geo レプリケーションが構成されている場合、フェールオーバーの所要時間は通常30秒未満になります。</li>
      <li><strong>コスト</strong> &ndash; Geo レプリケーションがすべて良好な場合、使用しないのはなぜですか。 $$$$! Geo レプリケーションを構成すると、基本的にデータベースのコピーが複数作成されました。 構成したレプリカの数に応じて、1つの、2つ以上のデータベースに対して料金が支払いされることはありません。 追加料金なしで Geo リストアを使用できます。</li>
  </ul>


  <h2>これらの2つのうちのいずれかを選択操作方法ますか?</h2>


  <p>これ &rsquo; は、自動車保険プランを選択するのと同じです。 &rsquo;ゴールデンルールはありません。 &rsquo;しかし、シルバーの箇条書きをいくつかご紹介します。</p>


  <ul>
      <li>過去60分間にデータが失われた場合や、データベースを24時間オフラインにした場合に、どの程度 &rsquo; のコストがかかるかを考えてみてください。 Geo レプリケーションを構成するための追加コストと比較してください。 &rsquo;コストを把握していない場合は、データベースを削除し、24時間後に削除する前に1時間前に復元してみてください。 テクニック! そうしないと、データベースが重要ではない可能性があり、geo レプリケーションが不要な場合があります。</li>
      <li>さまざまなデータベースに対して異なる DR ソリューションを適用できます。 オンライン支払いシステムのデータベース はい。 geo レプリケーションとフェールオーバーグループを構成してください。 インターネットから見つかったレシピを格納するデータベース 違います。</li>
      <li>これらの2つをいつでも変更できます。</li>
  </ul>


  <h2>他にも知るべきことはありますか。</h2>


  <p>&rsquo;このページを閉じる前に、次のことを知りたいと思います。</p>


  <ul>
      <li><a href="https://docs.microsoft.com/en-us/azure/sql-database/sql-database-disaster-recovery-drills">DR ドリル</a>を行い、すべての手順を文書化します。 常に、最悪のものを準備して計画します。</li>
      <li>セカンダリリージョンにフェールオーバーサーバーを作成し、ログイン、ユーザー、証明書などのすべてのセキュリティオブジェクトを事前に構成します。 復旧から時間が節約されます。</li>
      <li><a href="https://docs.microsoft.com/en-us/azure/sql-database/sql-database-always-encrypted-azure-key-vault">Azure key vault で暗号化キーを使用してデータを保護</a>する場合は、キーをバックアップしてください。</li>
      <li>また、アクティブ geo レプリケーションを使用して、地理的に分散したユーザーの読み取り専用クエリのパフォーマンスを高めることもできます。</li>
      <li>Azure DB のビジネス継続性とディザスターリカバリーの全体像については、 <a href="https://docs.microsoft.com/en-us/azure/sql-database/sql-database-business-continuity">オンラインドキュメント</a>を参照してください。</li>
  </ul>
