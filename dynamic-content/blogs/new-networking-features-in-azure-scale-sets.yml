### YamlMime:Yaml
ms.openlocfilehash: 4bc175aeeabc45d3721d30e2bf611338a1fe1bc0
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139904615"
Slug: new-networking-features-in-azure-scale-sets
Title: Azure スケールセットの新しいネットワーク機能
Summary: 現在、Azure 仮想マシンスケールセットのネットワーク拡張機能のセットを発表し、IP アドレスの割り当て、DNS の構成、およびネットワークセキュリティの割り当てを行う新しい方法を追加しました。 Azure scale sets...
Content: >-
  <p><em>このブログ投稿は、anavi Nahar、Program Manager II、Azure ネットワークによって &nbsp; 共同作成されました。&nbsp;</em></p>


  <p>本日、Azure 仮想マシンスケールセットのネットワーク拡張機能について発表します。 ここでは、IP アドレスの割り当て、DNS の構成、およびネットワークセキュリティの割り当てを行う新しい方法を追加しています。</p>


  <p><a href="https://azure.microsoft.com/en-us/services/virtual-machine-scale-sets/" target="_blank">Azure scale sets</a> は、仮想マシンのコレクションを迅速かつ簡単にデプロイおよび管理する方法を提供するように構築されました。 スケールセットの初期実装には、スケーラブルなコンピューティングクラスターに最も一般的に関連付けられているネットワーク機能のコアセットが含まれていました。たとえば、Azure Load Balancer と Application Gateway の統合では、プライベート IP アドレスにルーティングする負荷分散と動的 NAT プールがサポートされます。</p>


  <p>スケールセットの最初のリリースである2016では、より高度なネットワークシナリオをサポートし、スケールセット Vm と可用性セット内のスタンドアロン Vm の間のネットワークの等価性を実現するために、&#39;に取り組んでいます。 現在&#39;s の発表では、より複雑なネットワーク要件を持つスケールセットのための新しいアプリケーションシナリオを開き、スタンドアロン仮想マシン向けに設計された既存のアプリケーションが、簡単な動的スケーリング、自動スケール、修正プログラムなどのスケールセット機能を利用できるようにします。</p>


  <p>ここでは、スケールセットで使用できるようになった新機能の概要と、詳細情報の参照先を&#39;します。</p>


  <h2>VM ごとのパブリック IPv4 アドレス</h2>


  <p>以前は、スケールセットの Vm にはプライベート IP アドレスのみを割り当てることができました。 一般的なスケールセットのアーキテクチャでは、1つまたは複数のパブリック IP アドレスをロードバランサーに割り当てます。これにより、受信接続がプライベートスケールセットの VM の IP アドレスにルーティングされるか、同じ VNet 内のジャンプボックス &quot; VM に &quot; パブリック ip アドレスが割り当てられ、vm に直接接続できるようになります。</p>


  <p>VM ごとのプライベート IP アドレスは、大規模にデプロイされる多くのアプリケーションに最適な構成ですが、場合によっては、直接の外部接続をサポートし、リージョン間で相互に接続するために Vm に適しています。 また、送信ネットワーク帯域幅の要件が、ロードバランサーによって提供される要件を超えている場合もあります。</p>


  <p>これで、すべての VM にパブリック IPv4 アドレスを割り当てるようにスケールセットを構成できます。 これが役に立つ可能性のある例を次に示します。</p>


  <ul>
      <li>ステートフルノードが相互に通信する分散データベース (場合によっては複数のリージョン間)。 スケールセットを使用すると、柔軟性が向上し、大規模なデプロイが容易になります。 VM ごとのパブリック IP は、ネットワークの相互運用性を最大にします。 例: <a href="https://na01.safelinks.protection.outlook.com/?url=https%3A%2F%2Ftwitter.com%2Fbenofben%2Fstatus%2F875753943871008768&amp;data=02%7C01%7Cguybo%40microsoft.com%7C248c2ece1e304c2a7ea708d4bca620ba%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C636340869489511447&amp;sdata=HWKvxsgl11ZTNBem62kVrgo6w%2F3H9ll4QvrbkWHj%2B3E%3D&amp;reserved=0" target="_blank">Couchbase</a>。</li>
  </ul>


  <blockquote>

  <p>Couchbase を使用すると、Azure Portal のスライダーを移動するだけでクラスターをスケールアップすることができます。 VM Scale Sets また、VMSS では、Vm を管理するための以前のアプローチでの信頼性が向上し、管理が容易になります。 &nbsp; 新しいパブリック IP per VM 機能を使用すると、高帯域幅で低待機時間の Azure バックボーンを利用して、 <a href="https://developer.couchbase.com/documentation/server/current/xdcr/xdcr-intro.html" target="_blank">データセンター間のレプリケーションを構成</a> できます。 &nbsp; このアーキテクチャでは、リージョン間の通信はノード帯域幅の上限によってのみ制限されます。これは、最大で Gbps にすることができます。 &nbsp; いつものように、この機能のプレビューバージョンをテストする際 &rsquo; には、Microsoft チームと連携して楽しんています。 &nbsp; GA バージョンは、 <a href="https://azuremarketplace.microsoft.com/en-us/marketplace/apps/couchbase.couchbase-enterprise" target="_blank">Azure Marketplace</a> または <a href="https://github.com/couchbase-partners/azure-resource-manager-couchbase/tree/master/simple" target="_blank">azure 2.0 CLI</a>で自分で試すことができます。</p>


  <p>- Couchbase のパートナーソリューションの佐藤 Lackey</p>

  </blockquote>


  <ul>
      <li>送信帯域幅がロードバランサーの機能を超えているアプリケーション。 VM ごとのパブリック IP は、各 VM が送信ネットワークトラフィックに NIC を使用できるようにすることで、この帯域幅を増やします。</li>
      <li>クライアントからサーバーへの直接接続を必要とするアプリケーション。 1つの例としてゲームがあります。ゲームコンソールは、大規模な共有現実環境に対してゲームの物理を行う Vm に直接接続します。</li>
      <li>大規模なクライアントシミュレーション。 例: 多数の独立したクライアントをシミュレートすることによって、小売サービスのストレステストを行います。</li>
  </ul>


  <h2>構成可能な DNS</h2>


  <p>以前のスケールセットは、それが作成された VNet とサブネットの特定の DNS 設定に依存していました。 構成可能な DNS を使用すると、スケールセットの DNS 設定を直接構成できるようになります。 スケールセット内の Vm で参照する DNS サーバーを構成し、各 VM に適用するドメイン名ラベルを指定することができます。</p>


  <h2>NIC ごとに複数の IP アドレス、VM ごとに複数の Nic</h2>


  <p>最大400を使用できる場合、VM ごとに1つのパブリック IP アドレスで停止するのはなぜですか。 1つの仮想マシンに複数の IP アドレスと NIC を定義する機能は、Web アプリケーションファイアウォールなどのアプリケーションに特に便利です。このアプリケーションでは、複数のネットワークを管理する必要があり、Vm を簡単にスケールアウトできるようにリソースを最適化できます。</p>


  <p>これで、スケールセット内のすべての Vm について、NIC ごとに最大50の IP アドレスと、vm あたり最大8個の Nic (VM のサイズによって異なります) を定義できるようになりました。</p>


  <h2>スケールセットごとのネットワークセキュリティグループ</h2>


  <p>ネットワークセキュリティグループ (NSG) には、Azure 仮想ネットワークに接続されているリソースへのネットワークトラフィックを許可または拒否するセキュリティ規則の一覧が含まれています。 NSGs を使用すると、セキュリティ要件をセキュリティニーズに合わせてカスタマイズできます。</p>


  <p>以前は、NSG をサブネットまたはスタンドアロン仮想マシンの NIC に割り当てることができましたが、スケールセットに直接割り当てることはできませんでした。 NSGs をスケールセットに直接適用できるようになりました。 ネットワークトラフィック規則は、Azure のスケールセットをセキュリティで保護する NSGs を使用して強制および制御できます。これにより、インフラストラクチャをより細かく制御できます。</p>


  <h2>IPv6 Load Balancer サポート &nbsp; -パブリックプレビュー</h2>


  <p>IPv4 アドレスが scarcer になるにつれて、IPv6 によって提供される128ビットのアドレス空間を利用するアプリケーションが増えます。 IPv6 ロードバランサーのサポートのパブリックプレビューでは、パブリック IPv6 アドレスを使用して Azure ロードバランサーを構成できます。これにより、VM スケールセットの Vm に要求をルーティングできます。</p>


  <h2>高速ネットワーク</h2>


  <p>VM にシングルルート i/o 仮想化 (sr-iov) を有効にすることでネットワークパフォーマンスを大幅に向上させる <a href="https://docs.microsoft.com/en-us/azure/virtual-network/virtual-network-create-vm-accelerated-networking" target="_blank">Azure 高速ネットワーク</a> 機能は、仮想マシンスケールセットで使用できるようになりました。 この機能は、Windows および Linux 用パブリックプレビューで一般公開されています。</p>


  <p>スケールセットのネットワーク機能とその使用方法の詳細については、「 <a href="https://docs.microsoft.com/en-us/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-networking" target="_blank">Azure Virtual Machine Scale Sets ネットワーク</a>」を参照してください。</p>
