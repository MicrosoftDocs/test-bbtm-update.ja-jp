### YamlMime:Yaml
ms.openlocfilehash: 3b8e5ccc62ef4bd5a27e6ea709249a479bf89aa9
ms.sourcegitcommit: d03bdc7fe5447adb6530886aab848b75fe8fa8ee
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/11/2022
ms.locfileid: "139910880"
Slug: clustered-columnstore-tables-are-the-new-default-in-azure-sql-data-warehouse
Title: クラスター化列ストア テーブルは、Azure クラスターの新しい既定値SQL Data Warehouse
Summary: クラスター化列ストア インデックスは、Azure SQL Data Warehouse にデータを格納する最も効率的な方法の 1 つです。
Content: "<p><a href=\"https://msdn.microsoft.com/en-us/library/gg492088.aspx\">クラスター化列ストア インデックスは、</a>Azure SQL Data Warehouse にデータを格納できる最も効率的な方法です。&nbsp;クラスター化列ストア インデックスを持つテーブルにデータを格納する方法は、データに対してクエリを実行する最も速い方法であり、最大のデータ圧縮が提供され、ストレージ コストが削減されます。&nbsp;データでこの最新のテクノロジが使用されているのを確認するために、クラスター化列ストア インデックスが Azure の既定の新しいテーブルSQL Data Warehouse。</p>\n\n<p>この変更により、AS SELECT <a href=\"https://msdn.microsoft.com/en-us/library/mt203953.aspx\">構文のCREATE TABLE</a> とCREATE TABLE <a href=\"https://msdn.microsoft.com/en-US/library/mt204041.aspx\">がいくつか変更</a> されます。 次の例では、クラスター化列ストア テーブルを作成します。</p>\n\n<pre class=\"prettyprint\">\nCREATE TABLE myClusteredColumnstoreTable \n  (\n    id int NOT NULL,\n    lastName varchar(20),\n    zipCode varchar(6)\n  )\nWITH\n  ( \n    DISTRIBUTION = HASH (id)\n  );</pre>\n\n<p>前の既定値の HEAP としてテーブルを作成する場合は、このオプションを WITH 句に追加するだけです。&nbsp;たとえば、次の DDL では HEAP テーブルが作成されます。</p>\n\n<pre class=\"prettyprint\">\nCREATE TABLE myHeapTable \n  (\n    id int NOT NULL,\n    lastName varchar(20),\n    zipCode varchar(6)\n  )\nWITH\n  ( \n    DISTRIBUTION = HASH (id), \n    HEAP\n  );</pre>\n\n<p>データベースに含むテーブルの種類を確認する場合は、次のクエリを実行できます。</p>\n\n<pre class=\"prettyprint\">\nSELECT\n    a.name as schema_name, \n    b.name as table_name,\n    c.type_desc as table_type,\n    c.name as index_name\nFROM\n    sys.schemas a\n    INNER JOIN sys.tables b\n        ON a.schema_id = b.schema_id\n    INNER JOIN sys.indexes c\n        ON b.object_id = c.object_id\nORDER BY\n    1, 2;</pre>\n\n<p>テーブルをヒープからクラスター化列ストアに変換するには、CREATE CLUSTERED COLUMNSTORE INDEX を使用できます。</p>\n\n<pre class=\"prettyprint\">\nCREATE CLUSTERED COLUMNSTORE INDEX cciIndex ON myHeapTable;</pre>\n\n<p>テーブルをクラスター化列ストアからヒープに変換するには、 を使用DROP INDEX。</p>\n\n<pre class=\"prettyprint\">\nDROP INDEX cciIndex ON myHeapTable;</pre>\n\n<p>この変更には、影響を与える可能性がある 2 つの微妙な影響があります。</p>\n\n<ol>\n    <li>&nbsp;&nbsp;読み込み用のステージング テーブルを作成する場合、主な目的はデータをデータベースにすばやく読み込み、そのデータをパフォーマンスの高いテーブルに移動することです。そのシナリオでは、ヒープ テーブルのパフォーマンスが向上する可能性があります。</li>\n    <li>現在ヒープ テーブルのセカンダリ インデックスを利用する自動化がある場合は、クラスター化列ストア テーブルでセカンダリ インデックスがまだサポートされていないので、DDL に HEAP キーワードを追加する必要があります。</li>\n</ol>"
