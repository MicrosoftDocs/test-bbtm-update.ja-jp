{
    "Slug": "adaptive-caching-powers-azure-sql-data-warehouse-performance-gains",
    "Title": "アダプティブ キャッシュ機能Azure SQL Data Warehouseパフォーマンス向上",
    "Summary": "Today we made Azure SQL Data Warehouse (SQL DW) Compute Optimized Gen2 Tier generally available to our customers. Even though data and data sources grow exponentially, organizations continue to demand faster and faster insights.",
    "Content": "<p>今日、<a href=\"https://azure.microsoft.com/en-us/blog/turbocharge-cloud-analytics-with-azure-sql-data-warehouse/\" target=\"_blank\">Azure SQL Data Warehouse (SQL DW) コンピューティング最適化 Gen2 レベル</a>をお客様が一般公開しました。 データとデータ ソースは指数関数的に増加しますが、組織は引き続き迅速かつ迅速な分析情報を求めます。 DW コンピューティング最適化 Gen2 レベルAzure SQL、アダプティブ キャッシュを通じて可能になったパフォーマンスの大幅な向上により、このニーズを実現します。</p>\n\n<p>分析ワークロードのパフォーマンスは、通常、ストレージへの I/O 帯域幅と再パーティション分割速度 (シャッフル速度とも呼ばれます) の 2 つの主な要因によって決まります。 このブログ記事では、DW Azure SQLが最新のハードウェアトレンドを活用して、有効な I/O 帯域幅を改善する方法について説明します。</p>\n\n<p>最近広く普及しているハードウェアのイノベーションの 1 つは、NVM Express (NVMe) ソリッド ステート ドライブ (SSD) デバイスです。 NVMe SSD は、SATA SSD やハード ドライブよりも大幅に多くの I/O 帯域幅を提供します。 Azure で使用される一般的な単一の NVMe デバイスでは、通常、最大 2 GB/秒のローカル I/O 帯域幅が提供され、物理ホストごとに複数のデバイスを使用でき、その結果、帯域幅は以前は非常にハイエンドのストレージ システムにのみ予約されていました。 DW コンピューティング最適化 Gen2 レベルAzure SQL、NVMe で最近使用されたデータをアダプティブ キャッシュすることで、NVMe デバイスを完全に活用します。 このお客様のワークロードのブレークスルーにより、最初の世代の Azure SQL DW と比較してクエリ <a href=\"https://azure.microsoft.com/en-us/blog/blazing-fast-data-warehousing-with-sql-data-warehouse-gen2\" target=\"_blank\">パフォーマンスが最大 5 倍</a>向上し、一部のワークロードがさらに改善されました。</p>\n\n<p><em>&ldquo;Azure SQL Data Warehouseの Gen2 にアップグレードした後、データ ウェアハウスのワークロードでパフォーマンスが平均 4 倍向上しました。Microsoft は、当初から Azure SQL Data Warehouse コンピューティング最適化 Gen2 レベルを使用しており、NVMe SSD の使用により、Microsoft&rdquo;</em> の Windows Data and Analytics (DnA) チームのシニア ソフトウェア エンジニアである Rajeev Acharya 氏がサービスに見た最大のパフォーマンス向上が示されています。</p>\n\n<p>詳細を掘り下げる前に、&rsquo;業界をリードする列形式ストレージSQL Server実装する方法について説明します。これは、Azure SQL DW で使用される既定のストレージの種類です。 列ストアは、テーブル行を行グループと呼ばれる 100 万行単位に分割し、行グループ内の各列を圧縮します。 ディクショナリ、ビット パッキング、実行長エンコードなど、さまざまな圧縮手法が使用されます。 データがスキャンされると、必要な列のみがメモリに読み込まれます。 圧縮と列指向ストレージにより、I/O 要件が大幅に削減されます。 さらに、多くの場合、SQL Server エンジンは圧縮されたデータに対して直接動作し、AVX などのベクター化された CPU 拡張機能を最大限に活用します。 両方の手法を組み合わせると、多くの場合、行ストアよりもクエリ速度が最大 10 倍向上します。</p>\n\n<p><img src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/90fbc7ab-b6ec-4673-9345-efbc36c259ce.png\" style=\"margin-right: auto; margin-left: auto; float: none; display: block;\"></p>\n\n<p>列ストアを使用する場合、アプリケーションは更新や削除を削除する必要はありません。これらはデルタ ストア テーブルに追跡され、十分な変更が行われると、データは列ストア表現に再圧縮されます。 列ストアの詳細な<a href=\"https://docs.microsoft.com/en-us/sql/relational-databases/indexes/columnstore-indexes-overview\" target=\"_blank\">説明SQL Server</a>見つけることができます。</p>\n\n<p>Azure SQL DW は複数のコンピューティング ノードで構成され、それぞれがSQL Server エンジンのインスタンスと、データの再パーティション分割操作を担当するデータ移動サービス (DMS) を実行します。 SQL DW では、ストレージ&ndash;からコンピューティングを切り離すことができます。両方とも個別にスケーリングでき、Azure Storage にすべてのデータを保持したまま、データ ウェアハウス インスタンスを一時停止できます。 これにより、お客様の独自のニーズに合わせてクラウド データ ウェアハウス ソリューションを柔軟に構築し、クラウド コンピューティングの弾力性を真に活用して簡単にスケールアップとスケールダウンを行うことができます。</p>\n\n<p><img src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/f3e001ad-2195-4b76-950b-29a403720709.png\" style=\"margin-right: auto; margin-left: auto; float: none; display: block;\"></p>\n\n<p>DW コンピューティング最適化 Gen2 レベルAzure SQLの場合、各コンピューティング ノードは NVMe ベースのノードで実行されます。&nbsp;各SQL DW コンピューティング ノードは、ローカル アクセス用に最適化され、必要に応じて他の Azure SQL DW ノードへのネットワーク経由で使用できる、最近アクセスされたSQL Server列ストレージ セグメントのキャッシュを保持します。 SQL DW キャッシュは列セグメントを追跡するため、頻繁にアクセスされるテーブル、行グループ、列のみが正しい粒度でキャッシュされます。</p>\n\n<p>DW 列形式キャッシュSQLは、DW コンピューティング最適化 Gen2 レベルAzure SQL組み込みの機能であり、追加の設定や構成は必要ありません。 たとえば、多くの場合、DW インスタンスで使用できるローカル NVMe ストレージ容量よりも多くのデータにアクセスする可能性がある大規模なクエリで適切に動作するようにキャッシュAzure SQL最適化しました。 列形式のストレージ キャッシュも障害に対して回復性があるため、dw ノードSQL障害が発生しても、キャッシュされたデータのパフォーマンスが失われず、キャッシュされたデータの追加コピーが必要に応じて作成されます。</p>\n\n<p>Azure SQL DW コンピューティング最適化 Gen2 レベルは、NVMe デバイスで有効な高速ローカル パフォーマンスと、クラウドでのみ可能な弾力性を組み合わせたものです。 アダプティブ キャッシュの存在により、お客様のコストを節約するために、データ ウェアハウス インスタンスのサイズ変更または一時停止が引き続き可能になります。 一時停止後に SQL DW インスタンスが再開されると、SQL DW はデータの照会時にAzure Storageからキャッシュを再び設定します。</p>\n\n<p>次の詳細情報を確認できます。</p>\n\n<ul>\n <li><a href=\"https://aka.ms/gen2newsblog\" target=\"_blank\">DW コンピューティング最適化 Gen2 レベルオファーのAzure SQL</a></li>\n</ul>\n\n<ul>\n <li><a href=\"https://azure.microsoft.com/en-us/blog/blazing-fast-data-warehousing-with-sql-data-warehouse-gen2\" target=\"_blank\">DW パフォーマンスの向上をAzure SQLする</a></li>\n</ul>\n"
}