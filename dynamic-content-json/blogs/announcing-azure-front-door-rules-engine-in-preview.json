{
    "Slug": "announcing-azure-front-door-rules-engine-in-preview",
    "Title": "プレビューでの Azure Front Door ルール エンジンの発表",
    "Summary": "Starting today, customers of Azure Front Door (AFD) can take advantage of new rules to further customize their AFD behavior to best meet the needs of their customers.",
    "Content": "<p>今日から、 <a href=\"https://azure.microsoft.com/en-us/services/frontdoor/\">Azure Front Door</a> (AFD) のお客様は、新しいルールを利用して、お客様のニーズに最も適した AFD 動作をさらにカスタマイズできます。 これらのルールにより、顧客の特定のルーティング ニーズが Azure Front Door でのアプリケーション配信の最前線に移動し、どこからどのようなコンテンツが提供されるかを定義および適用する方法をより細かく制御できます。</p>\n\n<p>Azure Front Door を使用すると、Azure のお客様は、クラス最高の Azure&rsquo; ネットワークを使用して、迅速かつ安全にコンテンツを配信できます。 お&rsquo;客様から、Web アプリケーション サービスの動作をカスタマイズする機能がいかに重要であるかをお客様から聞き、&rsquo;Azure Front Door の新機能であるルール エンジンを本日プレビューで発表することに興奮しています。 ルール エンジンは、現在および新規のすべての Azure Front Door のお客様向けですが、エッジでのセキュリティとコンテンツ配信を合理化しようとしているお客様にとって特に重要です。</p>\n\n<h2>Azure Front Door の新しいシナリオ</h2>\n\n<p>ルール エンジンを使用すると、エッジでの HTTP 要求の処理方法を指定できます。</p>\n\n<p>ルール エンジンの可鍛性により、従来のアプリケーションの移行に対処するための理想的なソリューションになります。このソリューションでは、ユーザーが古いアプリケーションにアクセスすることや、新しいアプリでコンテンツを見つける方法がわからないことを心配する必要はありません&rsquo;。 同様に、geo 一致機能とデバイス識別機能により、ユーザーは常に、ユーザーがどこにいて、どのデバイスでアクセスしているかに最適なコンテンツが表示されます。 ルール エンジンを使用してセキュリティ ヘッダーと Cookie を実装すると、ユーザーがサイトを操作する方法に関係なく、&rsquo;セキュリティで保護された接続を介して行われ、ブラウザーベースの脆弱性がサイトに影響を与えないようにすることもできます。</p>\n\n<p>一致条件とアクションの組み合わせが異なれば、どのユーザーがどのコンテンツを取得するかをきめ細かく制御でき、ルール エンジンで実現できるシナリオを無限にできます。 AFD でこれらの新しいシナリオを強化する技術的な機能には、次のようなものがあります。</p>\n\n<ul>\n    <li>HTTPS を適用し、すべてのエンド ユーザーがセキュリティで保護された接続を介してコンテンツと対話することを確認します。</li>\n    <li>HTTP Strict-Transport-Security (HSTS)、X-XSS-Protection、Content-Security-Policy、X-Frame-Options、CORS シナリオの Access-Control-Allow-Origin ヘッダーなど、ブラウザーベースの脆弱性を防ぐセキュリティ ヘッダーを実装します。 セキュリティベースの属性は、Cookie でも定義できます。</li>\n    <li>要求ヘッダー、Cookie、またはクエリ文字列からなるコンテンツのパターンに基づき、モバイル版またはデスクトップ版のアプリケーションに要求を送信します。</li>\n    <li>リダイレクト機能を使用して 301/302/307/308 リダイレクトをクライアントに返し、新しいホスト名、パス、またはプロトコルにリダイレクトします。</li>\n    <li>受信要求に基づき、ルートのキャッシュ構成を動的に変更します。</li>\n    <li>要求 URL パスを書き換え、構成されているバックエンド プールの適切なバックエンドに要求を転送します。</li>\n</ul>\n\n<p>ルール エンジンは、さまざまなシナリオを処理するように設計されています。 詳細については、 <a href=\"https://docs.microsoft.com/en-us/azure/frontdoor/front-door-rules-engine-match-conditions\">一致条件</a> と <a href=\"https://docs.microsoft.com/en-us/azure/frontdoor/front-door-rules-engine-actions\">AFD ルール エンジンアクション</a> の完全な一覧をドキュメントで確認できます。</p>\n\n<h2>ルール エンジンのしくみ</h2>\n\n<p>ルール エンジンは、エッジで要求を処理します。 ルール エンジンを構成すると、要求が Front Door エンドポイントにヒットすると、最初に Web Application Firewall (WAF) が実行され、その後、フロントエンドまたはドメインに関連付けられているルール エンジン構成が実行されます。 ルール エンジン構成が実行されることは、親のルーティング規則が既に一致していることを意味します。 ルール エンジン構成内の各ルールのすべてのアクションが実行されるかどうかは、そのルール内のすべての一致条件が満たされる対象となります。 要求がルール エンジン構成内のどの条件にも一致しない場合は、既定のルーティング規則が実行されます。</p>\n\n<p>たとえば、次の構成のルール エンジンは、一致条件が満たされた場合にキャッシュ制御の max-age (最大有効期間) を変更する応答ヘッダーを追加するように構成されています。<br>\n&nbsp;&nbsp; <img alt=\"•    Can you please confirm Megan Beatty’s full title so we can create an author profile for her on the blog?\" border=\"0\" height=\"630\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/c80925a6-c768-4ec7-8750-50ce4fdbe044.png\" style=\"border: 0px currentcolor; border-image: none; display: inline; background-image: none;\" title=\"\" width=\"1024\"></p>\n\n<p>別の例として、このルール エンジンは、一致条件であるデバイスの種類が true の場合にサイトのモバイル バージョンにユーザーを送るように構成されています。<br>\n&nbsp;</p>\n\n<p><img alt=\"•  Can you please provide alt text for both of the images included in the post?\" border=\"0\" height=\"623\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/be5c32d1-d4ee-4638-a714-d2da176a7b37.png\" style=\"border: 0px currentcolor; border-image: none; display: inline; background-image: none;\" title=\"\" width=\"1024\"><br>\nどちらの例でも、ルール エンジンの一致条件が満たされていない場合、ルート ルールで指定された既定の動作は実行されます。</p>\n\n<h2>次の手順</h2>\n\n<p>ルール エンジンが Azure Front Door でさらに機能を引き出すのにどのように役立つのかを楽しみにしています。 現在利用可能な機能&rsquo;の詳細については、 <a href=\"https://docs.microsoft.com/en-us/azure/frontdoor/front-door-rules-engine\">Azure Front Door ルール エンジン</a>のドキュメントを参照してください。</p>\n"
}