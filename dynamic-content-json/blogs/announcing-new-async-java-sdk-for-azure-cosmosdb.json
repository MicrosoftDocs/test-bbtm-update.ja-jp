{
    "Slug": "announcing-new-async-java-sdk-for-azure-cosmosdb",
    "Title": "Azure #CosmosDB 用の新しい Async Java SDK の発表",
    "Summary": "We’re excited to announce a new asynchronous Java SDK for Cosmos DB’s SQL API.",
    "Content": "<p>GitHub&rsquo;でオープン ソース化された <a href=\"https://docs.microsoft.com/en-us/azure/cosmos-db/sql-api-sdk-async-java\" target=\"_blank\">Cosmos DBs&rsquo; SQL API 用の新しい非同期 Java SDK</a> をお知らせ<a href=\"https://github.com/Azure/azure-cosmosdb-java\" target=\"_blank\">します。</a> この SDK では、一般的な <a href=\"https://github.com/ReactiveX/RxJava\" target=\"_blank\">RxJava</a> ライブラリを利用して、監視可能なシーケンスを使用してイベント ベースのプログラムを作成するための新しい非同期 API サーフェス領域を追加します。 また、ユーザー エクスペリエンスが向上し、以前の同期 Java SDK よりも軽量です (クライアント側では 2 倍のパフォーマンス向上が実現します)。</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/c3736840-bcde-4aec-ba31-b74cfa43f6ef.png\"><img alt=\"image\" border=\"0\" height=\"312\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/ffa55d90-3a5a-4486-a0ee-d3c1b46e99df.png\" style=\"background-image: none; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; margin-right: auto; border-image: none\" title=\"イメージ\" width=\"624\"></a></p>\n\n<p><a href=\"https://mvnrepository.com/artifact/com.microsoft.azure/azure-cosmosdb/1.0.1\" target=\"_blank\">Maven</a> からライブラリを追加するには、次の方法があります。</p>\n\n<pre class=\"prettyprint\">\n&lt;dependency&gt;\n    &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n    &lt;artifactId&gt;azure-cosmosdb&lt;/artifactId&gt;\n    &lt;version&gt;1.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</pre>\n\n<h3>Cosmos DB に接続する</h3>\n\n<p>新しい SDK では、便利なビルダー パターンを使用して接続オプションを指定します。</p>\n\n<pre class=\"prettyprint\">\nasyncClient = new AsyncDocumentClient.Builder()\n                         .withServiceEndpoint(HOST)\n                         .withMasterKey(MASTER_KEY)\n                         .withConnectionPolicy(ConnectionPolicy.GetDefault())\n                         .withConsistencyLevel(ConsistencyLevel.Eventual)\n                         .build();\n</pre>\n\n<h3>項目を挿入する</h3>\n\n<p>DB データ操作Cosmos非同期的に実行して調整し、監視可能オブジェクトを使用して結果を取得するには:</p>\n\n<pre class=\"prettyprint\">\nDocument doc = \n      new Document(String.format(&quot;{ &#39;id&#39;: &#39;doc%d&#39;, &#39;counter&#39;: &#39;%d&#39;}&quot;, 1, 1));\n\nObservable&lt;ResourceResponse&lt;Document&gt;&gt; createDocumentObservable =\n      asyncClient.createDocument(collectionLink, doc, null, false);\n\ncreateDocumentObservable\n      .single()           // we know there will be one response\n      .subscribe(documentResourceResponse -&gt; {\n            System.out.println(documentResourceResponse.getRequestCharge());\n      });\n</pre>\n\n<p>createDocument 要求は、対応する監視可能な結果で .subscribe が呼び出された後にのみ発行されることに注意してください。</p>\n\n<h3>クエリ</h3>\n\n<p>Cosmos DB クエリでは、複数のページのデータを返すことができます。 すべてのページを効率的に読み取るために、すべてのページをサブスクライブして読み取るだけです。</p>\n\n<pre class=\"prettyprint\">\nObservable&lt;FeedResponse&lt;Document&gt;&gt; documentQueryObservable = asyncClient\n                .queryDocuments(getCollectionLink(), &quot;SELECT * FROM root&quot;, options);\n\n// forEach(.) is an alias for subscribe(.)\ndocumentQueryObservable.forEach(page -&gt; {\n     for (Document d : page.getResults()) {    \n            System.out.println(d.toJson());\n     }\n});\n</pre>\n\n<p>私たちはかろうじて表面を傷付けた。 <a href=\"https://github.com/Azure/azure-cosmosdb-java\" target=\"_blank\">Azure Cosmos DB async SDK for Java の詳細について説明</a>します。</p>\n\n<p>Azure Cosmos DB を使用している場合は、いつでもお気軽にお<a href=\"mailto:AskCosmosDB@microsoft.com\">AskCosmosDB@microsoft.com</a>問い合わせください。 Azure Cosmos DB をまだ使用していない場合は、今すぐ Azure Cosmos DB を無料で試すことができます。サインアップやクレジット カードは必要ありません。 サポートが必要な場合や、ご質問やフィードバックがある場合は、いつでもお問い合わせください。 最新の Azure Cosmos DB のニュースと機能については、Twitter <a href=\"https://twitter.com/search?q=%23cosmosdb\" target=\"_blank\">#CosmosDB</a><a href=\"https://twitter.com/AzureCosmosDB\" target=\"_blank\">@AzureCosmosDB</a> の最新情報を参照してください。 Azure Cosmos DB を使用して何を構築するかを楽しみにしています。</p>\n\n<p>-Azure Cosmos DB のフレンド</p>\n"
}