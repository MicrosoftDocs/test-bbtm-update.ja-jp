{
    "Slug": "advancing-azure-service-quality-with-artificial-intelligence-aiops",
    "Title": "人工知能による Azure サービスの品質の向上: AIOps",
    "Summary": "As Mark mentioned when he authored the Advancing Reliability blog series, building and operating a global cloud infrastructure at the scale of Azure is a complex task with hundreds of ever-evolving service components, spanning more than 160 datacenters and across more than 60 regions.",
    "Content": "<p>&ldquo;ビッグ データの時代には、Azure の規模で実行されているクラウド サービスから収集された分析情報が、人間の注意のスパンをすぐに超えます。 &rsquo;収集された大量のデータに基づいて、可能な限り高いサービス品質を維持するための適切な手順を特定することが重要です。 これを Azure に適用する場合、クラウド プラットフォームとDevOps プロセスに AI を注入し、AIOps になり、Azure プラットフォームがより自己適応性があり、回復力があり、効率的になることを想定しています。 また、AIOps は、サービス品質の向上を継続し、お客様とパートナーを喜ばせる適切なアクションをより効果的かつタイムリーに行うために、エンジニアをサポートします。 この投稿では、Azure プラットフォームの信頼性を向上させ続けるために進行中の <a href=\"https://azure.microsoft.com/en-us/blog/tag/advancing-reliability/\" target=\"_blank\">「信頼性の向上」シリーズ</a> の取り組みを引き続き取り上げています。 以下の投稿は、これらの取り組みを監督するプログラム マネージャーの <strong>Jian Zhang</strong> 氏が、AIOps のビジョンを共有し、エンド ツー エンドのクラウド サービス管理の一環として既に現実であるこの AI 注入の領域を強調しています。&rdquo;&mdash;Mark Russinovich、CTO、Azure</p>\n\n<hr>\n<p><em>この投稿には、プリンシパル データ科学者 マネージャー <strong>Yingnong Dang </strong>とパートナー グループ ソフトウェア エンジニアリング マネージャー<strong>の Murali Chintalapati</strong> からの投稿が含まれます。</em></p>\n\n<p>&nbsp;</p>\n\n<p>Mark がこの <a href=\"https://www.aka.ms/AdvancingReliability/1\" target=\"_blank\">「信頼性向上</a> 」ブログ シリーズを立ち上げた際に述べたように、Azure の規模でグローバル クラウド インフラストラクチャを構築して運用することは、160 を超えるデータセンターと 60 を超えるリージョンにまたがる、進化し続ける何百ものサービス コンポーネントを備えた複雑なタスクです。 この課題に立ち向かうために、Azure エンジニアリング チーム間で広範に共同作業を行う AIOps チームを作成し、Microsoft Research と提携して、クラウド サービス管理の効率性と信頼性をかつてないほど高める AI ソリューションを開発しました。 クラウド プラットフォームとDevOps プロセスに AI を注入することの重要性に関するビジョンを共有します。 Gartner は AIOps (顕著 &ldquo;な AI Ops&rdquo;) と似たものと呼ばれ、これは、より大きなスコープではありますが、内部的に使用する一般的な用語となっています。 今日&rsquo;の投稿は、大規模な Azure の構築と運用方法をサポートするために AI テクノロジを使用する導入事例を共有するための定期的な更新プログラムを提供する予定であるため、ほんの始まりにすぎません。</p>\n\n<h2>AIOps の理由</h2>\n\n<p>クラウド サービスには、次の 2 つの固有の特性があります。</p>\n\n<ul>\n    <li>クラウド プラットフォームとシステムのスケールと複雑さが増し続ける</li>\n    <li>顧客、パートナー、およびワークロードの絶えず変化するニーズ</li>\n</ul>\n\n<p>この絶え間ない変化の中で信頼性の高いクラウド サービスを構築して運用し、可能な限り効率的かつ効果的に行うために、クラウド エンジニア (何千人もの Azure 開発者、運用エンジニア、カスタマー サポート エンジニア、プログラム マネージャーを含む) は、データに大きく依存して意思決定を行い、アクションを実行します。 さらに、これらの決定とアクションの多くは、クラウド サービスまたは DevOps プロセスの不可欠な部分として自動的に実行される必要があります。 データから意思決定からアクションへのパスを合理化するには、データ内のパターンを特定し、推論し、履歴データに基づいて予測を行い、その基になるすべてのデータから派生した分析情報に基づいてアクションを推奨または実行する必要があります。</p>\n\n<p align=\"center\">&nbsp;<a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/de9e4c2c-e2f3-4683-9a03-2d2f1197a1e5.png\"><img alt=\"Infusing AI into cloud platform and DevOps – with AI at the center of Customers, Engineering, and Services.\" border=\"0\" height=\"240\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/b31df6d1-7756-4381-9c12-8560836711d0.png\" style=\"border: 0px currentcolor; margin-right: auto; margin-left: auto; display: block; background-image: none;\" title=\"\" width=\"237\"></a><br>\n<em>図 1.クラウド プラットフォームとDevOpsに AI を組み込みます。</em></p>\n\n<h2>AIOps ビジョン</h2>\n\n<p>AIOps は、インテリジェント なツールを使用してエンジニア&rsquo; の生産性を向上させ、継続的なコストの最適化を推進し、最終的にプラットフォーム自体の信頼性、パフォーマンス、効率を向上させることで、サービス品質とカスタマー エクスペリエンスを大規模に向上させることで、クラウド ビジネスを変革し始めました。 AIOps と関連テクノロジの進歩に投資すると、最終的には次のようないくつかの方法で価値が提供されます。</p>\n\n<ul>\n    <li><strong>サービスの品質と効率性の向上</strong>: クラウド サービスには、人間の介入を最小限に抑えた、自己監視、自己適応、自己治癒の機能が組み込まれています。 このようなインテリジェンスを利用したプラットフォーム レベルの自動化により、サービスの品質 (信頼性、可用性、パフォーマンスなど) とサービス効率が向上し、可能な限り最高のカスタマー エクスペリエンスが提供されます。</li>\n    <li><strong>DevOps生産性の向上</strong>: AI とMLの自動化機能により、エンジニアは繰り返し発生する問題を調査し、サービスを手動で運用およびサポートする作業から解放され、代わりに、新しい問題の解決、新機能の構築、顧客とパートナーのエクスペリエンスにより直接的な影響を与える作業に集中できます。 実際には、AIOps は開発者とエンジニアに分析情報を提供し、生データを見ないようにすることで、エンジニアの生産性を向上させます。</li>\n    <li><strong>顧客満足度の向上</strong>: AIOps ソリューションは、可能な限り簡単にクラウド サービスの上でワークロードを使用、維持、およびトラブルシューティングできるようにするために重要な役割を果たします。 私たちは、AIOps を使用して顧客のニーズをよりよく理解するよう努めています。場合によっては、潜在的な問題点を特定し、必要に応じて積極的に手を差し伸べるように努めています。 お客様のワークロードの動作に関するデータドリブン分析情報は、Microsoft またはお客様が問題を回避したり回避策を適用したりするためにアクションを実行する必要があるときにフラグを設定できます。 最終的には、問題を迅速に特定、軽減、修正することで、満足度を向上することが目標です。</li>\n</ul>\n\n<p>同僚のMarus Fontoura、Murali Chintalapati、Yingnong Dang は、クラウド <a href=\"https://cloudintelligenceworkshop.org/\" target=\"_blank\">インテリジェンスに関する AAAI-20 ワークショップ</a>の <a href=\"https://cloudintelligenceworkshop.org/content/Cloud Intelligence Keynote Public.pdf\" target=\"_blank\">CloudToward&ndash; Intelligent Cloud Platforms と AIOps の</a>基調講演で、この分野での Microsofts&rsquo; のビジョン、投資、サンプル実績を、人工知能に<a href=\"https://aaai.org/Conferences/AAAI-20/\" target=\"_blank\">関する第 34 回 AAAI 会議</a>と共に共有しました。 このビジョンは、Azure、Microsoft 365、Bing、LinkedIn、Microsoft Research (MSR) などのクラウド サービス製品グループ全体の Microsoft AIOps 委員会によって作成されました。 基調講演では、次のグラフに示すように、クラウド システムの構築と運用に AIOps を変革できる重要な領域をいくつか紹介しました。<br>\n&nbsp;</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/e579236b-dc9b-42d7-83d5-df7323625129.png\"><img alt=\"AI for Cloud: AI Ops and AI-Serving Platform showing example use cases in AI for Systems, AI for DevOps, and AI for Customers.\" border=\"0\" height=\"449\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/23aa03d8-6047-40dd-9a74-f9785e4ca016.png\" style=\"border: 0px currentcolor; margin-right: auto; margin-left: auto; display: block; background-image: none;\" title=\"\" width=\"1024\"></a></p>\n\n<p align=\"center\"><br>\n<em>図 2.クラウド向け AI: AIOps と AI-Serving プラットフォーム。</em></p>\n\n<h2>AIOps</h2>\n\n<p>ビジョンを超えて、まず、AIOps ソリューションを構築するための一般的な手法を簡単にまとめました。 この領域のソリューションは、常にシステム、顧客、プロセス&mdash;のデータ&mdash;測定から始まります。AIOps ソリューションの鍵は、システムの動作、顧客の行動、およびDevOpsアーティファクトとプロセスに関する分析情報を蒸留することです。 分析情報には、現在発生している問題の特定 (検出)、発生した理由&rsquo; (診断)、将来何が起こるか (予測)、改善 (最適化、調整、軽減) 方法が含まれます。 このような分析情報は、常にビジネス メトリック&mdash;に関連する必要がありますcustomer の満足度、システムの品質、およびDevOps生産性&mdash;と、ビジネスへの影響によって決定される優先順位付けに沿ってアクションを推進します。 アクションは、システムとプロセスにもフィードバックされます。 このフィードバックは、完全に自動化(システムに注入)することも、ループ内の人間(DevOpsプロセスに注入)することもできます。 この全体的な手法により、AIOps ソリューションを 3 つの柱で構築できるようになりました。</p>\n\n<p align=\"center\"><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/d3e4a497-3dd7-4c63-825b-711aa3b68a9f.png\"><img alt=\"AIOps methodologies: Data (Customer/System/DevOps), insights (Detect/Diagnose/Predict/Optimize), and actions (Mitigate/Avert future pain/Optimize usage config/Improve architecture &amp; process).\" border=\"0\" height=\"348\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/3e33bda9-3f57-4a3c-a075-1e8de484b1d3.png\" style=\"border: 0px currentcolor; margin-right: auto; margin-left: auto; display: block; background-image: none;\" title=\"\" width=\"1024\"></a><br>\n<em>図 3.AIOps の手法: データ、分析情報、アクション。</em></p>\n\n<h2>システムの AI</h2>\n\n<p>現在、Azure をバックグラウンドで既に使用およびサポートしているいくつかの AIOps ソリューションを導入&#39;。 目標は、人間の介入を減らすためにシステム管理を自動化することです。 その結果、運用コストの削減、システム効率の向上、顧客満足度の向上に役立ちます。 これらのソリューションは、特に Azure IaaS 仮想マシン (VM) の場合、Azure プラットフォームの可用性の向上に大きく貢献しています。 AIOps ソリューションは、ハードウェア障害の予測を通じてホストエラーからお客様&rsquo;のワークロードを保護したり、ライブ マイグレーションや <a href=\"https://www.aka.ms/AdvancingReliability/2\" target=\"_blank\">Project Tardigrade</a> や VM の事前プロビジョニングなどの予防的なアクションを通じて VM の作成時間を短縮するなど、いくつかの方法で貢献しました。</p>\n\n<p>もちろん、エンジニアリングの改善や継続的なシステムイノベーションも、プラットフォームの信頼性の継続的な向上において重要な役割を果たします。</p>\n\n<ul>\n    <li><strong>ハードウェア障害の予測</strong> は、ハードウェア障害による中断からクラウドのお客様を保護することです。 2018 年に<a href=\"https://azure.microsoft.com/en-us/blog/improving-azure-virtual-machine-resiliency-with-predictive-ml-and-live-migration/\" target=\"_blank\">予測MLとライブ マイグレーションを使用して、Azure Virtual Machine の回復性を向上させる</a>というストーリーを共有しました。 Microsoft Research と Azure は、Azure Compute 用のディスク障害予測ソリューションを構築し、予測されたノードから正常なノードへの顧客 VM のライブ マイグレーションをトリガーしています。 また、メモリやネットワーク ルーターの障害など、他の種類のハードウェアの問題にも予測を拡張しました。 これにより、可用性を向上させるために予測メンテナンスを実行できます。</li>\n    <li>Azure <strong>のプレプロビジョニング サービス</strong>は、事前プロビジョニングされた VM を作成することで、VM デプロイの信頼性と待機時間の利点をもたらします。 事前プロビジョニングされた VM は、VM に対するお客様の要求より前に事前に作成され、部分的に構成された VM です。 前述の AAAI-20 キーノートで説明したように、&nbsp;<a href=\"https://www.microsoft.com/en-us/research/publication/intelligent-virtual-machine-provisioning-in-cloud-computing/\" target=\"_blank\">プレプロビジョニング サービス</a>は予測エンジンを利用して、VM 構成と構成ごとの VM の数を予測して事前作成します。 この予測エンジンは、デプロイの履歴と現在の動作に基づいてトレーニングされ、将来のデプロイを予測する動的モデルを適用します。 プロビジョニング前サービスでは、この予測を使用して、VM 構成ごとに VM プールを作成および管理します。 プロビジョニング前サービスは、最新の予測で規定されているように VM を破棄または追加することで、VM のプールのサイズを変更します。 顧客&#39;要求に一致する VM が特定されると、VM は事前に作成されたプールから顧客&rsquo;サブスクリプションに割り当てられます。</li>\n</ul>\n\n<h2>DevOps用の AI</h2>\n\n<p>AI はエンジニアリングの生産性を高め、高品質のサービスを迅速に出荷するのに役立ちます。 DevOps ソリューションの AI の例をいくつか次に示します。</p>\n\n<ul>\n    <li><strong>インシデント管理</strong> は、クラウド サービス管理&mdash;の重要な側面であり、まれですが避けられないプラットフォームの停止を識別し、軽減します。 一般的なインシデント管理手順は、検出、エンゲージメント、軽減の各段階を含む複数のステージで構成されます。 各ステージで費やされた時間は、主要業績評価指標 (KPI) として使用され、迅速な問題解決を測定して推進します。 KPI には、検出時間 (TTD)、エンゲージメント時間 (TTE)、緩和時間 (TTM) が含まれます。</li>\n</ul>\n\n<p align=\"center\">&nbsp;<a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/41fa91dd-e655-4e4c-ac40-077d6c0786bb.png\"><img alt=\"Incident management procedures including Time to Detect (TTD), Time to Engage (TTE), and Time to Mitigate (TTM).\" border=\"0\" height=\"276\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/8592da7b-2651-446d-a390-a9ad1bf192cc.png\" style=\"border: 0px currentcolor; margin-right: auto; margin-left: auto; display: block; background-image: none;\" title=\"\" width=\"1024\"></a><br>\n<em>図 4.インシデント管理手順。</em></p>\n\n<p>AAAI-20 会議<a href=\"https://www.microsoft.com/en-us/research/publication/aiops-innovations-in-incident-management-for-cloud-services/\" target=\"_blank\">のCloud Services向けインシデント管理の AIOps イノベーション</a>で共有されるように、エンジニアが早期に問題を検出するだけでなく、適切なチームを特定して、できるだけ迅速に軽減できるようにする AI ベースのソリューションを開発しました。 プラットフォームへの緊密な統合により、一部のシナリオでエンド ツー エンドのタッチレス軽減が可能になり、顧客への影響が大幅に軽減されるため、全体的なカスタマー エクスペリエンスが向上します。</p>\n\n<ul>\n    <li><strong>異常検出</strong> は、Azure IaaS のエンドツーエンドの監視と異常検出ソリューションを提供します。 検出ソリューションは、しきい値によって定義された一般的なパターンだけでなく、リーク パターン (メモリ リークなど) や新しいパターン (スパイクではなく、より長期的な変動で増加) などの検出が困難なパターンを含む、広範な異常パターンを対象としています。 異常検出ソリューションによって生成されたインサイトは、既存のAzure DevOps プラットフォームとプロセスに挿入されます。たとえば、テレメトリ プラットフォーム、インシデント管理プラットフォームを介したアラート、場合によっては影響を受ける顧客への自動通信をトリガーします。 これは、できるだけ早く問題を検出するのに役立ちます。</li>\n</ul>\n\n<p>顧客向け機能に既に導入されている例では、<a href=\"https://azure.microsoft.com/en-us/blog/announcing-azure-monitor-aiops-alerts-with-dynamic-thresholds/\" target=\"_blank\">動的しきい値</a>は、MLベースの異常検出モデルです。 これは、Azure portalまたは ARM API を介して使用される Azure Monitor の機能です。 動的しきい値を使用すると、監視アラートをトリガーする違反ポイントの数を指定するなど、検出感度を調整できます。</p>\n\n<ul>\n    <li><strong>セーフデプロイ</strong>は、Azure インフラストラクチャ コンポーネントの安全なロールアウトのためのインテリジェントなグローバル &ldquo;ウォッチドッグ&rdquo;として機能します。 ロールアウトの数時間または数日後に発生した潜在的な問題をキャプチャするために、時間的および空間的な相関関係を分析するシステム、コード名 Gandalf を構築しました。 これは、Azure シナリオで一般的な疑わしいロールアウト (進行中のロールアウトの間) を特定するのに役立ち、問題の伝播を防ぎ、追加の顧客への影響を防ぐのに役立ちます。 <a href=\"https://www.aka.ms/AdvancingReliability/5\" target=\"_blank\">この前のブログ記事</a>で安全な展開方法の詳細を提供し、<a href=\"https://t.co/ECHPEpw3II?amp=1\" target=\"_blank\">USENIX NSDI 2020 の紙</a>と<a href=\"https://t.co/L51eO7IE5T?amp=1\" target=\"_blank\">スライド デッキ</a>で Gandalf がどのように動作するかについて詳しく説明しました。</li>\n</ul>\n\n<h2>顧客向け AI</h2>\n\n<p>Azure カスタマー エクスペリエンスを向上させるために、顧客管理のライフサイクル全体を強化する AI ソリューションを開発してきました。 たとえば、カスタマー サービスの選択と、発生した問題の詳細な概要を&rsquo;活用して、最適な選択のサポート リソースに顧客を導く意思決定サポート システムが開発されました。 これにより、顧客やパートナーに必要な適切なガイダンスとサポートを得るためにかかる時間を短縮できます。</p>\n\n<h2>AI サービス プラットフォーム</h2>\n\n<p>グローバル規模のクラウド管理の効率性を高めるために、AI を使用してクラウド リソースの使用状況を最適化し、カスタマー エクスペリエンスを最適化するシステムの構築に投資してきました。 1 つの例として、「<a href=\"https://cacm.acm.org/magazines/2020/2/242349-toward-ml-centric-cloud-platforms/fulltext\" target=\"_blank\">ACM の通信</a>」で説明した Azure 用の AI サービス プラットフォームである <strong>Resource Central (RC)</strong> があります。 Azure コンテナーとサーバーからテレメトリを収集し、以前の動作から学習し、要求されると、将来の動作の予測を生成します。 既に RC を使用して、リソースの調達や割り当てなど、Azure Compute ワークロードの多くの特性を正確に予測しています。これらはすべて、システムのパフォーマンスと効率の向上に役立ちます。</p>\n\n<h2>未来を見据えて</h2>\n\n<p>Azure プラットフォームへの AI 注入のビジョンとDevOps プロセスを共有し、さまざまな分野でサービス品質を向上させるために既に使用されているいくつかのソリューションを強調しました。 今後さらにインテリジェントなクラウド管理を実現するために、内部 AI とML ソリューションの詳細を共有してください。 Azure&rsquo; プラットフォーム自体の信頼性とパフォーマンスの向上など、クラウド プロバイダーとしての有効性と効率性を向上させるための適切な投資ソリューションであると確信しています。</p>\n"
}