{
    "Slug": "announcing-new-enhancements-to-azure-search-suggestions",
    "Title": "Azure Search の提案に対する新しい機能強化の発表",
    "Summary": "When we first implemented search suggestions in Azure Search we did so with prefix matching. We listened to your feedback and have now implemented infix matching to enhance the results!",
    "Content": "\"検索候補\" は、アプリケーションに自動完了機能を実装するために使用する構成要素です。 一部のシナリオでは、ユーザーが実際に検索要求を実行する前に、利用可能なものを移動するのに役立つ重要な機能です。\n\nAzure Search で検索候補 (自動完了) を初めて実装したときは、プレフィックスの一致で行いました。 たとえば、提案が有効なフィールドに文字列 \"quick brown fox jumps over the lazy dog\" が含まれている場合、部分入力が \"the\"、\"the qu\"、\"quick brown fox\"などである場合、このドキュメントを提案しますが、部分入力が \"quick brown fox\" または \"lazy dog\" の場合は、このドキュメントを提案しません。 提案の結果に期待を満たしていないと繰り返し聞きました。\n\nまとめると、得られたフィードバックは次のとおりです。\n<ol>\n <li>検索候補クエリでは、インフィックス マッチングは行われません。プレフィックスの一致のみが行われます。 これは、フィードバックの最も一般的な投稿でした。</li>\n <li>提案は結果ごとに 10 個に制限され、一部のシナリオでは少なすぎます。</li>\n <li>候補の長さは 25 文字に制限されていました。 場合によっては、人々はそれ以上に進みたいと思います。</li>\n <li>結果を返すには、入力に少なくとも 3 文字が必要です。</li>\n</ol>\n&nbsp;\n<h2>インフィックスマッチングとあいまい一致</h2>\nこれらの項目すべてに対処する提案のまったく新しい実装を運用環境にデプロイしました。 特に、候補の修正照合を行い、ユーザーが 「brown fo」と入力し、\"クイック ブラウン キツネがジャンプしました\"などの候補を取得できるようにします。 (一致は単語の境界にある必要があります。中間に存在する文字シーケンスと一致しません)。あいまい一致は、スペル ミスの柔軟性を高めるために有効です。 また、結果ごとに最大 100 個の提案が可能で、フィールドの制限以外の長さの制限はなく、3 文字の最小長もありません。 フィードバックの取得と機能の調整が完了していないため、 <a href=\"https://azure.microsoft.com/en-in/documentation/articles/search-api-2014-10-20-preview/#Suggestions\">試験版の 2014-10-20-Preview</a> の下にあります。\n\n以前の候補用 API は、フィールド定義のブール型の \"suggestions\" オプションでした。 シンプルですが、成長する余地はありませんでした(たとえば、使用するマッチング戦略を示す場所はありませんでした)。 現在、提案用の API を強化しています。そのため、将来的には、より多くの機能を追加するスペースがあります。 インデックスに名前と検索モードを持つ \"suggesters\" のコレクションが追加されました (これにより、プレフィックス一致のサジェスターをすぐに新しい API に取り込めるようになります)。 最初のサジェスターは、ドキュメント内のフィールドから提案されるソースを紹介し、インフィックス マッチングを使用します。\n\nこれは、suggester を含む新しいインデックス定義の外観です。\n<pre class=\"prettyprint\">{\n\nfields: [\n\n{ \"name\": \"id\", \"type\": \"Edm.String\", \"key\": true },\n\n{ \"name\": \"title\", \"type\": \"Edm.String\" }\n\n],\n\nsuggesters: [\n\n{ \"name\": \"sg\", \"searchMode\": \"analyzingInfixMatching\", \"sourceFields\": [\"title\"] }\n\n]\n}</pre>\n提案要求で使用するには、suggester を参照する必要があります (検索テキストを URL エンコードすることを常に忘れないでください)。\n<p style=\"padding-left: 30px;\">https://mysvcname.search.windows.net/indexes/myindex/docs/suggest?api-version=2014-10-20-Preview&amp;search=lazy+dogsuggesterName&amp;=sg</p>\n\n<h2>次の手順</h2>\nこれらの新しい機能強化は、最近「<a href=\"https://azure.microsoft.com/blog/2015/01/20/azure-search-how-to-add-suggestions-auto-complete-to-your-search-applications/\">検索アプリケーションに提案を追加する (自動完了)する方法</a>」に投稿したチュートリアルを使用して試すことができます。\n\n<a href=\"https://azure.microsoft.com/en-in/documentation/articles/search-api-2014-10-20-preview/\">2014-10-20-Preview API ドキュメント</a>のすべてのオプションについて説明している suggester のドキュメントを参照することもできます。\n\n新しいフィールドを追加して新しいサジェスターにバインドするか、新しいインデックスを作成して機能させる必要があることに注意してください。 既存のインデックス内の既存のフィールドにバインドされた suggester を追加することはできません。\n\nあなたが提案を使用し、いくつかの時間を持っている場合は、これを試してみてください。 皆様からの <a href=\"https://social.msdn.microsoft.com/Forums/azure/en-US/home?forum=azuresearch\">フィードバック</a>をお待ちしております。\n\nリアム・キャバナは、ブログや <a href=\"https://twitter.com/liamca\" target=\"_blank\">ツイッター</a>で連絡を取ることができます。"
}