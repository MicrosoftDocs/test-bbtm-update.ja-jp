{
    "Slug": "agile-sap-development-with-sap-cloud-platform-on-azure",
    "Title": "Azure 上の SAP Cloud Platform を使用したアジャイル SAP 開発",
    "Summary": "SAP Cloud Platform (SCP), SAP's platform-as-a-service offering, is moving from our preview to general availability on Azure. We're excited to announce  that the Cloud Foundry based SAP Cloud Platform (SCP) is now running on Azure in the Europe West region today!",
    "Content": "<p><em>このブログ投稿は、Azure CAT のプリンシパル ソフトウェア エンジニアである Mario Szpuszta によって共同編集されました</em></p>\n\n<p>最近、SAP Cloud Platform がベータ版から Azure での一般提供に移行していることを発表しました。 SAP Cloud Platform (SAP CP) は、SAP のサービスとしてのマルチクラウド プラットフォーム オファリングであり、Azure 西ヨーロッパで運用環境で使用できるようになりました。</p>\n\n<p>Azure 上の SAP CP を使用すると、SAP 開発のニーズに合わせて Azure で利用できる選択肢が拡張されます。&nbsp; SAP CP は、SAP によって運営されるフル マネージドのサービスとしてのプラットフォームを提供し、Azure 上の最初のマルチテナントおよびフル マネージド Cloud Foundry PaaS です。 SAP CP が Azure で実行されている場合、お客様は</p>\n\n<ul>\n <li>Azure で幅広い認定<a href=\"https://azure.com/sap\" target=\"_blank\">SAP HANAオファリングを活用します</a>。 </li>\n <li><a href=\"https://osba.sh/\" target=\"_blank\">Meta Azure Service Broker</a> を使用して、EventHubs、AzureSQL Database、Azure CosmosDB、Azure ServiceBus などのAzure-Native サービスと統合します。</li>\n <li><a href=\"https://docs.microsoft.com/en-us/azure/active-directory/active-directory-saas-sap-hana-cloud-platform-tutorial\" target=\"_blank\">Azure Active Directoryと統合</a>して SAP Cloud Platform のシングル サインオンを有効にする</li>\n</ul>\n\n<h2>Azure 上の SAP Cloud Platform – 概要</h2>\n\n<p>Azure 上の SAP CP の使用を開始するには、 <a href=\"https://cloudplatform.sap.com/index.html\" target=\"_blank\">SAP CP アカウント</a>にログインします。 Cloud Foundry を選択し、ヨーロッパ (オランダ) Azure リージョンを選択します。 これにより、SAP CP Cloud Foundry 環境内に組織とスペースが作成されます。</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/5518ab3f-1e92-44f8-b15f-d387386d2dee.png\"><img width=\"638\" height=\"584\" title=\"image_1_regions\" style=\"border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;\" alt=\"image_1_regions\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/ea1f825a-5a9a-44c6-b218-a37ba965b1d4.png\" border=\"0\"></a></p>\n\n<h2>アプリケーションとサービスのデプロイ</h2>\n\n<p>開発者は、SAP CP コックピットまたは Cloud Foundry CLI を使用して、アプリケーションとサービスをデプロイおよび管理できます。</p>\n\n<p>SAP CP コックピットは、デプロイされたアプリケーションを参照および監視するための便利な方法を提供します。 開発者は、コックピットを使用して、Service Marketplace で SAP によって有効になっているインフラストラクチャ サービスのカタログを参照できます。 これらのサービスは、高可用性のために Azure Availability Zones の使用を構成する場合でも、インフラストラクチャに Azure Virtual Machinesを利用します。</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/bf5f61f9-c4cb-4dec-b818-2c818148bf24.png\"><img width=\"1875\" height=\"1215\" title=\"image_2_marketplace\" style=\"border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;\" alt=\"image_2_marketplace\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/1cb9517b-5d6a-4293-b46c-bdd69de11f46.png\" border=\"0\"></a></p>\n\n<h2>Cloud Foundry CLI の使用</h2>\n\n<p>SAP CP は SAP インフラストラクチャに対して有効な Cloud Foundry ベースの PaaS であるため、他の Cloud Foundry 環境と同様に SAP CP 環境を管理できます。 HANA などの SAP 固有のサービスの場合、SAP は Cloud Foundry CLI 用 <a href=\"https://tools.hana.ondemand.com/#cloud\" target=\"_blank\">の HANA MTA プラグインなどのプラグイン</a> を提供して、SAP 固有のサービスを簡単に操作できるようにします。</p>\n\n<p>SAP CP では、リージョンごとに異なる API エンドポイントが使用されます。 CF CLI を使用して Azure 西ヨーロッパにデプロイされた SAP CP ランドスケープにアクセスするには、次の API エンドポイントを使用します。</p>\n\n<pre>cf api <a href=\"https://api.cf.eu20.hana.ondemand.com\">https://api.cf.eu20.hana.ondemand.com</a>\ncf login</pre>\n\n<p>すべての Cloud Foundry CLI/API を使用して、アプリのプッシュ、マーケットプレースの探索などを行うことができます。</p>\n\n<h2>Meta Azure Service Broker を使用した Azure Platform Services への接続</h2>\n\n<p><a href=\"https://github.com/Azure/meta-azure-service-broker\" target=\"_blank\">Meta Azure Service Broker (MASB)</a> を使用すると、Cloud Foundry から直接 Azure Platform Services をプロビジョニングできます。 MASB GitHub ページでは、<a href=\"https://github.com/Azure/meta-azure-service-broker/blob/master/docs/how-admin-deploy-the-broker.md\" target=\"_blank\">Cloud Foundry にサービス ブローカーをインストール</a>する手順を示します。 <a href=\"https://osba.sh/\" target=\"_blank\">Open Service Broker</a> を使用することもできます。これは現在プレビュー段階ですが、最終的には生産性の高い環境に MASB を置き換えます。</p>\n\n<p>MASB をインストールすると、Azure サービスは Service Marketplace で使用できるようになります。 Cloud Foundry CLI または SAP CP コックピットを使用して、利用可能なサービスを参照できます。</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/fa923e1f-7f57-40b1-aa21-65c1c4e35bd4.png\"><img width=\"1500\" height=\"435\" title=\"image_3_cfmarketplacev3\" style=\"border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;\" alt=\"image_3_cfmarketplacev3\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/8cbd7ace-4c8f-4062-bc5e-592f2d321f5d.png\" border=\"0\"></a></p>\n\n<p>上記は、SAP で有効になっているサービスに加えて、有効になっているすべての Azure サービスを示しています。 これで、MASB for Azure によって公開されるサービスの使用を開始できます。 Marketplace で Azure Platform サービスに接続するには、Service Brokers を使用した標準的な Cloud Foundry パターンに従います。 サービスを作成し、Cloud Foundry Service Broker API と CLI を使用して 1 つまたは複数のアプリケーションにサービスをバインドします。</p>\n\n<p><a href=\"https://github.com/Azure/meta-azure-service-broker\" target=\"_blank\">MASB GitHub</a>の各サービスに対して指定するパラメーターを見つけることができます。 例として Azure CosmosDB を作成してみましょう。 次の構成を使用します。</p>\n\n<pre>{\n   \"resourceGroup\": \"Tests.SAPCPMetaServiceBroker\",\n   \"cosmosDbAccountName\": \"samplecosmosaccount\",\n   \"cosmosDbName\": \"samplecosmosdatabase\",\n   \"location\": \"westeurope\",\n   \"kind\": \"DocumentDB\"\n}</pre>\n\n<p>CloudFoundry CLI コマンドを使用して新しいサービスを作成し、Cloud Foundry にそのことを認識します。</p>\n\n<pre>&gt;cf create-service azure-cosmosdb-xxxxxxx-xxxx-xxxx-xxxx-45337ac75764 standard samplecosmosdb -c C:\\Temp\\params.json\n\nCreating service instance samplecosmosdb in org xxxxxxxtrial_trial / space dev as xxx@live.com...\nOK\n\nCreate in progress. Use 'cf services' or 'cf service samplecosmosdb' to check operation status.\n\nAttention: The plan `standard` of service `azure-cosmosdb- xxxxxxx-xxxx-xxxx-xxxx-45337ac75764` is not free.  The instance `samplecosmosdb` will incur a cost.  Contact your administrator if you think this is in error.\n\n&gt; cf service samplecosmosdb\n\nShowing info of service samplecosmosdb in org xxxxxxxtrial_trial / space dev as  xxx@live.com...\n\nname:            samplecosmosdb\nservice:         azure-cosmosdb-xxxxxxx-xxxx-xxxx-xxxx-45337ac75764\nbound apps:\ntags:\nplan:            standard\ndescription:     Azure CosmosDb Service (dev)\ndocumentation:\ndashboard:\n\nShowing status of last operation from service samplecosmosdb...\n\nstatus:    create succeeded\nmessage:   Created the cosmosDb\nstarted:   2018-06-20T14:39:23Z\nupdated:   2018-06-20T14:44:33Z</pre>\n\n<p>CosmosDB インスタンスは、コックピットの [サービス インスタンス] タブにも表示されます。</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/b03c4a77-727d-4476-b0b8-78f4e655ad72.png\"><img width=\"1746\" height=\"456\" title=\"Image_4_CosmosDBSucceed\" style=\"border: 0px currentcolor; border-image: none; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;\" alt=\"Image_4_CosmosDBSucceed\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/c64f9146-7d74-43ef-8c5b-18f5f8b43cdf.png\" border=\"0\"></a></p>\n\n<p>最後に、cf bind-service コマンドを使用して、デプロイした任意のアプリケーションにサービスをバインドできます。 構成パラメーターは、Meta Azure Service Broker GitHubの各サービスのドキュメントに従って環境変数を介して公開されます。 上記のすべての手順は、SAP Cloud Platform Cockpit を使用して実行することもできます。</p>\n\n<h2>次の手順</h2>\n\n<p>SAP Cloud Platform を使用した SAP 開発では、近日中により多くの Azure リージョンが利用できるようになる予定です。&nbsp;<a href=\"https://github.com/Azure/open-service-broker-azure\" target=\"_blank\">Open Service Broker</a> for Azure でサービスが増えるにつれて、Meta Azure Service Broker が卒業し、最終的に置き換えられます。 より多くのリージョンと、より多くの Azure サービスに接続する機能により、SAP クラウドの開発要件が効果的に丸められると予想されます。</p>"
}