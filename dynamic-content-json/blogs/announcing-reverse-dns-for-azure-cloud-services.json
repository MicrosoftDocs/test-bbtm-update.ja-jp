{
    "Slug": "announcing-reverse-dns-for-azure-cloud-services",
    "Title": "発表: Azure Cloud Services の逆引き DNS",
    "Summary": "Getting started with reverse DNS  for Azure Cloud Services using PowerShell",
    "Content": "Azure Cloud Servicesでは、すべての PaaS および IaaS Cloud Servicesの逆引き DNS レコードがサポートされるようになりました。 このサポートは、既存のすべてのCloud Servicesと下位互換性があり、追加料金なしで提供されています。 この機能は、現在、Service Management API と PowerShell を使用してサポートされています。\n<h3>逆引き DNS レコードとは</h3>\n<strong></strong>逆引き DNS レコードは、呼び出し元を弱く認証するためにさまざまな状況で使用されます。 たとえば、逆引き DNS レコードは、電子メール メッセージの送信者が逆引き DNS レコードを持つホストから送信されたことを確認し、必要に応じて、そのホストが送信元ドメインから電子メールを送信する権限を持つホストとして認識されたことを確認することによって、電子メール スパムと戦うために広く使用されます。\n\n逆引き DNS レコード (PTR レコード) は、IP を名前に変換できる DNS レコードの種類です。 DNS では、app1.contoso.com などの名前は、転送解決と呼ばれるプロセス内の IP に解決されます。 逆引き DNS では、このプロセスは逆引きされ、IP を指定した名前の解決が有効になります。\n\n逆引き DNS レコードの詳細については、 <a href=\"https://en.wikipedia.org/wiki/Reverse_DNS_lookup\">こちらを</a>参照してください。\n<h3>逆引き DNS レコードAzure サポートする方法</h3>\n<strong></strong>Azure では、カスタム完全修飾ドメイン名 (FQDN) を指定できます。 これにより、クラウド サービス アドレス (\"contosoapp1.cloudapp.net\"など)、または独自のドメイン内のバニティ名 (\"app1.contoso.com\"など) を指定できます。\n<h3></h3>\n<h3>逆引き DNS レコードの検証</h3>\nAzure では、サード パーティがお客様の DNS ドメインにマッピングされた逆引き DNS レコードを作成できないようにするために、以下のいずれかに該当する場合のみ逆引き DNS レコードを作成できるようにしています。\n<ul>\n    <li>逆引き DNS の FQDN が、その逆引き DNS で指定されたクラウド サービスの名前か、または同じサブスクリプションに含まれるいずれかのクラウド サービスの名前である (例: 逆引き DNS が \"contosoapp1.cloudapp.net\" である)。</li>\n    <li>逆引き DNS の FQDN が、その逆引き DNS で指定されたクラウド サービスの名前または IP か、同じサブスクリプションに含まれるいずれかのクラウド サービスの名前または IP に対して前方解決される (例: 逆引き DNS が、contosoapp1.cloudapp.net の CName エイリアスの \"app1.contoso.com\" である )。</li>\n</ul>\n検証チェックが実行されるのは、クラウド サービスの逆引き DNS プロパティの設定時または変更時のみです。 定期的な再検証は行われません。\n<h2>作業の開始</h2>\nAzure PowerShellの使用を開始するには、「<a href=\"https://azure.microsoft.com/en-us/documentation/articles/install-configure-powershell/\">Azure PowerShellをインストールして構成する方法」を</a>参照してください。バージョン 0.8.5 以降を使用する必要があることに注意してください。 Azure Service Management API を使用して、Cloud Servicesの逆引き DNS レコードを管理することもできます。\n<h3>既存のCloud Servicesへの逆引き DNS の追加</h3>\n<strong></strong>\"Set-AzureService\" コマンドレットを使用して、既存のクラウド サービスに逆引き DNS を追加できます。\n<pre class=\"prettyprint\">PS C:\\&gt; Set-AzureService –ServiceName “contosoapp1” –Description “App1 with Reverse DNS” –ReverseDnsFqdn “contosoapp1.cloudapp.net.”</pre>\n<h3>逆引き DNS を使用した新しいクラウド サービスの作成</h3>\n逆引き DNS プロパティを指定して新しいクラウド サービスを追加するには、“Set-AzureService” コマンドレットを使用します。\n<pre class=\"prettyprint\">PS C:\\&gt; New-AzureService –ServiceName “contosoapp1” –Location “West US” –Description “App1 with Reverse DNS” –ReverseDnsFqdn “contosoapp1.cloudapp.net.”</pre>\n<h3>既存のクラウド サービスの逆引き DNS の表示</h3>\n既存のクラウド サービスで構成されている値を確認するには、“Get-AzureService” コマンドレットを使用します。\n<pre class=\"prettyprint\">PS C:\\&gt; Get-AzureService \"contosoapp1\"</pre>\n<h3>既存のCloud Servicesから逆引き DNS を削除する</h3>\n既存のクラウド サービスから逆引き DNS プロパティを削除するには、“Set-AzureService” コマンドレットを使用します。 この操作を行うには、逆引き DNS プロパティの値を空白にします。\n<pre class=\"prettyprint\">PS C:\\&gt; Set-AzureService –ServiceName “contosoapp1” –Description “App1 with Reverse DNS” –ReverseDnsFqdn “”</pre>\n<h2>よく寄せられる質問</h2>\n<strong>逆引き DNS レコードのコストはどのくらいですか?</strong>\n無料です。逆引き DNS レコードまたはクエリに追加コストはかかりません。\n\n<strong>逆引き DNS レコードはインターネットから解決しますか?</strong>\nはい。 Cloud Services の逆引き DNS プロパティを設定すると、Azure は、すべてのインターネット ユーザーについて逆引き DNS レコードを解決するために必要なすべての DNS 委任と DNS ゾーンを管理します。\n\n<strong>Cloud Services の既定の逆引き DNS レコードは作成されますか?</strong>\nいいえ。 逆引き DNS はオプトイン機能になります。 既定の逆引き DNS レコードは、構成しない場合は作成されません。\n\n<strong>完全修飾ドメイン名 (FQDN) の形式とは何ですか?</strong>\nFQDN は順方向で指定します。末尾にはドットを指定する必要があります (例: “app1.contoso.com.”)。\n\n<strong>指定した逆引き DNS の検証チェックが失敗すると、どうなりますか?</strong>\n逆引き DNS の検証チェックが失敗すると、サービス管理操作は失敗します。 必要に応じて逆引き DNS 値を修正し、再試行してください。\n\n<strong>Azure Websites では逆引き DNS を管理できますか?</strong>\nAzure Websites では、逆引き DNS はサポートされていません。 Azure PaaS ロールと IaaS 仮想マシンでは、逆引き DNS がサポートされます。\n\n<strong>Cloud Services 用に複数の逆引き DNS を構成できますか?</strong>\nいいえ。 Azure は、Azure クラウド サービスごとに 1 つの逆引き DNS レコードをサポートしています。 ただし、各 Azure Cloud Services は、独自の逆引き DNS レコードを持つことができます。"
}