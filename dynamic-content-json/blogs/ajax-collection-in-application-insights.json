{
    "Slug": "ajax-collection-in-application-insights",
    "Title": "アプリケーション インサイトの AJAX コレクション",
    "Summary": "We’re excited to announce that Application Insights will now automatically tell you about the performance of AJAX calls made by your web page apps.",
    "Content": "<p><a><font color=\"#000000\">Web&rsquo; </font></a><a href=\"https://azure.microsoft.com/services/application-insights/\"></a><font color=\"#000000\"> ページ アプリによって行われた AJAX 呼び出しのパフォーマンスについて、Application インサイト が自動的に通知されることをお知らせします。多くの最新の Web アプリは基本的な構造を読み込み、AJAX 呼び出しを使用してコンテンツを読み込みます。</font><a><font color=\"#000000\">失敗または</font></a><font color=\"#000000\">低速の AJAX 呼び出しにより、ユーザーは空の Web パーツやスタックした進行状況バーを見たままになります。</font></p>\n\n<p><font color=\"#000000\">この新機能を使用すると&rsquo;、AJAX に依存する機能が問題を引き起こすかどうかを確認できます。何より、それを実現するために追加の構成を行う必要はありません&rsquo;。AJAX 呼び出しに関するテレメトリは JavaScript Web クライアント SDK の関数であるため、アプリケーション インサイト用に Web ページを設定していることを確認してください&rsquo;</font><a href=\"https://azure.microsoft.com/documentation/articles/app-insights-javascript/\"></a><font color=\"#000000\">。</font></p>\n\n<h2><font color=\"#000000\">AJAX の問題の診断</font></h2>\n\n<p><a><font color=\"#000000\"></font></a><font color=\"#000000\"> AJAX 呼び出しによって発生した&rsquo;問題を調べるにはどうすればよいですか?また、新機能を使用して修正する方法を教えてください。</font></p>\n\n<p><font color=\"#000000\">[設定]、[ブラウザー] の順にクリックしてブラウザー ブレードを開くか、[サービスの概要] ブレードでブラウザー グラフの [ページ ビュー期間] をクリックします。</font></p>\n\n<p><font color=\"#000000\">依存関係呼び出し、依存関係エラー、依存関係期間の 3 つのグラフは、AJAX 呼び出しの動作の概要を示しています。これらのグラフのいずれかを詳しく調べて、より多くの分析情報を収集します。 </font></p>\n\n<p><strong>メモ：</strong> これらの新しいグラフが表示されない場合は、[既定値に戻す] オプションを選択します。</p>\n\n<p><font color=\"#000000\"><img alt=\"3charts\" border=\"0\" height=\"461\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/d4390652-9bd3-4d1e-bb1b-e997a2ad6371.png\" style=\"border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin: 0px auto; display: block; padding-right: 0px; border-top-width: 0px\" title=\"3charts\" width=\"480\"></font></p>\n\n<p><font color=\"#000000\">この場合、依存関係は AJAX サーバーです。サーバー内の他の依存関係を追跡するのと同じ方法で、ブラウザーからの AJAX 呼び出しを追跡します。これらのグラフのフィルターを開くと&rsquo;、device.type = &ldquo;Browser でフィルター処理されていることがわかります。&rdquo;</font></p>\n\n<h3><font color=\"#000000\">これらのグラフを使用する方法</font></h3>\n\n<p><font color=\"#000000\"><strong>依存関係の期間</strong>: [依存関係の期間] グラフを使用して、応答にかかった時間を確認します。アプリケーションで許容される呼び出し期間を決定し、[依存関係の期間] グラフに表示される期間と比較できます。 </font></p>\n\n<p><a><font color=\"#000000\">別の</font></a><font color=\"#000000\"> 方法として、ユーザーへの応答を完了するのにかかる時間にコードを挿入し、trackMetric 呼び出しで報告する方法もあります。しかし、それはいくつかのコードに投資する必要がありますが、何も書かずにAJAX呼び出し期間を取得します。AJAX 呼び出しは、操作の中で最も長く信頼性の低い部分である可能性が高いため&rsquo;、通常は単独で測定するのに十分です。そのため、アプリの応答時間を正確に監視する方法には、アプリ&rsquo;固有のコードの記述が含まれますが、この一般的な方法ははるかに簡単で、ほぼ効果的です。 </font></p>\n\n<p><font color=\"#000000\"><strong>依存関係呼び出し</strong>: 依存関係呼び出しグラフでは、行われた呼び出しの数にすばやくアクセスできます。依存関係呼び出しグラフと依存関係エラーを比較して、失敗率を把握します。 </font></p>\n\n<p><font color=\"#000000\"><strong>依存関係のエラー</strong>: 障害が発生した場所に応じて、これは通常、顧客の不満を示します。応答コードが 400 以上の場合は、エラーとしてカウントされます。URI でグラフをフィルター処理し、その URI の呼び出しの合計数と失敗の数を比較して、発生頻度を確認します。</font></p>\n\n<p><font color=\"#000000\">依存関係グラフの下には、いくつかのグリッドがあります。<img alt=\"dependencybydependency\" border=\"0\" height=\"428\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/28b12f6f-ac33-4b60-ae9b-e0850b7cf291.png\" style=\"border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin: 0px auto; display: block; padding-right: 0px; border-top-width: 0px\" title=\"dependencybydependency\" width=\"480\"></font></p>\n\n<p><font color=\"#000000\"><strong>操作名別のページ ビュー期間の平均</strong>: このグリッドは、顧客がページの読み込みを待機している平均時間を示します。特定の操作名を詳しく調べて、より多くの分析情報を取得し、速度が低下している&#39;を見つけ出します。&nbsp; </font></p>\n\n<p><font color=\"#000000\"><strong>依存関係別の依存関係呼び出しの合計</strong>: このグリッドには、AJAX サーバー名でグループ化された AJAX 要求が表示されます。詳細については、任意のグラフをクリックしてください。Web アプリの中には、ホーム サーバーに AJAX 呼び出しを送信するものもあれば、他のサーバーで呼び出す Web アプリもあります。アプリが後者の 1 つである場合は、&rsquo;このグリッドを確認すると便利です。</font></p>\n\n<h2><font color=\"#000000\">ページの読み込みに時間がかかる</font></h2>\n\n<p><font color=\"#000000\">読み込み中にページが同期的に AJAX 呼び出しを行う&rsquo;場合、応答が遅いとページの読み込みが遅くなる可能性があります。</font></p>\n\n<p>[ブラウザー] ページには、操作名<font color=\"#000000\"><a><font color=\"#000000\">別のページ ビュー期間の平均</font></a>を<font color=\"#000000\">示すグリッドがあります&rsquo;</font>。 ページの読み込み時間が一目で表示されます。 読み込み速度が遅いページがある場合は、クリックすると、そのページに固有のブレードが表示されます。 これで、AJAX 依存関係呼び出し、依存関係の失敗、期間を示す同じグラフのセットが表示されますが、このページ名のためだけにフィルター処理されます。 任意の単一ページ ビュー ブレードにさらにドリルできます。 <img alt=\"ajax_3\" border=\"0\" height=\"322\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/5efd7a07-689c-4a04-abdd-0b453d450f0e.png\" style=\"border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin: 0px auto; display: block; padding-right: 0px; border-top-width: 0px\" title=\"ajax_3\" width=\"610\"></font></p>\n\n<p><font color=\"#000000\">このことから、ページの読み込みが遅い原因が AJAX 呼び出しによるものか、他のものによるものかを簡単に判断できます。</font></p>\n\n<h2><font color=\"#000000\">個々のページ読み込みの詳細ブレード</font></h2>\n\n<p><font color=\"#000000\">問題を診断するために、ページ読み込みの個々のインスタンスを調べることができます。他の詳細に加えて、AJAX 呼び出しというセクションが追加されました。これは、このページで行われた AJAX 呼び出しを示しています。これにより、呼び出し、かかった時間、成功した時間を確認できます。</font></p>\n\n<p><font color=\"#000000\"><img alt=\"individual_page_load_details_blade\" border=\"0\" height=\"480\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/9480fc0c-41bd-4df0-986f-5c17590ea197.png\" style=\"border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin: 0px auto; display: block; padding-right: 0px; border-top-width: 0px\" title=\"individual_page_load_details_blade\" width=\"378\"></font></p>\n\n<h2><font color=\"#000000\">AJAX 依存関係ブレード</font></h2>\n\n<p><font color=\"#000000\">単一ページ要求の詳細ブレードから、1 つの AJAX 呼び出しを選択できます。呼び出しを選択すると、この AJAX 呼び出しの新しい依存関係ブレードが開きます。ここでは、完全な URL を含む、この AJAX 呼び出しの特定のプロパティを確認できます。また、このブレードの [関連アイテム] セクションには、この AJAX 呼び出しが行われたページ ビュー ブレードへのリンクが&#39;。検索を使用して AJAX 依存関係ブレードに移動した場合は、ページ ビュー ブレードを調べることができます。AJAX 依存関係は他の依存関係の種類と同じように扱われるため、同様に表示されます。</font></p>\n\n<p><font color=\"#000000\"><img alt=\"ajax_details_blade\" border=\"0\" height=\"480\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/b0e53d90-aa43-4987-819f-34b8b5f51e07.png\" style=\"border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin: 0px auto; display: block; padding-right: 0px; border-top-width: 0px\" title=\"ajax_details_blade\" width=\"397\"></font></p>\n\n<h2><font color=\"#000000\">データ クォータ</font></h2>\n\n<p><font color=\"#000000\">アプリケーションによっては、AJAX 依存関係を収集すると、データ収集率が急激に増加する可能性があります。この増加により、アプリケーションのクォータに早く達する可能性があります。</font></p>\n\n<p><font color=\"#000000\">データの種類別にデータ ボリュームの内訳を表示するには、[設定] に移動し、[クォータと価格] を選択します。</font></p>\n\n<p><font color=\"#000000\"><img alt=\"pricing_ajax\" border=\"0\" height=\"480\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/b3a8b982-29e8-4a3d-81ba-2dc7c7f9068e.png\" style=\"border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: none; padding-top: 0px; padding-left: 0px; margin: 0px auto; display: block; padding-right: 0px; border-top-width: 0px\" title=\"pricing_ajax\" width=\"453\"></font></p>\n\n<p><font color=\"#000000\">グラフをクリックすると、特定のデータ型の詳細を表示できます。AJAX コレクションは 2015 年 12 月 23 日に開始されました。その日付の周りの依存関係が大きく急増していることに気付いた場合は、AJAX コレクションによってそれが発生した可能性が高いと思われます。&nbsp; </font></p>\n\n<h3><font color=\"#000000\">使用量を制限する</font></h3>\n\n<p>使用量を制限する場合は、いくつかのオプションがあります。</p>\n\n<ol>\n <li><font color=\"#000000\">サンプリングの使用: サンプリングに <a href=\"https://azure.microsoft.com/documentation/articles/app-insights-sampling/\">関するドキュメント ページ</a> を参照してください。</font></li>\n <li><font color=\"#000000\"><a href=\"https://github.com/Microsoft/ApplicationInsights-JS/blob/master/API-reference.md#config\">maxAjaxCallsPerView パラメーターを使用します</a>。</font></li>\n</ol>\n\n<pre class=\"prettyprint\">\n    // Default 500 - controls how many ajax calls will be monitored per page view.\n    // Set to -1 to monitor all ajax calls on the page.\n    maxAjaxCallsPerView: number;</pre>\n\n<p>3. AJAX 自動収集を無効にする: 次のセクションでオプトアウトする方法について説明します。</p>\n\n<h2><font color=\"#000000\">オプトアウト</font></h2>\n\n<p><a><font color=\"#000000\">AJAX 呼び出しは自動的に収集されます。これを無効にするには、構成ファイルに disableAjaxTracking: true を追加するだけです。詳細については、 </font></a><a href=\"https://github.com/Microsoft/ApplicationInsights-JS/blob/master/API-reference.md#config\">ドキュメントを参照してください</a><font color=\"#000000\">。</font></p>\n\n<h2><font color=\"#000000\">お知らせください&hellip;</font></h2>\n\n<p><font color=\"#000000\">Application インサイト JavaScript SDK は進行中です。問題や機能の要求については、リポジトリを参照してください</font><a href=\"https://github.com/Microsoft/ApplicationInsights-JS\"></a><font color=\"#000000\">。依存関係の収集全般の詳細については、<a href=\"https://azure.microsoft.com/documentation/articles/app-insights-dependencies/\">ドキュメント</a>を参照してください。</font></p>\n\n<p><a><font color=\"#000000\">アプリケーション インサイト チームは、開発者向けの品質ツールの提供に取り組んでいます。</font></a><font color=\"#000000\"> </font>フィードバックや新機能に関する推奨事項を大いに感謝します<font color=\"#000000\">。</font></p>\n"
}