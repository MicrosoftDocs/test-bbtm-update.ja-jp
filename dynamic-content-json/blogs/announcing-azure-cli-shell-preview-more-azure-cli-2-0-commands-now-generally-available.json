{
    "Slug": "announcing-azure-cli-shell-preview-more-azure-cli-2-0-commands-now-generally-available",
    "Title": "Azure CLI シェル (プレビュー) の発表;その他の Azure CLI 2.0 コマンドが一般公開されました",
    "Summary": "Following up on the generally available release of VM, ACS, Storage and Network commands in the new Azure CLI 2.0, we are today announcing a new Azure CLI interactive Shell preview mode release, in addition to the generally available release of following command modules: ACR, Batch, KeyVault, and SQL.",
    "Content": "<p><a href=\"https://azure.microsoft.com/en-us/blog/announcing-general-availability-of-vm-storage-and-network-azure-cli-2-0/\">新しい Azure CLI 2.0 での VM、ACS、Storage、およびネットワーク コマンドの一般公開リリース</a>に続き、ACR、Batch、KeyVault、SQLの一般公開リリースに加えて、新しい Azure CLI 対話型シェル プレビュー モード リリースを発表します。</p>\n\n<h2>対話型シェル</h2>\n\n<p>Azure CLI 2.0 には、Bash および POSIX ツールとネイティブに統合される慣用的なコマンド ライン インターフェイスが用意されています。 インストール、使用、学習が簡単です。 これを使用すると、一度に 1 つのコマンドを実行したり、他の BASH コマンドを含む複数のコマンドで構成される自動化スクリプトを実行したりできます。 これをサポートするために、コマンドは対話型ではなく、入力が不完全または正しくない場合はエラーになります。</p>\n\n<p>ただし、Azure CLI&rsquo; の機能、コマンド構造、出力形式を学習する場合など、対話型エクスペリエンスを好む場合があります。 Azure CLI Shell (az-shell) には、Azure CLI 2.0 コマンドを実行する対話型モードが用意されています。 各コマンドの使用方法の例を含め、オートコンプリートドロップダウン、自動キャッシュ候補をオンザフライドキュメントと組み合わせて提供します。 Azure CLI シェルは、Azure CLI コマンドの学習と使用を容易にするエクスペリエンスを提供します。</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/4ff2cb77-e969-4107-b0bf-c008148d580b.jpg\"><img alt=\"Azure CLI Shell\" border=\"0\" height=\"480\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/354e3a8a-7cfa-4868-80c1-fdac7577a2d8.jpg\" style=\"border: 0px currentColor; border-image: none; padding-top: 0px; padding-right: 0px; padding-left: 0px; margin-right: auto; margin-left: auto; float: none; display: block; background-image: none;\" title=\"Azure CLI シェル\" width=\"529\"></a></p>\n\n<p>Azure CLI 2.0 用の新しい対話型シェルをインストールして使用することをお勧めします。 これを作成した <a href=\"https://hub.docker.com/r/azuresdk/azure-cli-shell/\">Docker イメージ</a>で使用することも、Mac または Windows コンピューターにローカルに<a href=\"https://github.com/azure/azure-cli-shell#installation\">インストール</a>することもできます。 既存の Azure CLI インストールで動作し、az-shell または選択した別のコマンド シェル (MAC/linux では BASH、Windowsでは cmd.exe) でコマンドをサイド バイ サイドで使用できます。</p>\n\n<h2>新しいコマンドが一般公開されました</h2>\n\n<p>2 月 27 日に最初の Azure CLI 2.0 コマンド モジュールの GA リリースの勢いを続けて、本日は、Azure Container Registry、Batch、KeyVault、およびSQLのコマンド モジュールが一般公開されたことをお知らせします。 この GA リリースでは、Microsoft のAzure サポート チャネルまたはGitHubを通じて、Microsoft から完全なサポートを受け、運用環境でこれらのコマンドを使用できます。 &rsquo;Azure CLI 2.0 の今後のリリースでは、これらのコマンドの破壊的変更は想定されていません。</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/azure/container-registry/\">Azure Container Registry</a>を使用すると、開発者は Azure コンテナー レジストリを作成して管理し、プライベート Docker コンテナー イメージを格納および管理できます。 Azure CLI 2.0 の <a href=\"https://docs.microsoft.com/en-us/cli/azure/acr\">acr コマンド</a> を使用すると、コマンド ラインからこれらのレジストリを作成および管理できます。 レジストリを作成したら、他の CLI コマンドを使用してサービス プリンシパルを割り当て、管理者資格情報を管理し、その中のリポジトリを一覧表示できます。</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/azure/batch/\">Azure Batch</a> サービスは、開発者がコンピューティング リソースを管理したり、特定のリソースと依存関係を使用して実行するようにジョブをスケジュールしたりするために使用できる環境を提供します。 Azure CLI 2.0 の<a href=\"https://docs.microsoft.com/en-us/cli/azure/batch\">バッチ コマンド</a>を使用すると、そのアカウントにAzure Batchアカウント、アプリケーション、アプリケーション パッケージを作成できます。 特定の時刻に実行するジョブ、タスク、ジョブ スケジュールを作成し、コマンド ラインから直接管理 (作成、更新、削除) することもできます。</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/azure/key-vault/key-vault-whatis\">Azure Key Vault</a>は、クラウド アプリケーションとサービスで使用される暗号化キーとシークレットを保護するのに役立ちます。 開発者とセキュリティ管理者は、このサービスを使用して、キーの生成、保存とアクセス、ポリシーの設定、使用状況の監視を行うことができます。 Azure CLI 2.0 の <a href=\"https://docs.microsoft.com/en-us/cli/azure/keyvault\">keyvault コマンド</a> を使用すると、キー コンテナーの作成/削除、証明書の管理、ポリシー、新しいキーのインポートと作成、キー コンテナーへのシークレットの設定を行うことができます。</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/azure/sql-database/\">Azure SQL Database</a>は、Microsoft SQL Server エンジンを使用するサービスとしてのリレーショナル データベースです。 Azure CLI 2.0 の <a href=\"https://docs.microsoft.com/en-us/cli/azure/sql\">SQL コマンド</a>を使用すると、コマンド ラインからこのサービスのすべての側面を管理できます。サーバーの作成/削除/SQL 更新、データベースとデータ ウェアハウスの作成/削除/更新、エラスティック プールの作成や共有プールとの間でのデータベースの移動などによって個別にスケーリングできます。</p>\n\n<p>上記のコマンドが一般公開されているだけでなく、新しいリリースには、プレビュー モードで利用できる開発/テスト ラボ (<em>ラボ</em>) および監視 (<em>監視</em>) サービス用のコマンド モジュールも含まれています。</p>\n\n<h2>Azure CLI 2.0 の新機能</h2>\n\n<p>このリリースには、Azure CLI の操作が簡単で生産性が向上するいくつかの新機能も含まれています。</p>\n\n<p>&ldquo;Az find&rdquo; は、単純なテキストに基づいて Azure CLI 2.0 コマンドを検索するための新しいコマンドです。 Azure CLI 2.0 で Azure サービスのコマンド数とカバレッジが増えるにつれて、開発者が特定のタスクに必要なコマンドを見つけるのが難しくなる可能性があることを認識しています。</p>\n\n<p>たとえば、次のコマンドは、テキスト &ldquo;アーム、テンプレート、&rdquo;&rdquo;&ldquo;または&ldquo;デプロイを含むすべての Azure CLI 2.0 コマンドを検索します。&rdquo;</p>\n\n<pre class=\"prettyprint\">\naz find -q arm template deploy\n\n`az monitor autoscale-settings get-parameters-template`\n    Scaffold fully formed autoscale-settings&#39; parameters as json\n    template\n\n`az group export`\n    Captures a resource group as a template.\n\n`az group`\n    Manage resource groups and template deployments.\n\n`az group deployment export`\n    Export the template used for the specified deployment.\n\n`az group deployment create`\n    Start a deployment.\n\n`az group deployment validate`\n    Validate whether the specified template is syntactically correct\n    and will be accepted by Azure Resource Manager.\n\n`az vm capture`\n    Captures the VM by copying virtual hard disks of the VM and\n    outputs a template that can be used to create similar VMs.\n    For an end-to-end tutorial, see https://docs.microsoft.com/azure\n    /virtual-machines/virtual-machines-linux-capture-image.\n\n`az keyvault certificate get-default-policy`\n    Get a default policy for a self-signed certificate\n    This default policy can be used in conjunction with `az keyvault\n    create` to create a self-signed certificate. The default policy\n    can also be used as a starting point to create derivative\n    policies.   Also see: https://docs.microsoft.com/en-\n    us/rest/api/keyvault/certificates-and-policies\n\n`az keyvault certificate create`\n    Creates a new certificate version. If this is the first version,\n    the certificate resource is created.\n    Create a Key Vault certificate. Certificates can also be used as a\n    secrets in provisioned virtual machines.\n\n`az vm format-secret`\n    Format secrets to be used in `az vm create --secrets`\n    Transform secrets into a form consumed by VMs and VMSS create via\n    --secrets.\n</pre>\n\n<p>コマンド ライン セッション内で繰り返し使用する必要がある特定の変数とリソースのグローバルな既定値とスコープを設定できるようになりました。 az configure&rdquo; コマンドを使用して、次の既定値を&ldquo;設定できます。</p>\n\n<pre class=\"prettyprint\">\naz configure --defaults group=MyResourceGroup</pre>\n\n<p>これにより、このパラメーターを&ldquo;必要とする後続のコマンドでパラメーターとして指定する必要がないように&rsquo;、リソース グループが MyResourceGroup&rdquo; に設定されます。 たとえば、リソース グループ パラメーターを &ldquo;明示的に指定せずに vm show&rdquo; コマンドを実行できます。</p>\n\n<pre class=\"prettyprint\">\naz vm show -n MyLinuxVM\n\nName       ResourceGroup    Location\n---------  ---------------  ----------\nMyLinuxVM  MyResourceGroup  westus2\n</pre>\n\n<p>az configure&rdquo; コマンドでリソース名と値&gt;のペアで&lt;一覧表示することで、複数の既定値を指定することもできます。また、configure コマンドで&ldquo;空の値を設定するだけでリセットできます。</p>\n\n<h2>Azure CLI 2.0 の使用を今すぐ開始してください。</h2>\n\n<p>既存の CLI ユーザーであるか、新しい Azure プロジェクトを開始しているかに関係なく、&rsquo;CLI を <a href=\"https://docs.microsoft.com/en-us/cli/azure/install-azure-cli\">直接</a>開始することも、 <a href=\"https://github.com/azure/azure-cli-shell#installation\">対話型モード</a> を使用して、更新された <a href=\"https://docs.microsoft.com/en-us/cli/azure/\">ドキュメントとサンプル</a>を使用してコマンド ラインをマスターすることもできます。</p>\n\n<p>Azure CLI 2.0 はオープンソースされ、<a href=\"https://github.com/azure/azure-cli\">GitHub</a>。</p>\n\n<p>今後数か月で、&rsquo;より多くの更新プログラムが提供されます。 これまでどおり、継続的なフィードバックが必要です。 現在 GA リリース中のコマンドを使用しているお客様は、Azure サポートに連絡して問題が発生した場合、Azure cli タグを使用して StackOverflow 経由で問い合わせるか、直接メールでご azfeedback@microsoft.com連絡ください。 CLI 内から az feedback&quot; コマンドを&quot;直接使用して、フィードバックを送信することもできます。</p>\n"
}