{
    "Slug": "announcing-new-and-improved-datastax-cluster-deployment-experience-on-azure-marketplace",
    "Title": "Azure Marketplaceでの DataStax クラスターの新しいデプロイ エクスペリエンスと改善されたエクスペリエンスの発表",
    "Summary": "Earlier this week at WPC 2015, we launched a new and improved DataStax Cassandra cluster (BYOL) deployment experience on Azure. In a single click, you can deploy 4, 12 or 36 nodes (VMs) running fantastic power of DataStax. ",
    "Content": "<p>今週初めに <a href=\"https://mspartner.microsoft.com/en/us/Pages/WPC/overview.aspx\">WPC</a> 2015 で、Azure で新しく改良された <a href=\"https://portal.azure.com/#create/datastax.datastax-enterprise-clusterbyol-production\">DataStax Cassandra クラスター (BYOL)</a> デプロイ エクスペリエンスを開始しました。 1 回のクリックで、DataStax の素晴らしいパワーを実行する 4、12、または 36 個のノード (VM) をデプロイできます。 このブログの投稿では、このクラスターをデプロイするために必要な手順について説明します。</p>\n\n<h2>DataStax について</h2>\n\n<p><a href=\"https://datastax.com/\">DataStax</a> は、IOT、Web、モバイル アプリケーションのパフォーマンスと可用性の要求に合わせて構築されたデータベース プラットフォームの目的で Apache Cassandra を提供し、1 つのデータセンターまたは複数のデータ センターとクラウドでスケーリングする場合でも運用上簡単なセキュリティで保護された Always-on データベースを企業に提供します。 DataStax Enterpriseには、DataStax Enterprise Server、DataStax OpsCenter &amp; Expert サポートおよびサービスが含まれます。</p>\n\n<h2>Azure Marketplaceでの DataStax の現在のオファー</h2>\n\n<p>Azure Marketplaceでは、現在 2 つのオファーを利用できます。</p>\n\n<ol>\n <li><a href=\"https://portal.azure.com/#create/datastax.datastax-enterprise-clusterbyol-production\">DataStax Enterprise クラスター</a> -このテンプレートは運用環境で使用します。 これらの Marketplace オファーの承認済みの使用については、適切なライセンスが必要です。 DataStax ライセンスが既にある場合は、既存の DataStax ログインとパスワードを使用できます。 そうでない場合は、 <a href=\"https://www.datastax.com/download\">ここに</a>登録できます。</li>\n <li><a href=\"https://portal.azure.com/#create/datastax.datastax-enterprise-non-production-use-onlysandbox_single-node.1.45.226\">DataStax Enterprise サンドボックス、単一ノード (非prod)</a> &ndash;&nbsp;このテンプレートは、サンドボックスの開発とテストに最適な単一ノード クラスターをデプロイします。 さらに、このオファーにはライセンスは必要ありません&rsquo;が、DataStax では <a href=\"https://www.datastax.com/download\">ここで</a> も登録することをお勧めします。</li>\n</ol>\n\n<h2>Azure Marketplaceでの DataStax Enterprise クラスターのデプロイ</h2>\n\n<p>Azure Marketplace で現在の DataStax オファーを表示するには、Marketplace に移動し、検索バーで DataStax&rsquo; を検索&lsquo;します。 <img alt=\"datastaxmarketplace1\" border=\"0\" height=\"301\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/datastaxmarketplace1.png\" style=\"background-image: none; float: none; padding-top: 0px; padding-left: 0px; margin-left: auto; display: block; padding-right: 0px; margin-right: auto; border-width: 0px;\" title=\"datastaxmarketplace1\" width=\"610\"> 特定のオファーの選択が完了したら、作成プロセスを実行し、ユーザー名、パスワード、ClusterName、リージョンなどの詳細を含む&ndash;クラスターデプロイの基本&rsquo;構成を入力&lsquo;してください <img alt=\"datastaxmarketplace2\" border=\"0\" height=\"353\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/datastaxmarketplace2.png\" style=\"background-image: none; float: none; padding-top: 0px; padding-left: 0px; margin: 0px auto; display: block; padding-right: 0px; border-width: 0px;\" title=\"datastaxmarketplace2\" width=\"610\"> &nbsp; 次の手順では、以下の説明に従って DatatStax クラスター設定を指定する必要があります。</p>\n\n<h2>クラスター のサイズ</h2>\n\n<p>現在のEnterprise クラスター オファリングでは、DataStax Enterprise ノード (4、12、または 36 ノード) のクラスターをデプロイできます。 デプロイする前に、Standard_D12 VM サイズでそれぞれ 4、12 &amp; 36 ノード クラスターをデプロイするには、Resource Manager スタック&rsquo;に&lsquo;少なくとも 17 個、49 &amp; 個の 145 コアが必要であることに注意してください。 サブスクリプションの現在のクォータは、PowerShell または Azure CLI を使用していつでも確認できます。 詳細については、<a href=\"https://azure.microsoft.com/en-us/documentation/articles/resource-group-deploy-debug/#authentication-subscription-role-and-quota-issues\">こちら</a>を参照してください。 20 コアを超えるクラスターをデプロイするには、既定の Azure コア クォータを増やす必要があります。 調整するには、Microsoft サポートにお問い合わせください。 サポートリクエストの作成方法の詳細については、<a href=\"https://azure.microsoft.com/en-us/documentation/articles/resource-group-deploy-debug/#authentication-subscription-role-and-quota-issues\">こちらをご覧ください</a>。スタック クォータのResource Managerの詳細については、<a href=\"https://azure.microsoft.com/en-us/documentation/articles/azure-subscription-service-limits/\">こちらを参照してください</a>。</p>\n\n<h2>仮想マシンのサイズ</h2>\n\n<p>クラスターは最適化されており、現在、次の仮想マシン サイズで現在サポートされています</p>\n\n<ul>\n <li>Standard_D12</li>\n <li>Standard_D13</li>\n <li>Standard_D14</li>\n <li>Standard_G2</li>\n <li>Standard_G3</li>\n <li>Standard_G4</li>\n <li>Standard_G5</li>\n</ul>\n\n<h2>DataStax Enterprise 資格情報</h2>\n\n<p>DataStax ライセンスが既にある場合は、既存の DataStax ログインとパスワードを使用できます。 そうでない場合は、ここに登録できます。 <a href=\"https://www.datastax.com/download\">https://www.datastax.com/download</a> ダウンロード資格情報が電子メールで送信されます。 <img alt=\"datastaxmarketplace5\" border=\"0\" height=\"480\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/datastaxmarketplace5.png\" style=\"background-image: none; float: none; padding-top: 0px; padding-left: 0px; margin: 0px auto; display: block; padding-right: 0px; border-width: 0px;\" title=\"datastaxmarketplace5\" width=\"459\"> &nbsp;クラスターの構成が完了したら、構成を確認し、完成したテンプレートをダウンロード&rdquo;する&ldquo;オプションも用意されているので、テンプレートの動作を確認したり、後でプログラムでデプロイしたりできます。 <img alt=\"datastaxmarketplace6\" border=\"0\" height=\"487\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/datastaxmarketplace6.png\" style=\"background-image: none; float: none; padding-top: 0px; padding-left: 0px; margin: 0px auto; display: block; padding-right: 0px; border: 0px;\" title=\"datastaxmarketplace6\" width=\"610\"> ダウンロードしたテンプレートの簡単なスニペットを次に示&rsquo;します <img alt=\"datastaxmarketplace9\" border=\"0\" height=\"473\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/datastaxmarketplace9.png\" style=\"background-image: none; float: none; padding-top: 0px; padding-left: 0px; margin: 0px auto; display: block; padding-right: 0px; border: 0px;\" title=\"datastaxmarketplace9\" width=\"610\"> 完了したら、&lsquo;Azure Marketplaceを通じてオファーを購入&rsquo;し&lsquo;、クラスターを作成&rsquo;します。 DataStax クラスターは &lsquo;BYOL&rsquo; であるため、これらのクラスターには通常のコンピューティング、ネットワーク &amp; Storage コストが発生します。 通常、デプロイには、要求されたノードの数に応じて 15 分から 45 分かかります。</p>\n\n<h2>DataStax クラスターへのアクセス</h2>\n\n<p>完了すると、DataStax OpsCenter は <a href=\"https://%7bclustername%7d.%7bregion%7d.cloudapp.azure.com:8443/\">https://{clusterName}でアクセスできるようになります。region}.cloudapp.azure.com:8443</a>。 たとえば、次のようになります。 <a href=\"https://cloudguycluster.eastus.cloudapp.azure.com:8443\">https://cloudguycluster.eastus.cloudapp.azure.com:8443</a> OpsCenter の既定のユーザー名は admin です。パスワードは、テンプレート入力パラメーターで指定された管理者パスワードに設定されます。</p>\n\n<h2>トラブルシューティングのヒント</h2>\n\n<p>デプロイ中にエラーが発生した場合は、次に示すように、Azure プレビュー ポータルのリソース グループに移動してください <img alt=\"datastaxmarketplace10\" border=\"0\" height=\"303\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/datastaxmarketplace10.png\" style=\"background-image: none; float: none; padding-top: 0px; padding-left: 0px; margin: 0px auto; display: block; padding-right: 0px; border: 0px;\" title=\"datastaxmarketplace10\" width=\"610\"> [イベント&rdquo;] ブレードで失敗したバケットを&ldquo;選択します。 さらに、失敗した操作を &ldquo;選択します&rdquo;。 この場合は、Microsoft.Compute/virtualMachines リソースのデプロイでした。 <img alt=\"datastaxmarketplace7\" border=\"0\" height=\"348\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/datastaxmarketplace7.png\" style=\"background-image: none; float: none; padding-top: 0px; padding-left: 0px; margin: 0px auto; display: block; padding-right: 0px; border: 0px;\" title=\"datastaxmarketplace7\" width=\"610\"> &rsquo;正しい操作を選択したら、イベントの正確なセットを調べ、最も古いエラー イベントを見つけて、実際のエラーが何であるかを確認できます。 この特定のケースでは、その特定のリージョンに十分なコアが不足していました。 詳細&rdquo;ブレードの [プロパティ&rsquo;] セクションに&lsquo;次の&ldquo;状態メッセージが表示されます。{&quot;error&quot;:{&quot;code&quot;:&quot;OperationNotAllowed,message&quot;&quot;&quot;:&quot;Operation の結果、コアのクォータ制限を超えます。 許可される最大数: 20、現在の使用中: 17、追加要求済み: 16.&quot;}}発生する可能性があるその他の一般的なエラーには、Storage アカウントの DNS 名が使用できないか、パブリック IP アドレス名が含まれます。 一意のクラスター名を指定すると、これらのエラーは回避されます。 <img alt=\"datastaxmarketplace8\" border=\"0\" height=\"373\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/datastaxmarketplace8.png\" style=\"background-image: none; float: none; padding-top: 0px; padding-left: 0px; margin: 0px auto; display: block; padding-right: 0px; border: 0px;\" title=\"datastaxmarketplace8\" width=\"610\"></p>\n"
}