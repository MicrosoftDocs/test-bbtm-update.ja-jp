{
    "Slug": "advancing-the-outage-experience-automation-communication-and-transparency",
    "Title": "停止エクスペリエンス (自動化、通信、透明性) の推進",
    "Summary": "As part of our Advancing Reliability blog series, we're outlining the investments we’re making to continue improving the outage experience.",
    "Content": "<p>&ldquo;停止などのサービス インシデントは、テクノロジ業界にとって不運な必然性です。 もちろん、Microsoft Azure クラウド プラットフォームの信頼性は常に向上しています。 Microsoft は、大部分のお客様に対してサービス レベル アグリーメント (SLA) を満たし、それを超え、ミッション クリティカルなシステムを自信を持って設計および運用することを容易にする進化するツールとトレーニングに投資し続けています。</p>\n\n<p>これらの取り組みにもかかわらず、私たちは、運用の規模と変化&mdash;のペースが完全に停止を避けることができないという不運な現実&mdash;を認識しています。 これらの期間中は、影響を受けるすべての顧客とパートナーが何が起こっているかを&rsquo;確実に理解できるように、できるだけオープンで透明になるように努めています。 <a href=\"https://azure.microsoft.com/en-us/blog/tag/advancing-reliability/\" target=\"_blank\">「高い信頼性」ブログシリーズ</a>の一環として、停止通信プロセスを監督するプリンシパル・プログラム・マネージャーの<strong>サーミ・クバ</strong>氏に、このエクスペリエンスを改善し続けるために必要な投資&rsquo;の概要を説明するよう依頼しました。&rdquo;&mdash;Mark Russinovich、CTO、Azure</p>\n\n<hr>\n<p>&nbsp;</p>\n\n<p>クラウド業界では、お客様に最新のテクノロジを大規模に導入し、お客様とプラットフォームを安全に保ち、カスタマー エクスペリエンスが常に最適であることを保証するというコミットメントを持っています。 これが起こるために、Azure はまれな状況で大幅な変更&mdash;の影響を受けます。これは、お客様に意図しない影響をもたらす可能性のあるこの変更です。 この一連のブログ記事で既に述べたように、私たちは変更を非常に真剣に受け止め、可能な限り慎重に変更を実装するための <a href=\"https://azure.microsoft.com/blog/advancing-safe-deployment-practices/\" target=\"_blank\">体系的かつ段階的なアプローチ</a> があることを確認します。</p>\n\n<p>Microsoft は、アーキテクチャ設計、運用プロセス、ハードウェアの問題、ソフトウェアの欠陥、および人間の要因が、障害と呼ばれるサービス インシデント&mdash;を引き起こす複雑な方法で固有の (時には微妙な) 欠陥を引き続き特定します。 私たちの業界の現実は、変化によって引き起こされる影響が本質的な問題であるということです。 停止通信について考えると、競合は他のクラウド プロバイダーではなく、オンプレミス環境であると考える傾向があります。 オンプレミスの変更ウィンドウは管理者によって制御されます。 変更を呼び出し、リスクを管理および監視し、障害が発生した場合はロールバックする最適なタイミングを選択します。</p>\n\n<p>同様に、オンプレミス環境で障害が発生した場合、顧客とユーザーは、より多くの&lsquo;知識があると感じます。&rsquo;リーダーシップは、迅速に停止を十分に認識し、トラブルシューティングのサポートにアクセスでき、問題が理解されると、チームまたはパートナー企業が、以前に根本原因分析 (RCA) と呼ばれる完全な事後インシデント レポート (PIR)&mdash;&mdash; を提供する立場にあることを期待しています。 Microsoft のデータ分析では、オンプレミスよりもクラウドでインシデントを軽減する時間が速くなるという仮説がサポートされていますが、問題とその問題に関して何ができるかを理解すると、クラウドの停止が顧客にとってよりストレスを感じる可能性があります。</p>\n\n<h2>コミュニケーションの原則の紹介</h2>\n\n<p>クラウドの停止中、一部のお客様は、迅速に情報を得られないか&rsquo;、必要な更新プログラムを見逃しているため、今後の問題の発生を防ぐために何が行われているのかを完全に理解していないと、以前から報告しています。 これらの認識に基づいて、通信戦略&mdash;を導く 5 つの柱が運営されるようになりました。その中で、Azure portalにおける <a href=\"https://www.aka.ms/ash-acom\" target=\"_blank\">Azure Service Health</a> のエクスペリエンスに影響を与え、次のものが含まれています。</p>\n\n<ol>\n    <li>速度</li>\n    <li>粒度</li>\n    <li>Discoverability (探索可能性)</li>\n    <li>パリティ</li>\n    <li>透明性</li>\n</ol>\n\n<h3>速度</h3>\n\n<p>影響を受けたお客様にできるだけ早く通知する必要があります。 これは、停止通信に関する重要な目標です。 Microsoft の目標は、障害が発生してから 15 分以内にすべての影響を受ける Azure サブスクリプションに通知することです。 私たちは人間だけでこれを達成できない&rsquo;と知っています。 エンジニアが監視アラートを調査して影響を確認する作業を行うまでには (適切なエンジニアに影響を与えてそれを軽減するどころか、サードパーティの依存関係を含む複雑な相互接続の配列になる可能性があります)、時間が過ぎました。 通信の遅延により、お客様から質問が残りますが、それは私ですか、 &ldquo;それとも Azure ですか?&rdquo; その後、お客様は自分の環境のトラブルシューティングに必要な時間を費やすことができます。 逆に、お客様に潜在的な影響があると思われるたびに注意を払ってコミュニケーションを取ると、お客様は誤検知を受け取る可能性があります。 さらに重要なのは、自分の環境で問題が発生している場合、これらの関連のない問題を、プラットフォームから送信される誤ったアラームに簡単に関連付けることができる点です。 通信を迅速かつ正確に行えるようにするための投資を行することが重要です。</p>\n\n<p>先月、<a href=\"https://azure.microsoft.com/blog/advancing-azure-service-quality-with-artificial-intelligence-aiops/\" target=\"_blank\">人工知能 (AIOps) を使用して Azure サービスの品質を向上させる継続的な</a>投資について説明しました。 これには、クラウド停止の自動検出、エンゲージメント、軽減の改善に向けた取り組みも含まれます。 この広範な AIOps プログラムの要素は、リソースに影響を与える可能性のある停止を顧客に通知するために、運用環境で既に使用されています。 これらの自動通知は、前四半期の停止通信の半分以上を表しました。 多くの Azure サービスでは、Service Health&mdash; 経由で影響を受けたお客様に対して、<a href=\"https://www.aka.ms/AzureServiceHealth\" target=\"_blank\">Azure portal</a>でアクセスするか、構成されている <a href=\"https://www.aka.ms/ash-alerts\" target=\"_blank\">Service Health アラート</a>をトリガーするために、10 分以内に自動通知が送信されます。詳細については、以下を参照してください。</p>\n\n<p>この分野への投資によってカスタマー エクスペリエンスが既に向上しているため、影響の開始時刻から 15 分以内にお客様に通知できるシナリオを、人間が顧客の影響を確認する必要なしに、引き続き拡張していきます。 また、AI ベースの運用の使用を拡大し、関連する影響を受けるサービスを自動的に特定し、軽減策に基づいて(サポートされているシナリオの) 解決通信を可能な限り迅速に送信する初期段階にあります。</p>\n\n<h3>粒度</h3>\n\n<p>停止によって影響が発生した場合、お客様は、影響を受けるリソースを正確に理解する必要があることを理解しています。 特定のリソースの正常性を取得するための重要な構成要素の 1 つは<a href=\"https://docs.microsoft.com/en-us/azure/service-health/resource-health-overview\" target=\"_blank\">、Resource Health</a>シグナルです。 Resource Healthシグナルは、仮想マシン (VM)、SQL データベース、ストレージ アカウントなどのリソースが正常な状態であるかどうかを確認します。 また、お客様は、<a href=\"https://docs.microsoft.com/en-us/azure/azure-monitor/\" target=\"_blank\">Azure Monitor</a> を利用する<a href=\"https://docs.microsoft.com/en-us/azure/service-health/resource-health-alert-arm-template-guide\" target=\"_blank\">Resource Healthアラート</a>を作成して、プラットフォーム全体の問題かどうかに関係なく、特定のリソースに問題があるかどうかを適切なユーザーに知らせることもできます。 これは重要です。リソースが異常になった (ゲスト内から VM が再起動された場合など) ために、Resource Healthアラートがトリガーされる可能性があります。これは、停止などのプラットフォーム イベントに必ずしも関連しているわけではありません。 顧客は、リソースの種類別に並べられた、関連する<a href=\"https://docs.microsoft.com/azure/service-health/resource-health-checks-resource-types\" target=\"_blank\">Resource Healthチェック</a>を確認できます。</p>\n\n<p>このテクノロジを基に、異常な状態に移行した各顧客リソースを、Service Health 内のプラットフォームの停止に拡張し、関連付けています。 また、影響を受けるリソースを通信ペイロードに含める方法についても調査しています。これにより、お客様&rsquo;は必ずしも Service Health にサインインして影響を受けるリソース&mdash;を理解する必要はありません。すべてのユーザーがこれをプログラムで使用できるようになります。</p>\n\n<p>これにより、多数のリソースを持つお客様は、障害が原因で影響を受けるサービスをより正確に把握でき、その側で調査を行う必要はありません。 さらに重要なのは、お客様は、Logic Apps と Azure Functions へのネイティブ統合を使用して、アラートを作成し、これらのリソース正常性アラートへの応答をトリガーできることです。</p>\n\n<h3>Discoverability (探索可能性)</h3>\n\n<p>停止通信のプッシュ&rsquo;と&lsquo;プル&rsquo;の両方&lsquo;のアプローチをサポートしていますが、適切な情報が適切なユーザーとシステムに自動的にプッシュされるように、お客様に関連するアラートを構成することをお勧めします。 顧客とパートナーは、関心のあるリソースが停止&mdash;の影響を受けるかどうかを検索する必要はありません。これらのリソースは、(選択したメディアで) 送信した通知を使用し、必要に応じてそれらに対応できる必要があります。 それでも、お客様は <a href=\"https://status.azure.com/\" target=\"_blank\">Azure の状態</a> ページにアクセスして、Azure 上のサービスの正常性を判断することが常に見つかります。</p>\n\n<p>認証されたポータル内 <a href=\"https://www.aka.ms/ash-acom\" target=\"_blank\">Service Health</a> エクスペリエンスを導入する前は、プラットフォームの既知の問題を検出する唯一の方法は [状態] ページでした。 最近では、このパブリック状態ページは、広範囲にわたる停止 (複数のリージョンや複数のサービスに影響を与えるなど) の通信にのみ使用されるため、影響を受ける可能性のある問題を探しているお客様には、ここには完全なストーリーが表示されません&rsquo;。 プラットフォームの変更を可能な限り安全にロールアウトするため、停止などの問題の大部分は、お客様のサブスクリプションの非常に小さな &lsquo;爆発半径&rsquo; にのみ影響します。 インシデントの 95% 以上を占めるこれらのインシデントについては、Service Health を介して、影響を受けたお客様にポータル内で直接通信します。</p>\n\n<p>また、最近、新しいイシュー&rsquo;機能を Service Health に統合しました&lsquo;。 つまり、パブリックステータスページにインシデントがあり、影響を受けたお客様を特定して通信していない場合、ユーザーは Service Health を介してポータル内でこの同じ情報を表示できるため、[状態] ページにアクセスしなくてもすべての関連情報を受け取ることができます。 すべての Azure ユーザーに、サービス インシデントに関連する情報を Service Health &lsquo;をワンストップ ショップ&rsquo; にして、影響を受ける問題を確認し、影響を受けるサブスクリプションとリソースを把握し、インシデントが [状態] ページに投稿された場合など、誤った相関関係を作成するリスクを回避するよう奨励しています。 が、それらに影響を与えていません。</p>\n\n<p>最も重要なのは、検出可能性の原則について説明しているため&rsquo;、Service Health のお客様は、Azure Monitor との統合を活用したプッシュ通知である <a href=\"https://www.aka.ms/ash-alerts\" target=\"_blank\">Service Health アラート</a>を作成できます。 これにより、顧客とパートナーは、受信する必要があるユーザーと、電子メール、SMS、LogicApp、および/または ServiceNow、PagerDuty、Ops Genie などのサービス管理ツールに統合できる Webhook を介して通知を受&mdash;け取る方法に基づいて、関連する通知を構成できます。</p>\n\n<p>簡単なアラートの使用を開始するには、すべての通知を 1 つの配布リストに電子メールでルーティングすることを検討してください。 これを次のレベルに引き上げるには、さまざまなユース ケース&mdash;に対して異なるサービス正常性アラートを構成することを検討してください。すべての運用環境の問題が ServiceNow に通知されます。開発とテスト、または運用前の問題は、関連する開発者チームにメールを送信するだけであり、特定のサブスクリプションに関する問題も重要なユーザーにテキスト メッセージを送信する可能性があります。 これらはすべて完全にカスタマイズ可能で、適切なユーザーに適切な方法で通知されるようにします。</p>\n\n<h3>パリティ</h3>\n\n<p>すべての Azure ユーザーは、サービスに影響を与えるすべてのイベントについて、Service Health が 1 つの場所であることを認識している必要があります。 まず、すべての異なる Azure サービスでこのエクスペリエンスが一貫していることを確認し、それぞれが Service Health を使用して問題を伝達します。 このように簡単に思えるほど、この複雑なシナリオの中ではまだいくつかのユニークなシナリオを進め続けているのです。 たとえば、Azure DevOpsを使用しているほとんどのユーザーは、Azure portalと対話しません&rsquo;。 DevOpsには独自の認証された Service Health エクスペリエンスがないため、影響を受けるお客様に直接更新プログラムを伝え、パブリック状態ページに移動することを正当化しない&rsquo;小規模なDevOps停止に対応することはできません&rsquo;。 このようなシナリオをサポートするために、<a href=\"https://status.dev.azure.com/\" target=\"_blank\">小規模なDevOps</a>停止をDevOpsコミュニティに直接伝えることができるAzure DevOps状態ページが立ち上がっています。</p>\n\n<p>次に、Service Health エクスペリエンスは、Azurethis&mdash; 全体で影響を受けるすべてのイベントを通信するように設計されています。これには、メンテナンス イベントだけでなく、サービスまたは機能の提供終了も含まれます。これには、広範囲にわたる停止と、単一のサブスクリプションにのみ影響を与える分離されたしゃっくり機能の両方が含まれます。 あらゆる影響 (可能性、実際、または今後) のお客様が同じエクスペリエンスを期待し、Azure 上のすべてのサービスで予測可能なアクション プランを策定することが不可欠です。</p>\n\n<p>最後に、この柱の理念を拡張し、他の Microsoft クラウド製品にまで拡張することに取り組んでいます。 Azure、Microsoft 365、Power Platform などのさまざまなクラウド製品間を移動すると、3 つの異なる企業のテクノロジをナビゲートするように感じることがあることを認識しています。 将来を見据えて、より一貫性のあるクラス最高のエクスペリエンスをもたらすために、これらの製品全体の調和に投資しています。</p>\n\n<h3>透明性</h3>\n\n<p>「高い信頼性」ブログシリーズで何度も触れたように、信頼が得られ、維持する必要があることを知っています。 停止に関しては、何が起こっているか、何を知っているか、知らない&rsquo;かについて透明性を持っていることが非常に重要であることを知っています。 クラウドはブラック ボックスのように感じるはずです&rsquo;。 サービスの問題時には、影響を受けるすべての顧客とパートナーに定期的な通信を提供します。 多くの場合、問題の調査の初期段階では、何が起こっているかについて&rsquo;詳しく学習するまで、これらの更新は詳細に見えない場合があります。 具体的な更新プログラムの共有に取り組んでいますが、停止中にこれらの更新に基づいてビジネス上の決定を行うお客様がわかっているため、一般的には投機の共有を避けるようにしています。</p>\n\n<p>さらに、顧客への影響が軽減されると、停止は終了しません。 問題の原因の複雑さについてまだ学習している可能性があるため、軽減策の有無に応じて送信されるメッセージは、発生した内容をかなり基本的に集計する場合があります。 重大なインシデントの場合は、一般的に 3 日以内に PIR を使用してこれをフォローアップします。これは、貢献要因の理解が深まったらです。</p>\n\n<p>影響を受ける可能性のあるインシデントのサブスクリプション数が少ない場合、お客様とパートナーは、インシデントの PIR を要求することで、Service Health 内からより多くの情報を要求できます。 過去に、PIR をさらに透過的にする必要があるとのフィードバックを聞いたことがあるため、インシデント マネージャーとコミュニケーション マネージャーは、問題の影響に関する情報を含め、可能な&mdash;限り詳細な情報を提供し、将来のリスクを軽減するための次の手順を引き続きお勧めします。 このクラスの問題が今後影響を受ける可能性が低く、または影響を受けにくいことを確認するのが理想的です。</p>\n\n<p>私たちの業界はサービスの停止に完全に影響を受けることはありませんが、私たちは包括的な観点から何が起こったかを見て、私たちの学習を共有するためにあらゆる機会を取ります。 私たちが注意深く見ている将来の投資分野の1つは、PIRの次のステップで概説されているコミットメントに関する進捗状況をお客様に最新の状態に保つ最善の方法です。 次のステップで内部修理品目を外部のコミットメントにリンクすることで、お客様とパートナーは、エンジニアリング チームが行っている進捗状況を追跡して、是正措置が確実に完了するようにすることができます。</p>\n\n<p>これらのすべてのシナリオ (停止、メンテナンス、サービス提供終了、正常性に関するアドバイザリ) に関する Microsoft の通信は、さらに学習し、これらの 5 つの柱をサポートするプログラムへの投資を続けるにつれて、進化し続けます。</p>\n\n<h2>信頼性は共有責任です</h2>\n\n<p>Microsoft は Azure プラットフォーム自体の信頼性を担当していますが、お客様とパートナーは、各ワークロードの要件に基づくアーキテクチャのベスト プラクティスを使用したクラウド アプリケーション&mdash;の信頼性に責任を負います。 クラウド内で信頼性の高いアプリケーションを構築することは、従来のアプリケーション開発とは異なります。 これまで、お客様は、アプリケーション プラットフォーム全体が失敗する可能性を最小限に抑えるために、冗長なハイエンド ハードウェアのレベルを購入している可能性があります。 クラウドでは、障害が発生することを事前に確認します。 上記で数回説明したように、すべての停止を防ぐことは決してできません。 Microsoft が障害を防ぐだけでなく、信頼性の高いアプリケーションをクラウドに構築する場合は、単一の障害が発生したコンポーネントの影響を最小限に抑えることが目標です。</p>\n\n<p>そのために、ワークロードの品質を向上させるために使用できる、<a href=\"https://aka.ms/wellarchitected/framework\" target=\"_blank\">Microsoft Azure Well-Architected Frameworka</a>&mdash; の一連のガイドテネトを最近立ち上げました。 信頼性は、コストの最適化、オペレーショナル エクセレンス、パフォーマンス効率、セキュリティと共に、アーキテクチャの卓越性の 5 つの柱の 1 つです。 Azure でワークロードが既に実行されていて、これらの 1 つ以上の分野でベスト プラクティスへの対応を評価する場合は、<a href=\"https://aka.ms/wellarchitected/review\" target=\"_blank\">Microsoft Azure Well-Architected レビュー</a>を試してください。</p>\n\n<p>具体的には、信頼性の柱として、信頼性の高い Azure アプリケーションを構築するための 6 つの手順について説明します。 分解されたワークロードとビジネス ニーズに基づいて<a href=\"https://docs.microsoft.com/en-us/azure/architecture/framework/resiliency/overview#define-requirements\" target=\"_blank\">、可用性と回復の要件を定義</a>します。 <a href=\"https://docs.microsoft.com/en-us/azure/architecture/framework/resiliency/overview#use-architectural-best-practices\" target=\"_blank\">アーキテクチャのベスト プラクティスを使用して</a> 、提案された/既存のアーキテクチャで考えられる障害ポイントを特定し、アプリケーションが障害にどのように対応するかを決定します。 <a href=\"https://docs.microsoft.com/en-us/azure/architecture/framework/resiliency/overview#test-with-simulations-and-forced-failovers\" target=\"_blank\">シミュレーションと強制フェールオーバーを使用してテストし、</a> さまざまな障害からの検出と復旧の両方をテストします。 信頼性の高い繰り返し可能なプロセスを使用して、アプリケーションを一貫してデプロイします。 アプリケーションの正常性を監視して障害を検出し、潜在的な障害のインジケーターを監視し、アプリケーションの正常性を測定します。 最後に、確立された戦略に基づいて対処する最善の方法を決定することで、障害や災害に対応します。</p>\n\n<p>障害通信に関する主要なトピックに戻り、各サービス インシデントの後に PIR に関連するWell-Architectedガイダンスを組み込むよう取り組んでいます。 重要なワークロードを実行しているお客様は、特定の障害からの影響を回避して軽減するのに役立つ信頼性を向上させるための特定の手順について学習できます。 たとえば、障害が単一 <a href=\"https://docs.microsoft.com/en-us/azure/availability-zones/az-overview\" target=\"_blank\">の可用性ゾーン</a>内のリソースにのみ影響を与えた場合は、PIR の一部としてこれを呼び出し、影響を受けたお客様に重要なワークロードのゾーン冗長を検討するよう促します。</p>\n\n<h2>今後の予定</h2>\n\n<p>サービス インシデントの発生中と停止後の通信に Azure がどのようにアプローチするかについて説明しました。 5つのコミュニケーションの柱について透明性を保ち、これまでの進捗状況と、引き続き投資する領域の両方を説明したいと考&rsquo;えています。 エンジニアリング チームがプラットフォームの信頼性を向上させるために各インシデントから学習するように努めるのと同様に、コミュニケーション チームは、各インシデントからより透明性を高め、顧客とパートナーに情報に基づいた意思決定を行い、これらの困難な状況の中で可能な限りお客様とパートナーをサポートするように努めています。</p>\n\n<p>私たちは、この分野で改善を続けるために適切な投資を行っていることを確信していますが、私たちのコミュニケーションがマークに達しているかどうかについてのフィードバックをますます探しています。 発行する各 PIR の最後に <a href=\"https://aka.ms/azurePIRsurvey\">、インシデント後の Azure アンケート</a> が含まれています。 お客様やパートナーから学び、適切な領域に重点を置いているかどうかを検証し、エクスペリエンスを向上させ続けるために、すべての対応を見直す努力をしています。</p>\n\n<p>アーキテクチャ設計、運用プロセス、ハードウェアの問題、ソフトウェアの欠陥、人的要因が障害の原因と一致する複雑な方法で、固有の (時には微妙な) 不完全性を引き続き特定します。 信頼は得られ、維持する必要があるため、これらのまれだが避けられないサービスの問題の間、私たちは可能&mdash;な限り透過的であることを約束しています。</p>\n"
}