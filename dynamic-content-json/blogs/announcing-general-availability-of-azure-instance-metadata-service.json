{
    "Slug": "announcing-general-availability-of-azure-instance-metadata-service",
    "Title": "グローバル Azure リージョンでのインスタンス メタデータ サービスの一般提供のお知らせ",
    "Summary": "We are excited to announce the general Availability of Azure Instance Metadata Service in all Global Azure regions. Azure Instance Metadata Service is a RESTful endpoint that allows virtual machines instances to get information regarding its compute, network and upcoming maintenance events.",
    "Content": "<p><strong>すべてのグローバル Azure </strong>リージョンでのインスタンス メタデータ サービスの一般提供と、ドイツ/政府および中国のクラウドでの<strong>パブリック プレビュー</strong>についてお知らせします。 インスタンス メタデータ サービスは RESTful エンドポイントであり、仮想マシン インスタンスはコンピューティング、ネットワーク、および <a href=\"https://aka.ms/scheduledevents\">今後のメンテナンス イベント</a>に関する情報を取得できます。 このエンドポイントは、VM からのみアクセスできる、よく知られているルーティング不可 IP アドレス (169.254.169.254) で使用できます。 Instance Metadata Service のデータは <a href=\"https://aka.ms/azureimds\">、クラスターのセットアップ、レプリカの配置、サポート可能性、テレメトリ、</a>またはその他のクラスター ブートストラップまたはランタイムのニーズに役立ちます。</p>\n\n<h2>サービスの可用性</h2>\n\n<p>サービスは、<strong>すべてのグローバル </strong>Azure リージョンで作成されたすべての Azure Resource Manager作成された VM で使用できます。 このサービスは、政府機関/中国/ドイツの Azure クラウドでもプレビューで利用できるようになりました。</p>\n\n<h2>詳細なドキュメント</h2>\n\n<p><a href=\"https://aka.ms/azureimds\">Azure Instance Metadata Service</a> についての詳細情報</p>\n\n<h2>インスタンス メタデータの取得</h2>\n\n<p>インスタンス メタデータ サービスは、<a href=\"https://docs.microsoft.com/en-us/rest/api/resources/?redirectedfrom=MSDN\">Azure Resource Manager</a> を使用して作成/管理された VM を実行するために使用できます。 インスタンスのすべてのデータ カテゴリにアクセスするには、Linux または Windows の次のサンプル コードを使用します。</p>\n\n<h3>Linux</h3>\n\n<p><code>curl -H Metadata:true <a href=\"\"></a></code></p>\n\n<h3>Windows</h3>\n\n<p><code>curl &ndash;H @{&lsquo;Metadata&rsquo;=&rsquo;true&rsquo;} <a href=\"\"></a></code></p>\n\n<p>すべてのインスタンス メタデータの既定の出力は json 形式 (コンテンツ タイプ Application/JSON) です</p>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/b71a0b83-c4e6-41c9-98fb-e828a6472d22.gif\"><img alt=\"Azure Instance Metadata Service\" height=\"734\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/d264d9e2-d2bc-4505-89fb-f4cd5f8b80d7.gif\" style=\"display: inline;\" title=\"Azure Instance Metadata Service\" width=\"1175\"></a></p>\n\n<h2>インスタンス メタデータ のデータ カテゴリ</h2>\n\n<p>次の表に、インスタンス メタデータで使用できるすべてのデータ カテゴリの一覧を示します。</p>\n\n<table border=\"0\" cellpadding=\"2\" cellspacing=\"0\" width=\"901\">\n <tbody>\n  <tr>\n   <td valign=\"top\" width=\"290\">データ</td>\n   <td valign=\"top\" width=\"609\">説明</td>\n  </tr>\n  <tr>\n   <td valign=\"top\" width=\"290\">\n   <p>location</p>\n   </td>\n   <td valign=\"top\" width=\"609\">\n   <p>VM が実行されている Azure リージョン</p>\n   </td>\n  </tr>\n  <tr>\n   <td valign=\"top\" width=\"290\">name</td>\n   <td valign=\"top\" width=\"609\">VM の名前</td>\n  </tr>\n  <tr>\n   <td valign=\"top\" width=\"290\">offer</td>\n   <td valign=\"top\" width=\"609\">VM イメージのプラン情報。これらの値は Azure イメージ ギャラリーからデプロイされるイメージについてのみ存在します</td>\n  </tr>\n  <tr>\n   <td valign=\"top\" width=\"290\">publisher</td>\n   <td valign=\"top\" width=\"609\">VM イメージの発行元</td>\n  </tr>\n  <tr>\n   <td valign=\"top\" width=\"290\">sku</td>\n   <td valign=\"top\" width=\"609\">VM イメージの特定の SKU</td>\n  </tr>\n  <tr>\n   <td valign=\"top\" width=\"290\">version</td>\n   <td valign=\"top\" width=\"609\">VM イメージのバージョン</td>\n  </tr>\n  <tr>\n   <td valign=\"top\" width=\"290\">osType</td>\n   <td valign=\"top\" width=\"609\">Linux または Windows</td>\n  </tr>\n  <tr>\n   <td valign=\"top\" width=\"290\">platformUpdateDomain</td>\n   <td valign=\"top\" width=\"609\">VM が実行されているドメインを更新します。</td>\n  </tr>\n  <tr>\n   <td valign=\"top\" width=\"290\">platformFaultDomain</td>\n   <td valign=\"top\" width=\"609\">VM が実行されている障害ドメイン。</td>\n  </tr>\n  <tr>\n   <td valign=\"top\" width=\"290\">vmId</td>\n   <td valign=\"top\" width=\"609\">VM の一意の ID。詳細については<a href=\"https://aka.ms/azureimds\">ここ</a>を参照</td>\n  </tr>\n  <tr>\n   <td valign=\"top\" width=\"290\">vmSize</td>\n   <td valign=\"top\" width=\"609\">VM サイズ</td>\n  </tr>\n  <tr>\n   <td valign=\"top\" width=\"290\">ipv4/privateIpAddress</td>\n   <td valign=\"top\" width=\"609\">VM のローカル IP アドレス</td>\n  </tr>\n  <tr>\n   <td valign=\"top\" width=\"290\">ipv4/publicIpAddress</td>\n   <td valign=\"top\" width=\"609\">インスタンスのパブリック IP アドレス</td>\n  </tr>\n  <tr>\n   <td valign=\"top\" width=\"290\">subnet/address</td>\n   <td valign=\"top\" width=\"609\">サブネットのアドレス</td>\n  </tr>\n  <tr>\n   <td valign=\"top\" width=\"290\">subnet/prefix</td>\n   <td valign=\"top\" width=\"609\">サブネット プレフィックス (例 24)</td>\n  </tr>\n  <tr>\n   <td valign=\"top\" width=\"290\">ipv6/ipaddress</td>\n   <td valign=\"top\" width=\"609\">VM の IPv6 アドレス</td>\n  </tr>\n  <tr>\n   <td valign=\"top\" width=\"290\">macAddress</td>\n   <td valign=\"top\" width=\"609\">VM の mac アドレス</td>\n  </tr>\n  <tr>\n   <td valign=\"top\" width=\"290\">scheduledevents</td>\n   <td valign=\"top\" width=\"609\"><a href=\"https://aka.ms/scheduledevents\">scheduledevents を</a>&nbsp;参照<strong>してください (プレビュー段階)</strong></td>\n  </tr>\n </tbody>\n</table>\n\n<p>&nbsp;</p>\n\n<h2>FAQ</h2>\n\n<p>&nbsp;</p>\n\n<ul>\n <li>要求が正しくありません。必須のメタデータ ヘッダーが指定されていません。 これはどういう意味でしょうか。\n <p>Metadata Service では、要求で Metadata:true のヘッダーを渡す必要があります。 ヘッダーを渡すとアクセスが許可されます</p>\n </li>\n <li>VM のコンピューティング情報が取得されないのはなぜですか&nbsp; ?\n <p>現在、インスタンス メタデータ サービスでは Azure Resource Manager作成されたインスタンスのみがサポートされています。今後、Cloud Services (クラシック) VM のサポートを追加する予定です</p>\n </li>\n <li>しばらく前に ARM を使用して仮想マシンを作成しましたが、コンピューティング メタデータ情報が表示されないのはなぜですか?\n <p>2016 年 9 月以降に作成された VM の場合は、新しい <a href=\"https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-using-tags\">タグ</a> を追加するだけで、コンピューティング メタデータの表示を開始できます。 古い VM (2016 年 9 月より前に作成) の場合、メタデータを更新するには VM に <a href=\"https://docs.microsoft.com/en-us/azure/virtual-machines/windows/classic/manage-extensions\">拡張機能</a> を追加または削除する必要があります</p>\n </li>\n <li>\"500 - 内部サーバー エラー\" というエラーを受け取るのはなぜですか。</li>\n</ul>\n\n<p>&nbsp;&nbsp;&nbsp;指数バックオフ システムに基づいて要求を再試行してください。 問題が解決しない場合は、連絡先Azure サポート。</p>\n\n<ul>\n <li>その他の質問/コメントはどこで共有すればいいですか。\n <p>にコメントを送信する <a href=\"https://feedback.azure.com\">https://feedback.azure.com</a></p>\n </li>\n</ul>\n"
}