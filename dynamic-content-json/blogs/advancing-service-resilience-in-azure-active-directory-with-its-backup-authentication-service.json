{
    "Slug": "advancing-service-resilience-in-azure-active-directory-with-its-backup-authentication-service",
    "Title": "バックアップ認証サービスを使用したAzure Active Directoryでのサービスの回復性の向上",
    "Summary": "The most critical promise of our identity services is ensuring that every user can access the apps and services they need without interruption. We’ve been strengthening this promise to you through a multi-layered approach, leading to our improved promise of 99.99 percent authentication uptime for Azure Active Directory (Azure AD).",
    "Content": "<p><em>&ldquo;Azure プラットフォームとサービスの信頼性の向上に関連する重要な更新プログラムと取り組みを取り上げる、<a href=\"https://www.aka.ms/AdvancingReliability\" target=\"_blank\">継続的な信頼性ブログ シリーズ</a>では、現在、Azure Active Directory (Azure AD) に焦点を当てています。<a href=\"https://azure.microsoft.com/blog/advancing-azure-active-directory-availability/\" target=\"_blank\">2019</a> 年にこのシリーズの一部として、Azure ADのコア 可用性の原則をレイアウトしました。そのため、Ive&rsquo; は、お客様とパートナーにとって非常に重要な ID およびアクセス管理サービスの信頼性を確保するために、エンジニアリング チームがどのように取り組んでいるかについての最新の更新プログラムを提供するよう<strong>、ナディム アブド</strong>(Corporate Vice President, Engineering) に依頼しました。&rdquo;&mdash;</em>Mark Russinovich、CTO、Azure</p>\n\n<hr>\n<p>&nbsp;</p>\n\n<p>ID サービスの最も重要な約束は、すべてのユーザーが中断することなく必要なアプリとサービスにアクセスできるようにすることです。 Weve&rsquo; は<a href=\"https://azure.microsoft.com/en-us/blog/advancing-azure-active-directory-availability/\" target=\"_blank\">多層的なアプローチ</a>を通じてこの約束を強化し、<a href=\"https://azure.microsoft.com/en-us/services/active-directory/\" target=\"_blank\">Azure Active Directory (Azure AD)</a> の <a href=\"https://techcommunity.microsoft.com/t5/azure-active-directory-identity/99-99-uptime-for-azure-active-directory/ba-p/1999628\" target=\"_blank\">99.99% の認証アップタイム</a>という約束を改善しました。 今日は、Azure ADがさらに高いレベルの回復性を実現できる一般提供技術の詳細を共有することに興奮しています。</p>\n\n<p>プライマリ Azure AD サービスが使用できない場合、Azure ADバックアップ認証サービスは透過的かつ自動的に、サポートされているワークロードの認証を処理します。 Azure ADの複数レベルの冗長性の上に回復性のレイヤーが追加されます。 完全に透過的で自動な状態を保ちながら、追加のフォールト トレランスを提供するように設計されたバックアップ ジェネレーターまたは無停電電源装置と考えることができます。 このシステムは Microsoft クラウドで動作しますが、プライマリ Azure AD システムとは別の、装飾に関連したシステムとネットワーク パス上で動作します。 つまり、多くのAzure ADおよび依存する Azure サービスでサービス、ネットワーク、または容量の問題が発生した場合でも、引き続き動作できます。</p>\n\n<h2>サービスの対象となるワークロードは何ですか?</h2>\n\n<p>このサービスは、2019 年以来、Outlook Web Access と SharePoint Online のワークロードを保護しています。 今年の初めに、デスクトップとモバイル デバイス、または &ldquo;ネイティブ&rdquo; アプリで実行されているアプリケーションのバックアップ サポートを完了しました。 Office 365やTeamsを含むすべての Microsoft ネイティブ アプリに加え、デバイス上でネイティブに実行されている Microsoft 以外および顧客所有のアプリケーションについて説明します。 バックアップ認証カバレッジを受け取るために特別な操作や構成の変更は必要ありません。</p>\n\n<p>2021 年末から、より多くの Web ベースのアプリケーションのサポートのロールアウトを開始します。 Teams Online や Office 365 などの Microsoft Web アプリから始め、Open ID Connect と Security Assertion Markup Language (SAML) を使用する顧客所有の Web アプリを使用して、Open ID Connect を使用するアプリを段階的に実行します。</p>\n\n<h2>サービスのしくみ</h2>\n\n<p>Azure ADプライマリ サービスの障害が検出されると、バックアップ認証サービスが自動的に関与し、ユーザー&rsquo; アプリケーションが動作し続けることができます。 プライマリ サービスが復旧すると、認証要求はプライマリ Azure AD サービスに再ルーティングされます。 バックアップ認証サービスは、次の 2 つのモードで動作します。</p>\n\n<ul>\n    <li><strong>標準モード:</strong> バックアップ サービスは、通常の動作状態の間に重要な認証データを格納します。 Azure ADから依存アプリへの認証応答が成功すると、バックアップ サービスによって最大 3 日間安全に保存されるセッション固有のデータが生成されます。 認証データは、デバイスとユーザーとアプリのリソースの組み合わせに固有であり、ある時点での成功した認証のスナップショットを表します。</li>\n    <li><strong>停止モード:</strong>認証要求が予期せず失敗すると、Azure AD ゲートウェイによって自動的にバックアップ サービスにルーティングされます。 次に、要求を認証し、提示された成果物が有効であることを確認し (更新トークン、セッション Cookie など)、以前に格納されたデータで厳密なセッション一致を検索します。 システムが生成したプライマリ Azure ADと一致する認証応答がアプリケーションに送信されます。 復旧時に、トラフィックはプライマリ Azure AD サービスに動的に再ルーティングされます。</li>\n</ul>\n\n<p><a href=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/2c142258-7521-4a61-9372-3c27330c4a28.png\"><img alt=\"Diagram showing clients/services like Outlook and Exchange Online accessing tokens – including cached access tokens from the new Backup Auth service\" border=\"0\" height=\"529\" src=\"https://azurecomcdn.azureedge.net/mediahandler/acomblog/media/Default/blog/a800fc14-3405-4bee-9558-f755641ef621.png\" style=\"border: 0px currentcolor; border-image: none; display: inline; background-image: none;\" title=\"トークン アクセス フロー チャート\" width=\"1024\"></a></p>\n\n<p>バックアップ サービスへのルーティングは自動的に行われ、その認証応答は通常プライマリ Azure AD サービスからの応答と一致します。 これは、アプリケーションの変更や手動による介入を必要とせず、保護が開始されることを意味します。</p>\n\n<p>バックアップ認証サービスの優先順位は、認証が最近付与されたアプリまたはリソースへのアクセスに対するユーザーの生産性を維持することです。 これは、実際には、Azure AD&mdash; 93% に対する要求のほとんどの種類です。 &ldquo;ユーザーの現在のデバイスで&rsquo;最近アクセスが許可されなかった 3 日間のストレージ期間を超える新しい&rdquo;認証は、現在、停止中はサポートされていませんが、ほとんどのユーザーは、一貫したデバイスから毎日最も重要なアプリケーションにアクセスします。</p>\n\n<h2>障害発生時にセキュリティ ポリシーとアクセス コンプライアンスはどのように適用されますか?</h2>\n\n<p>バックアップ認証サービスは、停止の直前にこれらのイベントが検出された場合でも、ユーザー アクセスに影響を与えるセキュリティ イベントを継続的に監視してアカウントをセキュリティで保護します。 <a href=\"https://docs.microsoft.com/en-us/azure/active-directory/conditional-access/concept-continuous-access-evaluation\" target=\"_blank\">継続的アクセス評価</a>を使用して、無効になったセッションがすぐに取り消されるようにします。 バックアップ サービスが停止中にアクセスを制限する原因となるセキュリティ イベントの例としては、デバイスの状態の変更、アカウントの無効化、アカウントの削除、管理者によるアクセスの取り消し、ユーザー リスクの高いイベントの検出などがあります。 プライマリ認証サービスが復元された後にのみ、セキュリティ イベントを持つユーザーはアクセスを回復できます。</p>\n\n<p>さらに、バックアップ認証サービスは条件付きアクセス ポリシーを適用します。 ポリシーは、停止中にアクセスを許可する前にバックアップ サービスによって再評価され、適用されるポリシーと、多要素認証 (MFA) などの適用可能なポリシーに必要な制御が満たされているかどうかを判断します。 バックアップ サービスによって認証要求が受信され、MFA などのコントロールが満たされていない場合、その認証はブロックされます。</p>\n\n<p>ユーザー、アプリケーション、デバイス プラットフォーム、IP アドレスなどの条件に依存する条件付きアクセス ポリシーは、バックアップ認証サービスによって検出されたリアルタイム データを使用して適用されます。 ただし、特定のポリシー条件 (サインイン リスクやロール メンバーシップなど) はリアルタイムで評価できず、回復性の設定に基づいて評価されます。 回復性の既定値を使用すると、障害発生時に条件 (グループ メンバーシップなど) をリアルタイムで使用できない場合に、Azure ADで生産性を安全に最大化できます。 サービスは、停止直前の最新のアクセス以降に条件が変更されていないと仮定してポリシーを評価します。</p>\n\n<p>回復性の既定値を有効にしておくことをお客様に強くお勧めしますが、条件付きアクセス条件をリアルタイムで評価できない場合、管理者が停止中にアクセスをブロックするシナリオもあります。 このようなまれなケースでは、管理者は条件付きアクセス内のポリシーごとに <a href=\"https://aka.ms/resiliencedefaultsdocs\" target=\"_blank\">回復性の既定値を無効にすることができます</a> 。 ポリシーによって回復性の既定値が無効になっている場合、バックアップ認証サービスは、リアルタイム ポリシー条件の対象となる要求を処理しません。つまり、それらのユーザーがプライマリ Azure ADの停止によってブロックされる可能性があります。</p>\n\n<h2>次は何ですか?</h2>\n\n<p><a href=\"https://azure.microsoft.com/en-us/services/active-directory/\" target=\"_blank\">Azure AD</a>バックアップ認証サービスは、Azure ADプライマリ認証が停止する可能性の低いシナリオで、ユーザーの生産性を維持するのに役立ちます。 このサービスは、装飾に関連する Microsoft クラウドとネットワーク経路で、サービスに対して透過的な冗長性のレイヤーを提供します。 将来的には、パブリック クラウドを超えてプロトコルサポート、シナリオサポート、カバレッジを拡大し続け、上級のお客様向けのサービスの可視性を拡大していきます。</p>\n\n<p>継続的な信頼とパートナーシップに感謝します。</p>\n"
}